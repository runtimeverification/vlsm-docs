<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>MsgDepLimitedEquivocation.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+â†‘</kbd> <kbd>Ctrl+â†“</kbd> to navigate, <kbd>Ctrl+ğŸ–±ï¸</kbd> to focus. On Mac, use <kbd>âŒ˜</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Reals.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras StdppListSet ListSetExtras FinFunExtras Measurable.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM AnnotatedVLSM MessageDependencies VLSMProjections Composition  ProjectionTraces SubProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation Equivocation.FixedSetEquivocation Equivocation.TraceWiseEquivocation Equivocation.LimitedEquivocation Equivocation.MsgDepFixedSetEquivocation.</span></span></pre><div class="doc">
To allow capturing the two models of limited equivocation described in the
    sections below, we first define a notion of limited equivocation parameterized
    on a function yielding the set of equivocators induced by a received message,
    other that the message sender.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_coequivocating_senders_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{EqDecision validator}
  `{ReachableThreshold validator}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  (coequivocating_senders : composite_state IM -&gt; message -&gt; <span class="nb">set</span> validator)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_message_equivocators</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message)
  : <span class="nb">set</span> validator :=
  <span class="kr">if</span> decide (composite_has_been_observed IM s m)
  <span class="kr">then</span> <span class="c">(* no additional equivocation *)</span>
    []
  <span class="kr">else</span> <span class="c">(* m itself and all its non-observed dependencies are equivocating. *)</span>
    map_option sender [m] ++ coequivocating_senders s m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_composite_transition_message_equivocators</span>
  (<span class="nv">l</span> : composite_label IM)
  (<span class="nv">som</span> : annotated_state (free_composite_vlsm IM) (<span class="nb">set</span> validator) * option message)
  : <span class="nb">set</span> validator :=
  <span class="kr">match</span> som <span class="kr">with</span>
  | (sa, None) =&gt; state_annotation sa
  | (sa, Some m) =&gt;
    set_union (state_annotation sa) (coeqv_message_equivocators (original_state sa) m)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_limited_equivocation_constraint</span>
  (<span class="nv">l</span> : composite_label IM)
  (<span class="nv">som</span> : annotated_state (free_composite_vlsm IM) (<span class="nb">set</span> validator) * option message)
  : <span class="kt">Prop</span> :=
  (sum_weights (coeqv_composite_transition_message_equivocators l som) &lt;= proj1_sig threshold)%R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global Instance</span> <span class="nf">empty_validators_inhabited</span> : Inhabited {s : <span class="nb">set</span> validator | s = empty_set}
  := populate (exist _ _ eq_refl).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_limited_equivocation_vlsm</span> : VLSM message :=
  annotated_vlsm (free_composite_vlsm IM) (<span class="nb">set</span> validator) (<span class="kr">fun</span> <span class="nv">s</span> =&gt; s = empty_set)
    coeqv_limited_equivocation_constraint coeqv_composite_transition_message_equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_annotate_trace_with_equivocators</span> :=
  annotate_trace (free_composite_vlsm IM) (<span class="nb">set</span> validator) (<span class="kr">fun</span> <span class="nv">s</span> =&gt; s = empty_set)
    coeqv_composite_transition_message_equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk0"><span class="kn">Lemma</span> <span class="nf">coeqv_limited_equivocation_transition_state_annotation_incl</span> [l s iom s&#39; oom]
  : vtransition coeqv_limited_equivocation_vlsm l (s, iom) = (s&#39;, oom) -&gt;
    state_annotation s âŠ† state_annotation s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition coeqv_limited_equivocation_vlsm l (s, iom) =
(s&#39;, oom) â†’ state_annotation s âŠ† state_annotation s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition coeqv_limited_equivocation_vlsm l (s, iom) =
(s&#39;, oom) â†’ state_annotation s âŠ† state_annotation s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2"><span class="nb">cbn</span>; <span class="nb">unfold</span> annotated_transition; <span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (_s&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({|
   original_state := _s&#39;;
   state_annotation :=
     coeqv_composite_transition_message_equivocators l
       (s, iom)
 |}, _om&#39;) = (s&#39;, oom)
â†’ state_annotation s âŠ† state_annotation s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk3"><span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>({|
   original_state := _s&#39;;
   state_annotation :=
     coeqv_composite_transition_message_equivocators
       l (s, iom)
 |}, _om&#39;) = (s&#39;, oom)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>{|
  original_state := _s&#39;;
  state_annotation :=
    <span class="kr">match</span> iom <span class="kr">with</span>
    | Some m =&gt;
        set_union (state_annotation s)
          (coeqv_message_equivocators
             (original_state s) m)
    | None =&gt; state_annotation s
    <span class="kr">end</span>
|} = s&#39;</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>_om&#39; = oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_annotation s
âŠ† <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      set_union (state_annotation s)
        (coeqv_message_equivocators (original_state s)
           m)
  | None =&gt; state_annotation s
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> iom <span class="kr">as</span> [m |]; [<span class="nb">apply</span> set_union_subseteq_left | <span class="bp">reflexivity</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk4"><span class="kn">Lemma</span> <span class="nf">coeqv_limited_equivocation_state_annotation_nodup</span> <span class="nv">s</span>
  : valid_state_prop coeqv_limited_equivocation_vlsm s -&gt;
    NoDup (state_annotation s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop coeqv_limited_equivocation_vlsm s
â†’ NoDup (state_annotation s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop coeqv_limited_equivocation_vlsm s
â†’ NoDup (state_annotation s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk6"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (state_annotation s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  coeqv_limited_equivocation_vlsm l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>NoDup (state_annotation s)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk7"><hr></label><div class="goal-conclusion">NoDup (state_annotation s&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (state_annotation s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> s, Hs <span class="kr">as</span> [_ -&gt;]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  coeqv_limited_equivocation_vlsm l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>NoDup (state_annotation s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (state_annotation s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka"><span class="nb">destruct</span> Ht <span class="kr">as</span> [_ Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  coeqv_composite_transition_message_equivocators
  l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>NoDup (state_annotation s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (state_annotation s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb"><span class="nb">unfold</span> annotated_transition <span class="kr">in</span> Ht
    ; <span class="nb">destruct</span> (vtransition _ _ _); <span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>({|
   original_state := s0;
   state_annotation :=
     coeqv_composite_transition_message_equivocators
       l (s, om)
 |}, o) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>NoDup (state_annotation s)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>{|
  original_state := s0;
  state_annotation :=
    <span class="kr">match</span> om <span class="kr">with</span>
    | Some m =&gt;
        set_union (state_annotation s)
          (coeqv_message_equivocators
             (original_state s) m)
    | None =&gt; state_annotation s
    <span class="kr">end</span>
|} = s&#39;</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>o = om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (state_annotation
     {|
       original_state := s0;
       state_annotation :=
         <span class="kr">match</span> om <span class="kr">with</span>
         | Some m =&gt;
             set_union (state_annotation s)
               (coeqv_message_equivocators
                  (original_state s) m)
         | None =&gt; state_annotation s
         <span class="kr">end</span>
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> om <span class="kr">as</span> [m |]; <span class="nb">cbn</span>; [<span class="nb">apply</span> set_union_nodup_left |]; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc"><span class="kn">Lemma</span> <span class="nf">coeqv_limited_equivocation_state_not_heavy</span> <span class="nv">s</span>
  : valid_state_prop coeqv_limited_equivocation_vlsm s -&gt;
    (sum_weights (state_annotation s) &lt;= proj1_sig threshold)%R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop coeqv_limited_equivocation_vlsm s
â†’ (sum_weights (state_annotation s) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop coeqv_limited_equivocation_vlsm s
â†’ (sum_weights (state_annotation s) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (state_annotation s) &lt;= `threshold)%R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  coeqv_limited_equivocation_vlsm l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>(sum_weights (state_annotation s) &lt;=
 `threshold)%R</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkf"><hr></label><div class="goal-conclusion">(sum_weights (state_annotation s&#39;) &lt;= `threshold)%R</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (state_annotation s) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11"><span class="nb">destruct</span> s, Hs <span class="kr">as</span> [_ -&gt;], threshold; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>_composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>original_state</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>state_annotation</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> validator</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(x &gt;= <span class="mi">0</span>)%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> &lt;= x)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Rge_le; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  coeqv_limited_equivocation_vlsm l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>(sum_weights (state_annotation s) &lt;=
 `threshold)%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (state_annotation s&#39;) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk13"><span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; _ &amp; Hc) Ht]
    ; <span class="nb">cbn</span> <span class="kr">in</span> Ht; <span class="nb">unfold</span> annotated_transition <span class="kr">in</span> Ht; <span class="nb">destruct</span> (vtransition _ _ _)
    ; <span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>coequivocating_senders</var><span class="hyp-type"><b>: </b><span>composite_state IM
â†’ message â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>coeqv_limited_equivocation_constraint l (s, om)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>(sum_weights (state_annotation s) &lt;=
 `threshold)%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights
   (state_annotation
      {|
        original_state := s0;
        state_annotation :=
          <span class="kr">match</span> om <span class="kr">with</span>
          | Some m =&gt;
              set_union (state_annotation s)
                (coeqv_message_equivocators
                   (original_state s) m)
          | None =&gt; state_annotation s
          <span class="kr">end</span>
      |}) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> om <span class="kr">as</span> [m |]; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_limited_equivocation_projection_validator_prop</span> : index -&gt; <span class="kt">Prop</span> :=
  annotated_projection_validator_prop IM (<span class="kr">fun</span> <span class="nv">s</span> =&gt; s = empty_set)
    coeqv_limited_equivocation_constraint coeqv_composite_transition_message_equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_limited_equivocation_message_validator_prop</span> : index -&gt; <span class="kt">Prop</span> :=
  annotated_message_validator_prop IM (<span class="kr">fun</span> <span class="nv">s</span> =&gt; s = empty_set)
    coeqv_limited_equivocation_constraint coeqv_composite_transition_message_equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeqv_limited_equivocation_projection_validator_prop_alt</span> : index -&gt; <span class="kt">Prop</span> :=
  annotated_projection_validator_prop_alt IM (<span class="kr">fun</span> <span class="nv">s</span> =&gt; s = empty_set)
    coeqv_limited_equivocation_constraint coeqv_composite_transition_message_equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_coequivocating_senders_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_msg_dep_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  (full_message_dependencies : message -&gt; <span class="nb">set</span> message)
  `{EqDecision validator}
  `{ReachableThreshold validator}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">not_observed_happens_before_dependencies</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message)
  : <span class="nb">set</span> message :=
  filter (<span class="kr">fun</span> <span class="nv">dm</span> =&gt; ~composite_has_been_observed IM s dm) (full_message_dependencies m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_coequivocating_senders</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message)
  : <span class="nb">set</span> validator :=
  map_option sender (not_observed_happens_before_dependencies s m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_limited_equivocation_vlsm</span> : VLSM message :=
  coeqv_limited_equivocation_vlsm IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_message_equivocators</span> :=
  coeqv_message_equivocators IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_annotate_trace_with_equivocators</span> :=
  coeqv_annotate_trace_with_equivocators IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_composite_transition_message_equivocators</span> :=
  coeqv_composite_transition_message_equivocators IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_limited_equivocation_projection_validator_prop</span> :=
  coeqv_limited_equivocation_projection_validator_prop IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_limited_equivocation_message_validator_prop</span> :=
  coeqv_limited_equivocation_message_validator_prop IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_limited_equivocation_projection_validator_prop_alt</span> :=
  coeqv_limited_equivocation_projection_validator_prop_alt IM sender msg_dep_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14"><span class="kn">Lemma</span> <span class="nf">msg_dep_annotate_trace_with_equivocators_project</span> <span class="nv">s</span> <span class="nv">tr</span>
  : pre_VLSM_full_projection_finite_trace_project (type msg_dep_limited_equivocation_vlsm)
    (composite_type IM) Datatypes.id original_state
    (msg_dep_annotate_trace_with_equivocators s tr) = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item (free_composite_vlsm IM))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_finite_trace_project
  (type msg_dep_limited_equivocation_vlsm)
  (composite_type IM) Datatypes.id original_state
  (msg_dep_annotate_trace_with_equivocators s tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item (free_composite_vlsm IM))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_finite_trace_project
  (type msg_dep_limited_equivocation_vlsm)
  (composite_type IM) Datatypes.id original_state
  (msg_dep_annotate_trace_with_equivocators s tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (annotate_trace_project (free_composite_vlsm IM) (<span class="nb">set</span> validator)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_msg_dep_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_full_node_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{EqDecision validator}
  `{ReachableThreshold validator}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_coequivocating_senders</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message)
  : <span class="nb">set</span> validator := [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_limited_equivocation_vlsm</span> : VLSM message :=
  coeqv_limited_equivocation_vlsm IM sender full_node_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_composite_transition_message_equivocators</span> :=
  coeqv_composite_transition_message_equivocators IM sender full_node_coequivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_full_node_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_full_node_msg_dep_limited_equivocation_equivalence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  (full_message_dependencies : message -&gt; <span class="nb">set</span> message)
  `{EqDecision validator}
  `{ReachableThreshold validator}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  (message_dependencies : message -&gt; <span class="nb">set</span> message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies message_dependencies (IM i)}
  `{FullMessageDependencies message message_dependencies full_message_dependencies}
  (Hfull : <span class="kr">forall</span> <span class="nv">i</span>, message_dependencies_full_node_condition_prop message_dependencies (IM i))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk16"><span class="kn">Lemma</span> <span class="nf">full_node_msg_dep_coequivocating_senders</span> <span class="nv">s</span> <span class="nv">m</span> <span class="nv">i</span> <span class="nv">li</span>
  (<span class="nv">Hvalid</span> : input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li (s i, Some m))
  : msg_dep_coequivocating_senders IM full_message_dependencies sender s m = [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_coequivocating_senders IM
  full_message_dependencies sender s m = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_coequivocating_senders IM
  full_message_dependencies sender s m = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk18"><span class="nb">cut</span> (<span class="kr">forall</span> <span class="nv">v</span>, v âˆ‰ msg_dep_coequivocating_senders IM full_message_dependencies sender s m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
   v
   âˆ‰ msg_dep_coequivocating_senders IM
       full_message_dependencies sender s m)
â†’ msg_dep_coequivocating_senders IM
    full_message_dependencies sender s m = []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk19"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
  v
  âˆ‰ msg_dep_coequivocating_senders IM
      full_message_dependencies sender s m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
   v
   âˆ‰ msg_dep_coequivocating_senders IM
       full_message_dependencies sender s m)
â†’ msg_dep_coequivocating_senders IM
    full_message_dependencies sender s m = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1b"><span class="nb">intros</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
  v
  âˆ‰ msg_dep_coequivocating_senders IM
      full_message_dependencies sender s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_coequivocating_senders IM
  full_message_dependencies sender s m = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (msg_dep_coequivocating_senders IM full_message_dependencies sender s m)
    ; [<span class="bp">reflexivity</span> | <span class="bp">contradiction</span> (Hv v); <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
  v
  âˆ‰ msg_dep_coequivocating_senders IM
      full_message_dependencies sender s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1d"><span class="nb">setoid_rewrite</span> elem_of_map_option; <span class="nb">setoid_rewrite</span> elem_of_list_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
  Â¬ (<span class="kr">âˆƒ</span> <span class="nv">a</span> : message,
       (Â¬ composite_has_been_observed IM s a
        âˆ§ a âˆˆ full_message_dependencies m)
       âˆ§ sender a = Some v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1e"><span class="nb">intros</span> v [dm [[Hnobs Hdm] Hsender]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s dm</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk1f"><span class="bp">contradict</span> Hnobs; <span class="kr">exists</span> <span class="nv">i</span>; <span class="nb">clear</span> Hsender; <span class="nb">revert</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk20"><span class="nb">cut</span> (<span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
        has_been_observed (IM i) (s i) m -&gt;
        has_been_observed (IM i) (s i) dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
   msg_dep_rel message_dependencies dm m
   â†’ has_been_observed (IM i) (s i) m
     â†’ has_been_observed (IM i) (s i) dm)
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    dm âˆˆ full_message_dependencies m
    â†’ has_been_observed (IM i) (s i) dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk21"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk22">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
   msg_dep_rel message_dependencies dm m
   â†’ has_been_observed (IM i) (s i) m
     â†’ has_been_observed (IM i) (s i) dm)
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    dm âˆˆ full_message_dependencies m
    â†’ has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk23"><span class="nb">setoid_rewrite</span> full_message_dependencies_happens_before
    ; <span class="nb">setoid_rewrite</span> msg_dep_happens_before_iff_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
   msg_dep_rel message_dependencies dm m
   â†’ has_been_observed (IM i) (s i) m
     â†’ has_been_observed (IM i) (s i) dm)
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
         msg_dep_happens_before message_dependencies
           dm y âˆ§ msg_dep_rel message_dependencies y m)
    â†’ has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk24"><span class="nb">intros</span> Hdeps dm [Hdm | [dm&#39; [Hdm&#39; Hdm]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (IM i) (s i) dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk25"><hr></label><div class="goal-conclusion">has_been_observed (IM i) (s i) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> Hfull; [<span class="nb">apply</span> Hvalid | <span class="bp">eassumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk27">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk28"><span class="nb">eapply</span> msg_dep_happens_before_reflect; [<span class="bp">eassumption</span> | <span class="bp">eassumption</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (IM i) (s i) dm&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> Hfull; [<span class="nb">apply</span> Hvalid | <span class="bp">eassumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk29">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (s i, Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_observed (IM i) (s i) m
    â†’ has_been_observed (IM i) (s i) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_full_node_reflects_has_been_observed
  ; [<span class="nb">typeclasses eauto</span> | <span class="nb">apply</span> Hfull | <span class="nb">apply</span> Hvalid].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2a"><span class="kn">Lemma</span> <span class="nf">annotated_free_input_valid_projection</span>
  <span class="nv">iprop</span> `{Inhabited (sig iprop)} <span class="kp">constr</span> trans
  i li s om
  : input_valid (annotated_vlsm (free_composite_vlsm IM) (<span class="nb">set</span> validator) iprop <span class="kp">constr</span> trans) (existT i li) (s, om) -&gt;
    input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li (original_state s i, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>iprop</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> validator â†’ <span class="kt">Prop</span></span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Inhabited {x : <span class="nb">set</span> validator | iprop x}</span></span></span><br><span><var>constr</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>trans</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message
  â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) i</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (annotated_vlsm (free_composite_vlsm IM)
     (<span class="nb">set</span> validator) iprop <span class="kp">constr</span> trans) (existT i li)
  (s, om)
â†’ input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    (original_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>iprop</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> validator â†’ <span class="kt">Prop</span></span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Inhabited {x : <span class="nb">set</span> validator | iprop x}</span></span></span><br><span><var>constr</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>trans</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message
  â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) i</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (annotated_vlsm (free_composite_vlsm IM)
     (<span class="nb">set</span> validator) iprop <span class="kp">constr</span> trans) (existT i li)
  (s, om)
â†’ input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    (original_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2c"><span class="nb">intro</span> Hvalid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>iprop</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> validator â†’ <span class="kt">Prop</span></span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Inhabited {x : <span class="nb">set</span> validator | iprop x}</span></span></span><br><span><var>constr</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>trans</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message
  â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) i</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (annotated_vlsm (free_composite_vlsm IM)
     (<span class="nb">set</span> validator) iprop <span class="kp">constr</span> trans)
  (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2d"><span class="nb">eapply</span> (VLSM_projection_input_valid (preloaded_component_projection IM i))
  ; [<span class="nb">apply</span> (composite_project_label_eq IM) |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>iprop</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> validator â†’ <span class="kt">Prop</span></span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Inhabited {x : <span class="nb">set</span> validator | iprop x}</span></span></span><br><span><var>constr</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>trans</var><span class="hyp-type"><b>: </b><span>label
â†’ annotated_state (free_composite_vlsm IM)
    (<span class="nb">set</span> validator) * option message
  â†’ <span class="nb">set</span> validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) i</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (annotated_vlsm (free_composite_vlsm IM)
     (<span class="nb">set</span> validator) iprop <span class="kp">constr</span> trans)
  (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) (existT i li)
  (original_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_input_valid (vlsm_incl_pre_loaded_with_all_messages_vlsm (free_composite_vlsm IM))),
        (VLSM_full_projection_input_valid (forget_annotations_projection (free_composite_vlsm IM) _ _ _))
  ; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2e"><span class="kn">Lemma</span> <span class="nf">full_node_msg_dep_composite_transition_message_equivocators</span>
  <span class="nv">i</span> <span class="nv">li</span> (<span class="nv">s</span> : @state _ (annotated_type (free_composite_vlsm IM) (<span class="nb">set</span> validator))) <span class="nv">om</span>
  (<span class="nv">Hvalid</span> : input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li (original_state s i, om))
  : full_node_composite_transition_message_equivocators IM sender (existT i li) (s, om)
      =
    msg_dep_composite_transition_message_equivocators IM full_message_dependencies sender (existT i li) (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_composite_transition_message_equivocators IM
  sender (existT i li) (s, om) =
msg_dep_composite_transition_message_equivocators IM
  full_message_dependencies sender (existT i li)
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_composite_transition_message_equivocators IM
  sender (existT i li) (s, om) =
msg_dep_composite_transition_message_equivocators IM
  full_message_dependencies sender (existT i li)
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk30"><span class="nb">destruct</span> om <span class="kr">as</span> [m |]; [| <span class="bp">reflexivity</span>]; <span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_message_equivocators IM sender
  (full_node_coequivocating_senders IM)
  (original_state s) m =
coeqv_message_equivocators IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (original_state s) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk31"><span class="nb">unfold</span> coeqv_message_equivocators.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span>
  decide
    (composite_has_been_observed IM (original_state s)
       m)
 <span class="kr">then</span> []
 <span class="kr">else</span>
  map_option sender [m] ++
  full_node_coequivocating_senders IM
    (original_state s) m) =
(<span class="kr">if</span>
  decide
    (composite_has_been_observed IM (original_state s)
       m)
 <span class="kr">then</span> []
 <span class="kr">else</span>
  map_option sender [m] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender
    (original_state s) m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk32">case_decide <span class="kr">as</span> Hobs; [<span class="bp">reflexivity</span> |]; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (original_state s i, Some m)</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_coequivocating_senders IM (original_state s)
  m =
msg_dep_coequivocating_senders IM
  full_message_dependencies sender (original_state s)
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">eapply</span> full_node_msg_dep_coequivocating_senders; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk33"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_valid_iff</span> <span class="nv">l</span> (<span class="nv">s</span> : @state _ (annotated_type (free_composite_vlsm IM) (<span class="nb">set</span> validator))) <span class="nv">om</span>
  (<span class="nv">Hvi</span> : input_valid (pre_loaded_with_all_messages_vlsm (IM (projT1 l))) (projT2 l) (original_state s (projT1 l), om))
  : vvalid (msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender) l (s, om) &lt;-&gt;
    vvalid (full_node_limited_equivocation_vlsm IM sender) l (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>{n : index &amp; vlabel (IM n)}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 l))) (projT2 l)
  (original_state s (projT1 l), om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender) l (s, om)
â†” vvalid
    (full_node_limited_equivocation_vlsm IM sender) l
    (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk34"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>{n : index &amp; vlabel (IM n)}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 l))) (projT2 l)
  (original_state s (projT1 l), om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender) l (s, om)
â†” vvalid
    (full_node_limited_equivocation_vlsm IM sender) l
    (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk35"><span class="nb">cbn</span>; <span class="nb">unfold</span> annotated_valid, coeqv_limited_equivocation_constraint; <span class="nb">destruct</span> l <span class="kr">as</span> [i li].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (existT i li))))
  (projT2 (existT i li))
  (original_state s (projT1 (existT i li)), om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (free_composite_vlsm IM) (existT i li)
  (original_state (s, om).<span class="mi">1</span>, (s, om).<span class="mi">2</span>)
âˆ§ (sum_weights
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (existT i li) (s, om)) &lt;= `threshold)%R
â†” vvalid (free_composite_vlsm IM) (existT i li)
    (original_state (s, om).<span class="mi">1</span>, (s, om).<span class="mi">2</span>)
  âˆ§ (sum_weights
       (coeqv_composite_transition_message_equivocators
          IM sender
          (full_node_coequivocating_senders IM)
          (existT i li) (s, om)) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">setoid_rewrite</span> full_node_msg_dep_composite_transition_message_equivocators; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk36"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_transition_iff</span> <span class="nv">l</span> (<span class="nv">s</span> : @state _ (annotated_type (free_composite_vlsm IM) (<span class="nb">set</span> validator))) <span class="nv">om</span>
  (<span class="nv">Hvi</span> : input_valid (pre_loaded_with_all_messages_vlsm (IM (projT1 l))) (projT2 l) (original_state s (projT1 l), om))
  : vtransition (msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender) l (s, om) =
    vtransition (full_node_limited_equivocation_vlsm IM sender) l (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>{n : index &amp; vlabel (IM n)}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 l))) (projT2 l)
  (original_state s (projT1 l), om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender) l (s, om) =
vtransition
  (full_node_limited_equivocation_vlsm IM sender) l
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>{n : index &amp; vlabel (IM n)}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 l))) (projT2 l)
  (original_state s (projT1 l), om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender) l (s, om) =
vtransition
  (full_node_limited_equivocation_vlsm IM sender) l
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk38"><span class="nb">cbn</span>; <span class="nb">unfold</span> annotated_transition;
    <span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (s&#39;, om&#39;), l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (existT i li))))
  (projT2 (existT i li))
  (original_state s (projT1 (existT i li)), om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({|
   original_state := s&#39;;
   state_annotation :=
     coeqv_composite_transition_message_equivocators
       IM sender
       (msg_dep_coequivocating_senders IM
          full_message_dependencies sender)
       (existT i li) (s, om)
 |}, om&#39;) =
({|
   original_state := s&#39;;
   state_annotation :=
     coeqv_composite_transition_message_equivocators
       IM sender (full_node_coequivocating_senders IM)
       (existT i li) (s, om)
 |}, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">setoid_rewrite</span> full_node_msg_dep_composite_transition_message_equivocators; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk39"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_limited_equivocation_vlsm_incl</span> :
  VLSM_incl
    (msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender)
    (full_node_limited_equivocation_vlsm IM sender).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)
  (full_node_limited_equivocation_vlsm IM sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk3a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)
  (full_node_limited_equivocation_vlsm IM sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk3b"><span class="nb">apply</span> basic_VLSM_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk3c"><hr></label><div class="goal-conclusion">weak_incl_initial_message_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk3d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk3d"><hr></label><div class="goal-conclusion">weak_incl_valid_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk3e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk3e"><hr></label><div class="goal-conclusion">weak_incl_transition_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> s Hs; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk40">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_initial_message_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> _ _ m _ _ Hinit; <span class="nb">apply</span> initial_message_is_valid; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk41">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_valid_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk42"><span class="nb">intros</span> [i li] s om HvX _ _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |} (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |} (Datatypes.id (existT i li)) (Datatypes.id s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk43"><span class="nb">apply</span> msg_dep_full_node_valid_iff; [| <span class="nb">apply</span> HvX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |} (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (Datatypes.id (existT i li)))))
  (projT2 (Datatypes.id (existT i li)))
  (original_state (Datatypes.id s)
     (projT1 (Datatypes.id (existT i li))), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> annotated_free_input_valid_projection; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk44">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_transition_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk45"><span class="nb">intros</span> [i li] s iom s&#39; oom [Hv Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht |- *; <span class="nb">rewrite</span> &lt;- Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |} (existT i li) (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators
     IM sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (existT i li) (s, iom) = 
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators IM
     sender (full_node_coequivocating_senders IM))
  (existT i li) (s, iom) =
annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (existT i li) (s, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk46"><span class="nb">symmetry</span>; rapply msg_dep_full_node_transition_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |} (existT i li) (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators
     IM sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (existT i li) (s, iom) = 
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (existT i li))))
  (projT2 (existT i li))
  (original_state s (projT1 (existT i li)), iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> annotated_free_input_valid_projection; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk47"><span class="kn">Lemma</span> <span class="nf">full_node_msg_dep_limited_equivocation_vlsm_incl</span> :
  VLSM_incl
    (full_node_limited_equivocation_vlsm IM sender)
    (msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (full_node_limited_equivocation_vlsm IM sender)
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (full_node_limited_equivocation_vlsm IM sender)
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk49"><span class="nb">apply</span> basic_VLSM_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk4a"><hr></label><div class="goal-conclusion">weak_incl_initial_message_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk4b"><hr></label><div class="goal-conclusion">weak_incl_valid_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk4c"><hr></label><div class="goal-conclusion">weak_incl_transition_preservation
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk4d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> s Hs; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk4e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_initial_message_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> _ _ m _ _ Hinit; <span class="nb">apply</span> initial_message_is_valid; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk4f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_valid_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk50"><span class="nb">intros</span> [i li] s om HvX _ _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint
           IM sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |} (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |} (Datatypes.id (existT i li)) (Datatypes.id s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk51"><span class="nb">apply</span> msg_dep_full_node_valid_iff; [| <span class="nb">apply</span> HvX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint
           IM sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |} (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (Datatypes.id (existT i li)))))
  (projT2 (Datatypes.id (existT i li)))
  (original_state (Datatypes.id s)
     (projT1 (Datatypes.id (existT i li))), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> annotated_free_input_valid_projection; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk52">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_transition_preservation
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (full_node_coequivocating_senders IM))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (full_node_coequivocating_senders IM)))
  (annotated_vlsm_machine (free_composite_vlsm IM)
     (<span class="nb">set</span> validator)
     (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
     (coeqv_limited_equivocation_constraint IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk53"><span class="nb">intros</span> [i li] s iom s&#39; oom [Hv Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht |- *; <span class="nb">rewrite</span> &lt;- Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |} (existT i li) (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators
     IM sender
     (full_node_coequivocating_senders IM))
  (existT i li) (s, iom) = 
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (existT i li) (s, iom) =
annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators IM
     sender (full_node_coequivocating_senders IM))
  (existT i li) (s, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk54">rapply msg_dep_full_node_transition_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  {|
    vtype :=
      annotated_type (free_composite_vlsm IM)
        (<span class="nb">set</span> validator);
    vmachine :=
      annotated_vlsm_machine
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |} (existT i li) (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>annotated_transition (free_composite_vlsm IM)
  (<span class="nb">set</span> validator)
  (coeqv_composite_transition_message_equivocators
     IM sender
     (full_node_coequivocating_senders IM))
  (existT i li) (s, iom) = 
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM (projT1 (existT i li))))
  (projT2 (existT i li))
  (original_state s (projT1 (existT i li)), iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> annotated_free_input_valid_projection; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk55"><span class="kn">Lemma</span> <span class="nf">full_node_msg_dep_limited_equivocation_vlsm_eq</span> :
  VLSM_eq
    (full_node_limited_equivocation_vlsm IM sender)
    (msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq
  (full_node_limited_equivocation_vlsm IM sender)
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq
  (full_node_limited_equivocation_vlsm IM sender)
  (msg_dep_limited_equivocation_vlsm IM
     full_message_dependencies sender)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk57"><span class="nb">apply</span> VLSM_eq_incl_iff; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |}
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk58"><hr></label><div class="goal-conclusion">VLSM_incl
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |}
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |}
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> full_node_msg_dep_limited_equivocation_vlsm_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    message_dependencies 
    (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
  |}
  {|
    vtype :=
      vtype
        (full_node_limited_equivocation_vlsm IM sender);
    vmachine :=
      annotated_vlsm_machine (free_composite_vlsm IM)
        (<span class="nb">set</span> validator)
        (<span class="kr">Î»</span> <span class="nv">s</span> : <span class="nb">set</span> validator, s = empty_set)
        (coeqv_limited_equivocation_constraint IM
           sender
           (full_node_coequivocating_senders IM))
        (coeqv_composite_transition_message_equivocators
           IM sender
           (full_node_coequivocating_senders IM))
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_full_node_limited_equivocation_vlsm_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_full_node_msg_dep_limited_equivocation_equivalence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_msg_dep_fixed_limited_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  (message_dependencies : message -&gt; <span class="nb">set</span> message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies message_dependencies (IM i)}
  (full_message_dependencies : message -&gt; <span class="nb">set</span> message)
  `{FullMessageDependencies message message_dependencies full_message_dependencies}
  `{ReachableThreshold index}
  (sender : message -&gt; option index)
  (Limited := msg_dep_limited_equivocation_vlsm IM full_message_dependencies sender)
  (no_initial_messages_in_IM : no_initial_messages_in_IM_prop IM)
  (Hchannel : channel_authentication_prop IM Datatypes.id sender)
  (Hsender_safety : sender_safety_alt_prop IM Datatypes.id sender :=
    channel_authentication_sender_safety _ _ _ Hchannel)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5b"><span class="kn">Lemma</span> <span class="nf">message_equivocators_can_emit</span> (<span class="nv">s</span> : vstate Limited) <span class="nv">im</span>
  (<span class="nv">Hs</span> : valid_state_prop
          (fixed_equivocation_vlsm_composition IM (state_annotation s))
          (original_state s))
  (<span class="nv">Hnobserved</span>: Â¬ composite_has_been_observed IM (original_state s) im)
  (<span class="nv">HLemit</span>: can_emit Limited im)
  : can_emit
      (equivocators_composition_for_observed IM
        (set_union (state_annotation s)
          (msg_dep_message_equivocators IM full_message_dependencies sender
            (original_state s) im))
        (original_state s))
      im.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        (msg_dep_message_equivocators IM
           full_message_dependencies sender
           (original_state s) im)) (original_state s))
  im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        (msg_dep_message_equivocators IM
           full_message_dependencies sender
           (original_state s) im)) (original_state s))
  im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5d"><span class="nb">unfold</span> msg_dep_message_equivocators, coeqv_message_equivocators
  ; <span class="nb">rewrite</span> decide_False <span class="bp">by</span> <span class="bp">assumption</span>
  ; <span class="nb">remember</span> (map_option sender _ ++ _) <span class="kr">as</span> equivocating_senders.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        equivocating_senders) (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk5e"><span class="nb">assert</span> (Hsenders :
    <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_happens_before message_dependencies dm im -&gt;
    composite_has_been_observed IM (original_state s) dm \/
    <span class="kr">exists</span> <span class="nv">dm_i</span>, dm_i âˆˆ equivocating_senders /\
      can_emit (pre_loaded_with_all_messages_vlsm (IM dm_i)) dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before message_dependencies dm im
  â†’ composite_has_been_observed IM (original_state s)
      dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk5f"><hr></label><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        equivocating_senders) 
     (original_state s)) im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk60">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before message_dependencies dm im
  â†’ composite_has_been_observed IM (original_state s)
      dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk61"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_observed IM (original_state s) dm
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
     dm_i âˆˆ equivocating_senders
     âˆ§ can_emit
         (pre_loaded_with_all_messages_vlsm (IM dm_i))
         dm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk62"><span class="nb">destruct</span> (decide (composite_has_been_observed IM (original_state s) dm))
      <span class="kr">as</span> [Hobs | Hnobs]; [<span class="nb">left</span>; <span class="bp">assumption</span> | <span class="nb">right</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
  dm_i âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_with_all_messages_vlsm (IM dm_i)) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk63"><span class="nb">cut</span> (<span class="kr">exists</span> <span class="nv">i</span>, sender dm = Some i /\
          can_emit (pre_loaded_with_all_messages_vlsm (IM i)) dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
   sender dm = Some i
   âˆ§ can_emit
       (pre_loaded_with_all_messages_vlsm (IM i)) dm)
â†’ <span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
    dm_i âˆˆ equivocating_senders
    âˆ§ can_emit
        (pre_loaded_with_all_messages_vlsm (IM dm_i))
        dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk64" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk64"><hr></label><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
  sender dm = Some i
  âˆ§ can_emit
      (pre_loaded_with_all_messages_vlsm (IM i)) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk65">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
   sender dm = Some i
   âˆ§ can_emit
       (pre_loaded_with_all_messages_vlsm (IM i)) dm)
â†’ <span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
    dm_i âˆˆ equivocating_senders
    âˆ§ can_emit
        (pre_loaded_with_all_messages_vlsm (IM dm_i))
        dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk66"><span class="nb">intros</span> (i &amp; Hsender &amp; Hemit).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM i))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
  dm_i âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_with_all_messages_vlsm (IM dm_i)) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk67"><span class="kr">exists</span> <span class="nv">i</span>; <span class="nb">split</span>; [<span class="nb">subst</span> | <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM i))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i
âˆˆ map_option sender [im] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender
    (original_state s) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk68"><span class="nb">unfold</span> msg_dep_coequivocating_senders, not_observed_happens_before_dependencies
      ; <span class="nb">rewrite</span> elem_of_app, !elem_of_map_option
      ; <span class="nb">setoid_rewrite</span> elem_of_list_filter
      ; <span class="nb">setoid_rewrite</span> full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM i))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆƒ</span> <span class="nv">a</span> : message, a âˆˆ [im] âˆ§ sender a = Some i)
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">a</span> : message,
     (Â¬ composite_has_been_observed IM
          (original_state s) a
      âˆ§ msg_dep_happens_before message_dependencies a
          im) âˆ§ sender a = Some i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">dm</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk69">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
  sender dm = Some i
  âˆ§ can_emit
      (pre_loaded_with_all_messages_vlsm (IM i)) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk6a"><span class="nb">eapply</span> msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite.Finite index</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk6b"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies <span class="nl">?message_dependencies</span> (IM i)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk6c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk6c"><hr></label><div class="goal-conclusion">channel_authentication_prop IM (<span class="kr">Î»</span> <span class="nv">v</span> : index, v) sender</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk6d"><hr></label><div class="goal-conclusion">no_initial_messages_in_IM_prop IM</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk6e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk6e"><hr></label><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) <span class="nl">?m</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk6f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk6f"><hr></label><div class="goal-conclusion">msg_dep_happens_before <span class="nl">?message_dependencies</span> dm <span class="nl">?m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk70"><span class="mi">1</span>-<span class="mi">4</span>, <span class="mi">6</span>: <span class="bp">eassumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk71"><span class="nb">apply</span> emitted_messages_are_valid_iff; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (free_composite_vlsm IM) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk72"><span class="nb">eapply</span> VLSM_full_projection_can_emit; [| <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection Limited (free_composite_vlsm IM)
  <span class="nl">?label_project</span> <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> forget_annotations_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk73">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        equivocating_senders) (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk74"><span class="nb">eapply</span> VLSM_full_projection_can_emit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection <span class="nl">?X</span>
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        equivocating_senders) (original_state s))
  <span class="nl">?label_project</span> <span class="nl">?state_project</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk75"><hr></label><div class="goal-conclusion">can_emit <span class="nl">?X</span> im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk76">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection <span class="nl">?X</span>
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        equivocating_senders) (original_state s))
  <span class="nl">?label_project</span> <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equivocators_composition_for_observed_index_incl_full_projection
     <span class="kr">with</span> (Hincl := set_union_subseteq_right (state_annotation s) equivocating_senders).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk77">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     equivocating_senders (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk78"><span class="nb">assert</span> (Hemitj :
    <span class="kr">exists</span> <span class="nv">j</span>, j âˆˆ equivocating_senders /\
      can_emit
        (pre_loaded_vlsm (IM j) (<span class="kr">fun</span> <span class="nv">dm</span> =&gt; msg_dep_happens_before message_dependencies dm im))
        im).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm 
         (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk79"><hr></label><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     equivocating_senders 
     (original_state s)) im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7b"><span class="nb">eapply</span> VLSM_full_projection_can_emit <span class="kr">in</span> HLemit
    ; [| <span class="nb">apply</span> forget_annotations_projection].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit (free_composite_vlsm IM) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7c"><span class="nb">eapply</span> (VLSM_incl_can_emit (vlsm_incl_pre_loaded_with_all_messages_vlsm (free_composite_vlsm IM)))
        <span class="kr">in</span> HLemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit
  {|
    vtype := vtype (free_composite_vlsm IM);
    vmachine :=
      machine
        (pre_loaded_with_all_messages_vlsm
           (free_composite_vlsm IM))
  |} im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7d"><span class="nb">apply</span> can_emit_composite_project <span class="kr">in</span> HLemit <span class="kr">as</span> [j Hemit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7e"><span class="nb">apply</span> Hchannel <span class="kr">in</span> Hemit <span class="kr">as</span> Hsender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message Datatypes.id
  sender j im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk7f"><span class="kr">exists</span> <span class="nv">j</span>; <span class="nb">subst</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message Datatypes.id
  sender j im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j
âˆˆ <span class="kr">match</span> sender im <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span> ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender
    (original_state s) im
âˆ§ can_emit
    (pre_loaded_vlsm (IM j)
       (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
          msg_dep_happens_before message_dependencies
            dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk80"><span class="nb">unfold</span> channel_authenticated_message <span class="kr">in</span> Hsender; <span class="nb">destruct</span> (sender im) <span class="kr">as</span> [_j |];
      [| <span class="nb">inversion</span> Hsender].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br><span><var>_j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>option_map Datatypes.id (Some _j) = Some j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j
âˆˆ [_j] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender
    (original_state s) im
âˆ§ can_emit
    (pre_loaded_vlsm (IM j)
       (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
          msg_dep_happens_before message_dependencies
            dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk81"><span class="nb">apply</span> Some_inj <span class="kr">in</span> Hsender; <span class="nb">cbn</span> <span class="kr">in</span> Hsender; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j
âˆˆ [j] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender
    (original_state s) im
âˆ§ can_emit
    (pre_loaded_vlsm (IM j)
       (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
          msg_dep_happens_before message_dependencies
            dm im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk82"><span class="nb">split</span>; [<span class="nb">left</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before message_dependencies dm
          im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk83"><span class="nb">eapply</span> message_dependencies_are_sufficient <span class="kr">in</span> Hemit; [| <span class="nb">typeclasses eauto</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
        msg âˆˆ message_dependencies im)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before message_dependencies dm
          im)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk84"><span class="nb">revert</span> Hemit; <span class="nb">apply</span> VLSM_incl_can_emit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (VLSMMachine_pre_loaded_with_messages
     (vmachine (IM j))
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies im))
  (VLSMMachine_pre_loaded_with_messages
     (vmachine (IM j))
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before message_dependencies dm
          im))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk85"><span class="nb">apply</span> pre_loaded_vlsm_incl; <span class="nb">intros</span> m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i
         âˆˆ map_option sender [im] ++
           msg_dep_coequivocating_senders
             IM full_message_dependencies
             sender (original_state s) im
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>m âˆˆ message_dependencies im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_happens_before_iff_one; <span class="nb">left</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk86">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆƒ</span> <span class="nv">j</span> : index,
  j âˆˆ equivocating_senders
  âˆ§ can_emit
      (pre_loaded_vlsm 
         (IM j)
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
            msg_dep_happens_before
              message_dependencies dm im)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     equivocating_senders (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk87"><span class="nb">destruct</span> Hemitj <span class="kr">as</span> [j [Heqv_j Hemitj]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Heqequivocating_senders</var><span class="hyp-type"><b>: </b><span>equivocating_senders =
map_option sender [im] ++
msg_dep_coequivocating_senders
  IM
  full_message_dependencies
  sender (original_state s)
  im</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     equivocating_senders (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk88"><span class="nb">eapply</span> valid_preloaded_lifts_can_be_emitted
  ; [<span class="bp">eassumption</span> | | <span class="bp">eassumption</span>]; <span class="nb">clear</span> Heqequivocating_senders.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  (<span class="kr">Î»</span> <span class="nv">dm0</span> : message,
     msg_dep_happens_before message_dependencies dm0
       im) dm
  â†’ valid_message_prop
      (pre_loaded_vlsm
         (free_composite_vlsm
            (sub_IM IM equivocating_senders))
         (composite_has_been_observed IM
            (original_state s))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk89"><span class="nb">induction</span> dm <span class="kr">as</span> [dm Hind]
    <span class="nb">using</span> (well_founded_ind (msg_dep_happens_before_wf message_dependencies full_message_dependencies))
  ; <span class="nb">intros</span> Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm
     (free_composite_vlsm
        (sub_IM IM equivocating_senders))
     (composite_has_been_observed IM
        (original_state s))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8a"><span class="nb">apply</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop dm
âˆ¨ can_emit
    (pre_loaded_vlsm
       (free_composite_vlsm
          (sub_IM IM equivocating_senders))
       (composite_has_been_observed IM
          (original_state s))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8b"><span class="nb">destruct</span> (Hsenders _ Hdm) <span class="kr">as</span> [Hobs_dm | [dm_i [Hdm_i Hemit_dm]]]
  ; [<span class="nb">left</span>; <span class="nb">right</span>; <span class="bp">assumption</span> | <span class="nb">right</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm
     (free_composite_vlsm
        (sub_IM IM equivocating_senders))
     (composite_has_been_observed IM
        (original_state s))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8c"><span class="nb">eapply</span> valid_preloaded_lifts_can_be_emitted
  ; [<span class="bp">eassumption</span> | |]; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm (IM dm_i) <span class="nl">?P</span>) dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk8d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk8d"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  <span class="nl">?P</span> dm0
  â†’ valid_message_prop
      (pre_loaded_vlsm
         (free_composite_vlsm
            (sub_IM IM equivocating_senders))
         (composite_has_been_observed IM
            (original_state s))) dm0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm (IM dm_i) <span class="nl">?P</span>) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> message_dependencies_are_sufficient; [<span class="nb">typeclasses eauto</span> | <span class="bp">assumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk8f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm) dm0
  â†’ valid_message_prop
      (pre_loaded_vlsm
         (free_composite_vlsm
            (sub_IM IM equivocating_senders))
         (composite_has_been_observed IM
            (original_state s))) dm0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk90"><span class="nb">intros</span> dm&#39; Hdm&#39;; <span class="nb">apply</span> Hind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br><span><var>dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm)
  dm&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm&#39; dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk91" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br><span><var>dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm)
  dm&#39;</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk91"><hr></label><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm&#39; im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk92">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br><span><var>dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm)
  dm&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_happens_before_iff_one; <span class="nb">left</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk93">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br><span><var>dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm)
  dm&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm&#39; im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk94"><span class="nb">transitivity</span> dm; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate Limited</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>HLemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br><span><var>equivocating_senders</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hsenders</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before
    message_dependencies dm im
  â†’ composite_has_been_observed IM
      (original_state s) dm
    âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">dm_i</span> : index,
         dm_i âˆˆ equivocating_senders
         âˆ§ can_emit
             (pre_loaded_with_all_messages_vlsm
                (IM dm_i)) dm)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv_j</var><span class="hyp-type"><b>: </b><span>j âˆˆ equivocating_senders</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        msg_dep_happens_before
          message_dependencies dm im)) im</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y
    dm
  â†’ msg_dep_happens_before message_dependencies
      y im
    â†’ valid_message_prop
        (pre_loaded_vlsm
           (free_composite_vlsm
              (sub_IM IM equivocating_senders))
           (composite_has_been_observed IM
              (original_state s))) y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  im</span></span></span><br><span><var>dm_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hdm_i</var><span class="hyp-type"><b>: </b><span>dm_i âˆˆ equivocating_senders</span></span></span><br><span><var>Hemit_dm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM dm_i)) dm</span></span></span><br><span><var>dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies dm)
  dm&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_happens_before_iff_one; <span class="nb">left</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk95"><span class="kn">Lemma</span> <span class="nf">msg_dep_fixed_limited_equivocation_witnessed</span> <span class="nv">is</span> <span class="nv">tr</span>
  (<span class="nv">Htr</span> : finite_valid_trace Limited <span class="kr">is</span> tr)
  (<span class="nv">equivocators</span> := state_annotation (finite_trace_last <span class="kr">is</span> tr))
  (<span class="nv">Fixed</span> := fixed_equivocation_vlsm_composition IM equivocators)
  : (sum_weights (remove_dups equivocators) &lt;= `threshold)%R /\
    finite_valid_trace Fixed
      (original_state <span class="kr">is</span>)
      (pre_VLSM_full_projection_finite_trace_project
        (type Limited) (composite_type IM) Datatypes.id original_state
        tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (remove_dups equivocators) &lt;= `threshold)%R
âˆ§ finite_valid_trace Fixed (original_state <span class="kr">is</span>)
    (pre_VLSM_full_projection_finite_trace_project
       (type Limited) (composite_type IM) Datatypes.id
       original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (remove_dups equivocators) &lt;= `threshold)%R
âˆ§ finite_valid_trace Fixed (original_state <span class="kr">is</span>)
    (pre_VLSM_full_projection_finite_trace_project
       (type Limited) (composite_type IM) Datatypes.id
       original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk97"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (remove_dups equivocators) &lt;= `threshold)%R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk98"><hr></label><div class="goal-conclusion">finite_valid_trace Fixed 
  (original_state <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state tr)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk99">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights (remove_dups equivocators) &lt;= `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk9a"><span class="nb">rewrite</span> set_eq_nodup_sum_weight_eq
      <span class="kr">with</span> (lv2 := state_annotation (finite_trace_last <span class="kr">is</span> tr)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights
   (state_annotation (finite_trace_last <span class="kr">is</span> tr)) &lt;=
 `threshold)%R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk9b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk9b"><hr></label><div class="goal-conclusion">NoDup (remove_dups equivocators)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk9c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk9c"><hr></label><div class="goal-conclusion">NoDup (state_annotation (finite_trace_last <span class="kr">is</span> tr))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk9d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk9d"><hr></label><div class="goal-conclusion">set_eq (remove_dups equivocators)
  (state_annotation (finite_trace_last <span class="kr">is</span> tr))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk9e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights
   (state_annotation (finite_trace_last <span class="kr">is</span> tr)) &lt;=
 `threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> coeqv_limited_equivocation_state_not_heavy,
            finite_valid_trace_last_pstate, Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk9f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (remove_dups equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> NoDup_remove_dups.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (state_annotation (finite_trace_last <span class="kr">is</span> tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> coeqv_limited_equivocation_state_annotation_nodup,
            finite_valid_trace_last_pstate, Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (remove_dups equivocators)
  (state_annotation (finite_trace_last <span class="kr">is</span> tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka2"><span class="nb">apply</span> set_eq_extract_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">a</span> : index,
  a âˆˆ remove_dups equivocators
  â†” a âˆˆ state_annotation (finite_trace_last <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka3"><span class="nb">setoid_rewrite</span> elem_of_remove_dups.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">a</span> : index,
  a âˆˆ equivocators
  â†” a âˆˆ state_annotation (finite_trace_last <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Fixed (original_state <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka5"><span class="nb">split</span>; [| <span class="nb">apply</span> Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka6"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> tr) tr</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  (finite_trace_last <span class="kr">is</span> tr)</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka7"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_init_to_rev_ind
    ; [<span class="nb">constructor</span>; <span class="nb">apply</span> initial_state_is_valid; <span class="nb">apply</span> Hsi |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka8"><span class="nb">setoid_rewrite</span> map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state si)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state) tr ++
   map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chka9"><span class="nb">apply</span> finite_valid_trace_from_app_iff; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state si)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state) tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkaa"><hr></label><div class="goal-conclusion">finite_valid_trace_from Fixed
  (finite_trace_last (original_state si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type Limited) 
           (composite_type IM) Datatypes.id
           original_state) tr))
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) 
        (composite_type IM) Datatypes.id
        original_state)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkab">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed (original_state si)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state) tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkac"><span class="nb">revert</span> IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">Fixed</span> :=
   fixed_equivocation_vlsm_composition IM equivocators
   <span class="kr">in</span>
 finite_valid_trace_from Fixed (original_state si)
   (pre_VLSM_full_projection_finite_trace_project
      (type Limited) (composite_type IM) Datatypes.id
      original_state tr))
â†’ finite_valid_trace_from Fixed (original_state si)
    (map
       (pre_VLSM_full_projection_trace_item_project
          (type Limited) (composite_type IM)
          Datatypes.id original_state) tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> VLSM_incl_finite_valid_trace_from,
             fixed_equivocation_vlsm_composition_index_incl,
             coeqv_limited_equivocation_transition_state_annotation_incl,
             Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkad">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Fixed
  (finite_trace_last (original_state si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type Limited) (composite_type IM)
           Datatypes.id original_state) tr))
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkae"><span class="nb">apply</span> finite_valid_trace_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Fixed
  (Datatypes.id
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (original_state si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type Limited) (composite_type IM)
           Datatypes.id original_state) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkaf"><span class="nb">unfold</span> input_valid_transition, input_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (finite_trace_last (original_state si)
      (map
         (pre_VLSM_full_projection_trace_item_project
            (type Limited) (composite_type IM)
            Datatypes.id original_state) tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (finite_trace_last (original_state si)
          (map
             (pre_VLSM_full_projection_trace_item_project
                (type Limited) (composite_type IM)
                Datatypes.id original_state) tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (finite_trace_last (original_state si)
       (map
          (pre_VLSM_full_projection_trace_item_project
             (type Limited) (composite_type IM)
             Datatypes.id original_state) tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb0"><span class="nb">change</span> (map _ _) <span class="kr">with</span> (pre_VLSM_full_projection_finite_trace_project  (type Limited) (composite_type IM) Datatypes.id original_state tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (finite_trace_last (original_state si)
      (pre_VLSM_full_projection_finite_trace_project
         (type Limited) (composite_type IM)
         Datatypes.id original_state tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (finite_trace_last (original_state si)
          (pre_VLSM_full_projection_finite_trace_project
             (type Limited) (composite_type IM)
             Datatypes.id original_state tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (finite_trace_last (original_state si)
       (pre_VLSM_full_projection_finite_trace_project
          (type Limited) (composite_type IM)
          Datatypes.id original_state tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb1"><span class="nb">rewrite</span> &lt;- pre_VLSM_full_projection_finite_trace_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (original_state (finite_trace_last si tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (original_state (finite_trace_last si tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (original_state (finite_trace_last si tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb2"><span class="nb">assert</span> (Hs :
        valid_state_prop
          (fixed_equivocation_vlsm_composition IM (state_annotation s))
          (original_state s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) (original_state s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkb3"><hr></label><div class="goal-conclusion">(valid_state_prop Fixed
   (original_state (finite_trace_last si tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (original_state (finite_trace_last si tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (original_state (finite_trace_last si tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb4">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) (original_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb5"><span class="nb">replace</span> s <span class="kr">with</span> (finite_trace_last si tr) <span class="nb">at</span> <span class="mi">2</span>
          <span class="bp">by</span> (<span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s))
  (original_state (finite_trace_last si tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb6"><span class="nb">rewrite</span>
          (pre_VLSM_full_projection_finite_trace_last
            (type Limited) (composite_type IM) Datatypes.id original_state
            si tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s))
  (finite_trace_last (original_state si)
     (pre_VLSM_full_projection_finite_trace_project
        (type Limited) (composite_type IM)
        Datatypes.id original_state tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> finite_valid_trace_last_pstate; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Limited l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (original_state (finite_trace_last si tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (original_state (finite_trace_last si tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (original_state (finite_trace_last si tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb8"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[HLs [HLim HLv]] HLt].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>HLt</var><span class="hyp-type"><b>: </b><span>transition l (s, iom) = (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (original_state (finite_trace_last si tr))
 âˆ§ option_valid_message_prop Fixed
     (input
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |})
   âˆ§ valid
       (Datatypes.id
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := sf;
               output := oom
             |}))
       (original_state (finite_trace_last si tr),
       input
         {|
           l := l;
           input := iom;
           destination := sf;
           output := oom
         |}))
âˆ§ transition
    (Datatypes.id
       (VLSM.l
          {|
            l := l;
            input := iom;
            destination := sf;
            output := oom
          |}))
    (original_state (finite_trace_last si tr),
    input
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}) =
  (original_state
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkb9"><span class="nb">cbn</span> <span class="kr">in</span> HLt |- *; <span class="nb">unfold</span> annotated_transition <span class="kr">in</span> HLt; <span class="nb">cbn</span> <span class="kr">in</span> HLt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>HLt</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">s&#39;</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (original_state s i, iom) <span class="kr">in</span>
   (state_update IM (original_state s) i si&#39;,
   om&#39;) <span class="kr">in</span>
 ({|
    original_state := s&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators IM
               sender
               (msg_dep_coequivocating_senders
                  IM full_message_dependencies
                  sender) 
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}, om&#39;)) = (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed
   (original_state (finite_trace_last si tr))
 âˆ§ option_valid_message_prop Fixed iom
   âˆ§ constrained_composite_valid IM
       (fixed_equivocation_constraint IM equivocators)
       l
       (original_state (finite_trace_last si tr), iom))
âˆ§ (<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (original_state (finite_trace_last si tr) i,
       iom) <span class="kr">in</span>
   (state_update IM
      (original_state (finite_trace_last si tr)) i si&#39;,
   om&#39;)) = (original_state sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkba"><span class="nb">replace</span> (finite_trace_last si _) <span class="kr">with</span> s
        <span class="bp">by</span> (<span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr; <span class="bp">congruence</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>HLt</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">s&#39;</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (original_state s i, iom) <span class="kr">in</span>
   (state_update IM (original_state s) i si&#39;,
   om&#39;) <span class="kr">in</span>
 ({|
    original_state := s&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators IM
               sender
               (msg_dep_coequivocating_senders
                  IM full_message_dependencies
                  sender) 
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}, om&#39;)) = (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed (original_state s)
 âˆ§ option_valid_message_prop Fixed iom
   âˆ§ constrained_composite_valid IM
       (fixed_equivocation_constraint IM equivocators)
       l (original_state s, iom))
âˆ§ (<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li (original_state s i, iom) <span class="kr">in</span>
   (state_update IM (original_state s) i si&#39;, om&#39;)) =
  (original_state sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkbb"><span class="nb">destruct</span> l <span class="kr">as</span> [i li], (vtransition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HLt</var><span class="hyp-type"><b>: </b><span>({|
   original_state :=
     state_update IM (original_state s) i si&#39;;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union (state_annotation s)
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies
                 sender) 
              (original_state s) m)
     | None =&gt; state_annotation s
     <span class="kr">end</span>
 |}, om&#39;) = (sf, oom)</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation sf</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed (original_state s)
 âˆ§ option_valid_message_prop Fixed iom
   âˆ§ constrained_composite_valid IM
       (fixed_equivocation_constraint IM equivocators)
       (existT i li) (original_state s, iom))
âˆ§ (state_update IM (original_state s) i si&#39;, om&#39;) =
  (original_state sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkbc"><span class="nb">inversion</span> HLt; <span class="nb">subst</span>; <span class="nb">clear</span> HLt; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(valid_state_prop Fixed (original_state s)
 âˆ§ option_valid_message_prop Fixed iom
   âˆ§ constrained_composite_valid IM
       (fixed_equivocation_constraint IM
          <span class="kr">match</span> iom <span class="kr">with</span>
          | Some m =&gt;
              set_union (state_annotation s)
                (coeqv_message_equivocators IM sender
                   (msg_dep_coequivocating_senders IM
                      full_message_dependencies sender)
                   (original_state s) m)
          | None =&gt; state_annotation s
          <span class="kr">end</span>) (existT i li) (original_state s, iom))
âˆ§ (state_update IM (original_state s) i si&#39;, oom) =
  (state_update IM (original_state s) i si&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkbd"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Fixed (original_state s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkbe"><hr></label><div class="goal-conclusion">option_valid_message_prop Fixed iom</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkbf"><hr></label><div class="goal-conclusion">composite_valid IM (existT i li)
  (original_state s, iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkc0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkc0"><hr></label><div class="goal-conclusion">fixed_equivocation_constraint IM
  <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      set_union (state_annotation s)
        (coeqv_message_equivocators IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender)
           (original_state s) m)
  | None =&gt; state_annotation s
  <span class="kr">end</span> (existT i li) (original_state s, iom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc1">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Fixed (original_state s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc2"><span class="nb">revert</span> Hs; <span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM
        (state_annotation s)))
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM equivocators))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc3"><span class="nb">apply</span> fixed_equivocation_vlsm_composition_index_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_annotation s âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]
        ; [<span class="nb">apply</span> set_union_subseteq_left | <span class="bp">reflexivity</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Fixed iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc5"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]
        ; [<span class="nb">apply</span> option_valid_message_Some|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc6"><span class="nb">destruct</span> (decide (composite_has_been_observed IM (original_state s) im))
              <span class="kr">as</span> [Hobs | Hnobs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_observed IM
  (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Fixed im</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkc7"><hr></label><div class="goal-conclusion">valid_message_prop Fixed im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc8">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_observed IM
  (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkc9"><span class="nb">eapply</span> composite_observed_valid; [| <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_observed IM
  (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (composite_vlsm IM
     (fixed_equivocation_constraint IM equivocators))
  (original_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkca"><span class="nb">revert</span> Hs; <span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_observed IM
  (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM
        (state_annotation s)))
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM equivocators))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> fixed_equivocation_vlsm_composition_index_incl,
                 set_union_subseteq_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkcb">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkcc"><span class="nb">revert</span> HLim.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited (Some im)
â†’ valid_message_prop Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkcd"><span class="nb">setoid_rewrite</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop im âˆ¨ can_emit Limited im
â†’ initial_message_prop im âˆ¨ can_emit Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkce"><span class="nb">intros</span> [Hinit | Hemit]; [<span class="nb">left</span>; <span class="bp">assumption</span> | <span class="nb">right</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Fixed im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkcf"><span class="nb">eapply</span> VLSM_weak_full_projection_can_emit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection <span class="nl">?X</span> Fixed <span class="nl">?label_project</span>
  <span class="nl">?state_project</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkd0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkd0"><hr></label><div class="goal-conclusion">can_emit <span class="nl">?X</span> im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd1">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection <span class="nl">?X</span> Fixed <span class="nl">?label_project</span>
  <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd2"><span class="nb">eapply</span> EquivPreloadedBase_Fixed_weak_full_projection
               <span class="kr">with</span> (base_s := original_state s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM equivocators)
  (original_state s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkd3"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">m</span> : message),
  i âˆˆ equivocators â†’ Â¬ vinitial_message_prop (IM i) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM equivocators)
  (original_state s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd5"><span class="nb">revert</span> Hs; <span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM
        (state_annotation s)))
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM equivocators))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">               </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> fixed_equivocation_vlsm_composition_index_incl,
                 set_union_subseteq_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">m</span> : message),
  i âˆˆ equivocators â†’ Â¬ vinitial_message_prop (IM i) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_sent IM equivocators
     (original_state s)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkd8"><span class="nb">eapply</span> VLSM_incl_can_emit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part <span class="nl">?MX</span>
  (VLSMMachine_pre_loaded_with_messages
     (vmachine
        (free_equivocating_vlsm_composition IM
           equivocators))
     (sent_by_non_equivocating IM equivocators
        (original_state s)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkd9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkd9"><hr></label><div class="goal-conclusion">can_emit
  {|
    vtype :=
      vtype
        (free_equivocating_vlsm_composition IM
           equivocators);
    vmachine := <span class="nl">?MX</span>
  |} im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkda">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part <span class="nl">?MX</span>
  (VLSMMachine_pre_loaded_with_messages
     (vmachine
        (free_equivocating_vlsm_composition IM
           equivocators))
     (sent_by_non_equivocating IM equivocators
        (original_state s)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkdb"><span class="nb">apply</span> Equivocators_Fixed_Strong_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (fixed_equivocation_vlsm_composition IM equivocators)
  (original_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkdc"><span class="nb">revert</span> Hs; <span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM
        (state_annotation s)))
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM equivocators))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">             </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> fixed_equivocation_vlsm_composition_index_incl,
               set_union_subseteq_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkdd">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit Limited im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  {|
    vtype :=
      vtype
        (free_equivocating_vlsm_composition IM
           equivocators);
    vmachine :=
      machine
        (equivocators_composition_for_observed IM
           equivocators (original_state s))
  |} im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> message_equivocators_can_emit; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkde">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i li)
  (original_state s, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> HLv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkdf">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited iom</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, iom)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union (state_annotation s)
            (coeqv_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders
                  IM
                  full_message_dependencies
                  sender)
               (original_state s) m)
      | None =&gt; state_annotation s
      <span class="kr">end</span>
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_equivocation_constraint IM
  <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      set_union (state_annotation s)
        (coeqv_message_equivocators IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender)
           (original_state s) m)
  | None =&gt; state_annotation s
  <span class="kr">end</span> (existT i li) (original_state s, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke0"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]; [| <span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_equivocation_constraint IM
  (set_union (state_annotation s)
     (coeqv_message_equivocators IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (original_state s) im)) (existT i li)
  (original_state s, Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke1"><span class="nb">destruct</span> (decide (composite_has_been_observed IM (original_state s) im))
              <span class="kr">as</span> [Hobs | Hnobs]; [<span class="nb">left</span>; <span class="bp">assumption</span> | <span class="nb">right</span>; <span class="nb">cbn</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_observed IM
     (set_union (state_annotation s)
        (coeqv_message_equivocators IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender)
           (original_state s) im)) (original_state s))
  im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke2"><span class="nb">apply</span> message_equivocators_can_emit; [<span class="bp">assumption</span> | <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Limited im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke3"><span class="nb">cut</span> (vinitial_message_prop Limited im \/ can_emit Limited im)
        ; [| <span class="nb">apply</span> emitted_messages_are_valid_iff; <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop Limited im âˆ¨ can_emit Limited im
â†’ can_emit Limited im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke4"><span class="nb">intros</span> [[j [[mj Hmj] Heqim]] | Hemit]; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Limited si s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HLs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited s</span></span></span><br><span><var>HLim</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited (Some im)</span></span></span><br><span><var>HLv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, Some im)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>equivocators</var><span><span class="hyp-body"><b>:= </b><span>state_annotation
  {|
    original_state :=
      state_update IM (original_state s)
        i si&#39;;
    state_annotation :=
      set_union (state_annotation s)
        (coeqv_message_equivocators IM
           sender
           (msg_dep_coequivocating_senders
              IM
              full_message_dependencies
              sender) (original_state s)
           im)
  |}</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Fixed</var><span><span class="hyp-body"><b>:= </b><span>fixed_equivocation_vlsm_composition IM
  equivocators</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">equivocators</span> := state_annotation s <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    equivocators <span class="kr">in</span>
finite_valid_trace_from Fixed
  (original_state si)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM)
     Datatypes.id original_state tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     (state_annotation s)) 
  (original_state s)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM
    (original_state s) im</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>mj</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmj</var><span class="hyp-type"><b>: </b><span>initial_message_prop mj</span></span></span><br><span><var>Heqim</var><span class="hyp-type"><b>: </b><span>`(mj â†¾ Hmj) = im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Limited im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> (no_initial_messages_in_IM j mj).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke5"><span class="kn">Corollary</span> <span class="nf">msg_dep_fixed_limited_equivocation</span> <span class="nv">is</span> <span class="nv">tr</span>
  : finite_valid_trace Limited <span class="kr">is</span> tr -&gt;
    fixed_limited_equivocation_prop IM
      (original_state <span class="kr">is</span>)
      (pre_VLSM_full_projection_finite_trace_project
        (type Limited) (composite_type IM) Datatypes.id original_state
        tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited <span class="kr">is</span> tr
â†’ fixed_limited_equivocation_prop IM
    (original_state <span class="kr">is</span>)
    (pre_VLSM_full_projection_finite_trace_project
       (type Limited) (composite_type IM) Datatypes.id
       original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited <span class="kr">is</span> tr
â†’ fixed_limited_equivocation_prop IM
    (original_state <span class="kr">is</span>)
    (pre_VLSM_full_projection_finite_trace_project
       (type Limited) (composite_type IM) Datatypes.id
       original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke7"><span class="nb">intro</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_equivocation_prop IM (original_state <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited) (composite_type IM) Datatypes.id
     original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke8"><span class="kr">exists</span> (<span class="nv">state_annotation</span> (finite_trace_last <span class="kr">is</span> tr)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">Fixed</span> :=
  fixed_equivocation_vlsm_composition IM
    (state_annotation (finite_trace_last <span class="kr">is</span> tr)) <span class="kr">in</span>
(sum_weights
   (remove_dups
      (state_annotation (finite_trace_last <span class="kr">is</span> tr))) &lt;=
 `threshold)%R
âˆ§ finite_valid_trace Fixed (original_state <span class="kr">is</span>)
    (pre_VLSM_full_projection_finite_trace_project
       (type Limited) (composite_type IM) Datatypes.id
       original_state tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_fixed_limited_equivocation_witnessed; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chke9"><span class="kn">Lemma</span> <span class="nf">fixed_transition_preserves_annotation_equivocators</span>
  <span class="nv">equivocators</span>
  (<span class="nv">is</span> : vstate (free_composite_vlsm IM)) <span class="nv">s</span> <span class="nv">tr</span>
  (<span class="nv">Htr1</span> :
    finite_valid_trace_init_to (fixed_equivocation_vlsm_composition IM equivocators)
    <span class="kr">is</span> s tr)
  <span class="nv">l</span> <span class="nv">iom</span> <span class="nv">sf</span> <span class="nv">oom</span>
  (<span class="nv">Ht</span> :
    input_valid_transition
      (fixed_equivocation_vlsm_composition IM equivocators) l
      (s, iom) (sf, oom))
  (<span class="nv">Hsub_equivocators</span> :
    state_annotation
      (@finite_trace_last _ (type Limited)
        {| original_state := <span class="kr">is</span>; state_annotation := `inhabitant |}
        (msg_dep_annotate_trace_with_equivocators IM full_message_dependencies sender <span class="kr">is</span> tr))
    âŠ† equivocators)
  : msg_dep_composite_transition_message_equivocators IM
      full_message_dependencies sender l
      (@finite_trace_last _ (type Limited)
        {| original_state := <span class="kr">is</span>; state_annotation := empty_set |}
        (annotate_trace_from (free_composite_vlsm IM)
          (<span class="nb">set</span> index)
          (msg_dep_composite_transition_message_equivocators IM full_message_dependencies sender)
          {| original_state := <span class="kr">is</span>; state_annotation := empty_set |} tr), iom)
    âŠ† equivocators.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_composite_transition_message_equivocators IM
  full_message_dependencies sender l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (msg_dep_composite_transition_message_equivocators
           IM full_message_dependencies sender)
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkea"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_composite_transition_message_equivocators IM
  full_message_dependencies sender l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (msg_dep_composite_transition_message_equivocators
           IM full_message_dependencies sender)
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkeb"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_composite_transition_message_equivocators IM
  full_message_dependencies sender l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (msg_dep_composite_transition_message_equivocators
           IM full_message_dependencies sender)
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), Some im) âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkec"><span class="nb">apply</span> set_union_subseteq_iff; <span class="nb">split</span>; [<span class="bp">assumption</span> | <span class="nb">cbn</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_message_equivocators IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (original_state
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (msg_dep_composite_transition_message_equivocators
              IM full_message_dependencies sender)
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr))) im âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chked"><span class="nb">rewrite</span> annotate_trace_from_last_original_state; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_message_equivocators IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (finite_trace_last <span class="kr">is</span> tr) im âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkee"><span class="nb">replace</span> (finite_trace_last _ _) <span class="kr">with</span> s
       <span class="bp">by</span> (<span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr1; <span class="bp">congruence</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_message_equivocators IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) s im
âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkef"><span class="nb">unfold</span> coeqv_message_equivocators.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (composite_has_been_observed IM s im)
 <span class="kr">then</span> []
 <span class="kr">else</span>
  map_option sender [im] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender s im)
âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf0">case_decide <span class="kr">as</span> Hnobserved; [<span class="nb">apply</span> list_subseteq_nil |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">map_option sender [im] ++
msg_dep_coequivocating_senders IM
  full_message_dependencies sender s im âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf1"><span class="nb">destruct</span> Ht <span class="kr">as</span> [(Hs &amp; Him &amp; Hv &amp; [Hobs | Hemitted]) Ht]
  ; [<span class="bp">contradiction</span> | <span class="nb">intros</span> eqv Heqv].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>eqv
âˆˆ map_option sender [im] ++
  msg_dep_coequivocating_senders IM
    full_message_dependencies sender s im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf2"><span class="nb">unfold</span> msg_dep_coequivocating_senders,
         not_observed_happens_before_dependencies <span class="kr">in</span> Heqv
  ; <span class="nb">rewrite</span> elem_of_app, !elem_of_map_option <span class="kr">in</span> Heqv
  ; <span class="nb">setoid_rewrite</span> elem_of_list_singleton <span class="kr">in</span> Heqv
  ; <span class="nb">setoid_rewrite</span> elem_of_list_filter <span class="kr">in</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>(<span class="kr">âˆƒ</span> <span class="nv">a</span> : message, a = im âˆ§ sender a = Some eqv)
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">a</span> : message,
     (Â¬ composite_has_been_observed IM s a
      âˆ§ a âˆˆ full_message_dependencies im)
     âˆ§ sender a = Some eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf3"><span class="nb">destruct</span> Heqv <span class="kr">as</span> [(msg &amp; Hmsg &amp; Hsender) | (msg &amp; [Hnobserved_msg Hdep_msg] &amp; Hsender)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>msg = im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkf4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkf4"><hr></label><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>msg = im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf6"><span class="nb">subst</span> msg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf7"><span class="nb">eapply</span> VLSM_incl_can_emit <span class="kr">in</span> Hemitted
    ; [| <span class="nb">apply</span> pre_loaded_vlsm_incl_pre_loaded_with_all_messages].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  {|
    vtype :=
      vtype
        (free_equivocating_vlsm_composition
           IM equivocators);
    vmachine :=
      machine
        (pre_loaded_with_all_messages_vlsm
           (free_equivocating_vlsm_composition
              IM equivocators))
  |} im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf8"><span class="nb">apply</span> can_emit_composite_project <span class="kr">in</span> Hemitted <span class="kr">as</span> [sub_eqv Hemitted].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br><span><var>sub_eqv</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM IM equivocators sub_eqv)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkf9">destruct_dec_sig sub_eqv _eqv H_eqv Heqsub_eqv; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br><span><var>_eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_eqv</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators _eqv</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM IM equivocators
        (dexist _eqv H_eqv))) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkfa"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> Hemitted; <span class="nb">cbn</span> <span class="kr">in</span> Hemitted.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br><span><var>_eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_eqv</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators _eqv</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM _eqv)) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkfb"><span class="nb">eapply</span> Hsender_safety <span class="kr">in</span> Hemitted; [| <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some eqv</span></span></span><br><span><var>_eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_eqv</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators _eqv</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>Datatypes.id eqv = _eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">subst</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkfc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkfd"><span class="nb">cut</span> (strong_fixed_equivocation IM equivocators s msg).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_fixed_equivocation IM equivocators s msg
â†’ eqv âˆˆ equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chkfe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chkfe"><hr></label><div class="goal-conclusion">strong_fixed_equivocation IM equivocators s msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chkff">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_fixed_equivocation IM equivocators s msg
â†’ eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk100"><span class="nb">intros</span> [Hobserved | Hemitted_msg].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hobserved</var><span class="hyp-type"><b>: </b><span>sent_by_non_equivocating IM equivocators s
  msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk101" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_sent IM
     equivocators s) msg</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk101"><hr></label><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk102">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hobserved</var><span class="hyp-type"><b>: </b><span>sent_by_non_equivocating IM equivocators s
  msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk103"><span class="bp">contradict</span> Hnobserved_msg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hobserved</var><span class="hyp-type"><b>: </b><span>sent_by_non_equivocating IM equivocators s
  msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_observed IM s msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> sent_by_non_equivocating_are_observed; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk104">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_sent IM
     equivocators s) msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk105"><span class="nb">eapply</span> VLSM_incl_can_emit <span class="kr">in</span> Hemitted_msg
        ; [| <span class="nb">apply</span> pre_loaded_vlsm_incl_pre_loaded_with_all_messages].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>can_emit
  {|
    vtype :=
      vtype
        (free_equivocating_vlsm_composition
           IM equivocators);
    vmachine :=
      machine
        (pre_loaded_with_all_messages_vlsm
           (free_equivocating_vlsm_composition
              IM equivocators))
  |} msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk106"><span class="nb">apply</span> can_emit_composite_project <span class="kr">in</span> Hemitted_msg <span class="kr">as</span> [sub_i Hemitted_msg].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM IM equivocators sub_i))
  msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk107">destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM IM equivocators
        (dexist i Hi))) msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk108"><span class="nb">eapply</span> Hsender_safety <span class="kr">in</span> Hemitted_msg; [| <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br><span><var>Hemitted_msg</var><span class="hyp-type"><b>: </b><span>Datatypes.id eqv = `(dexist i Hi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eqv âˆˆ equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span> <span class="kr">in</span> Hemitted_msg; <span class="nb">subst</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk109">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_fixed_equivocation IM equivocators s msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10a"><span class="nb">eapply</span> msg_dep_happens_before_reflect
    ; [| <span class="nb">eapply</span> full_message_dependencies_happens_before; <span class="bp">eassumption</span> | <span class="nb">right</span>]
    ; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_sent IM equivocators s)
  im</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk10b"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ strong_fixed_equivocation IM equivocators s m
    â†’ strong_fixed_equivocation IM equivocators s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (equivocators_composition_for_sent IM equivocators s)
  im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10d"><span class="nb">eapply</span> VLSM_incl_can_emit; [| <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (VLSMMachine_pre_loaded_with_messages
     (vmachine
        (free_equivocating_vlsm_composition IM
           equivocators))
     (composite_has_been_observed IM s))
  (VLSMMachine_pre_loaded_with_messages
     (vmachine
        (free_equivocating_vlsm_composition IM
           equivocators))
     (sent_by_non_equivocating IM equivocators s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Equivocators_Fixed_Strong_incl; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ strong_fixed_equivocation IM equivocators s m
    â†’ strong_fixed_equivocation IM equivocators s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk10f"><span class="nb">eapply</span> msg_dep_rel_reflects_strong_fixed_equivocation
      ; [<span class="bp">assumption</span> | <span class="bp">assumption</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (composite_vlsm IM
     (strong_fixed_equivocation_constraint IM
        equivocators)) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk110"><span class="nb">apply</span> VLSM_incl_valid_state; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (fixed_equivocation_vlsm_composition IM
     equivocators) (Some im)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, Some im)</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (equivocators_composition_for_observed IM
     equivocators s) im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some im) = (sf, oom)</span></span></span><br><span><var>Hsub_equivocators</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender <span class="kr">is</span> tr))
âŠ† equivocators</span></span></span><br><span><var>Hnobserved</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s im</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnobserved_msg</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_observed IM s
    msg</span></span></span><br><span><var>Hdep_msg</var><span class="hyp-type"><b>: </b><span>msg âˆˆ full_message_dependencies im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender msg = Some eqv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_machine IM
     (fixed_equivocation_constraint IM equivocators))
  (composite_vlsm_machine IM
     (strong_fixed_equivocation_constraint IM
        equivocators))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Fixed_incl_StrongFixed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk111"><span class="kn">Lemma</span> <span class="nf">msg_dep_limited_fixed_equivocation</span>
  (<span class="nv">is</span> : vstate (free_composite_vlsm IM)) (<span class="nv">tr</span> : list (composite_transition_item IM))
  : fixed_limited_equivocation_prop IM <span class="kr">is</span> tr -&gt;
    finite_valid_trace Limited
      {| original_state := <span class="kr">is</span>; state_annotation := ` inhabitant |}
      (msg_dep_annotate_trace_with_equivocators IM full_message_dependencies sender <span class="kr">is</span> tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_equivocation_prop IM <span class="kr">is</span> tr
â†’ finite_valid_trace Limited
    {|
      original_state := <span class="kr">is</span>;
      state_annotation := `inhabitant
    |}
    (msg_dep_annotate_trace_with_equivocators IM
       full_message_dependencies sender <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk112"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_equivocation_prop IM <span class="kr">is</span> tr
â†’ finite_valid_trace Limited
    {|
      original_state := <span class="kr">is</span>;
      state_annotation := `inhabitant
    |}
    (msg_dep_annotate_trace_with_equivocators IM
       full_message_dependencies sender <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk113"><span class="nb">intros</span> (equivocators &amp; Hlimited &amp; Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk114"><span class="nb">split</span>; [| <span class="nb">split</span>; [<span class="nb">apply</span> Htr | <span class="bp">reflexivity</span>]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk115"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> (finite_trace_last <span class="kr">is</span> tr)
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk116"><span class="kr">match goal with</span>
  |- finite_valid_trace_from Limited <span class="nl">?is</span> <span class="nl">?tr</span> =&gt;
    <span class="nb">cut</span>
      (finite_valid_trace_from Limited <span class="kr">is</span> tr /\
        (state_annotation (@finite_trace_last _ (type Limited) <span class="kr">is</span> tr) âŠ† equivocators))
  <span class="kr">end</span>
  ; [<span class="nb">intuition</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate (free_composite_vlsm IM)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> (finite_trace_last <span class="kr">is</span> tr)
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender <span class="kr">is</span> tr))
  âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk117"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_init_to_rev_strong_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> [])
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender <span class="kr">is</span> []))
  âŠ† equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk118" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk118"><hr></label><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span>
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender <span class="kr">is</span>
          (tr ++
           [{|
              l := l;
              input := iom;
              destination := sf;
              output := oom
            |}]))) âŠ† equivocators</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk119">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> [])
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender <span class="kr">is</span> []))
  âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11a"><span class="nb">split</span>; [| <span class="nb">apply</span> list_subseteq_nil].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span> [])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">constructor</span>; <span class="nb">apply</span> initial_state_is_valid; <span class="nb">split</span>; [<span class="bp">assumption</span> | <span class="bp">reflexivity</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender <span class="kr">is</span>
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender <span class="kr">is</span>
          (tr ++
           [{|
              l := l;
              input := iom;
              destination := sf;
              output := oom
            |}]))) âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11c"><span class="nb">setoid_rewrite</span> annotate_trace_from_app; <span class="nb">cbn</span>
    ; <span class="nb">unfold</span> annotate_trace_item; <span class="nb">rewrite</span> !finite_trace_last_is_last; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := empty_set
  |}
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |} tr ++
   [{|
      l := l;
      input := iom;
      destination :=
        {|
          original_state := sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                set_union
                  (state_annotation
                     (finite_trace_last
                        {|
                          original_state := <span class="kr">is</span>;
                          state_annotation :=
                            empty_set
                        |}
                        (annotate_trace_from
                           (free_composite_vlsm IM)
                           (<span class="nb">set</span> index)
                           (coeqv_composite_transition_message_equivocators
                              IM sender
                              (msg_dep_coequivocating_senders
                                 IM
                                 full_message_dependencies
                                 sender))
                           {|
                             original_state := <span class="kr">is</span>;
                             state_annotation :=
                               empty_set
                           |} tr)))
                  (coeqv_message_equivocators IM
                     sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender)
                     (original_state
                        (finite_trace_last
                           {|
                             original_state := <span class="kr">is</span>;
                             state_annotation :=
                               empty_set
                           |}
                           (annotate_trace_from
                              (free_composite_vlsm IM)
                              (<span class="nb">set</span> index)
                              (coeqv_composite_transition_message_equivocators
                                 IM sender
                                 (msg_dep_coequivocating_senders
                                    IM
                                    full_message_dependencies
                                    sender))
                              {|
                                original_state := <span class="kr">is</span>;
                                state_annotation :=
                                  empty_set
                              |} tr))) m)
            | None =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |}
                     (annotate_trace_from
                        (free_composite_vlsm IM)
                        (<span class="nb">set</span> index)
                        (coeqv_composite_transition_message_equivocators
                           IM sender
                           (msg_dep_coequivocating_senders
                              IM
                              full_message_dependencies
                              sender))
                        {|
                          original_state := <span class="kr">is</span>;
                          state_annotation :=
                            empty_set
                        |} tr))
            <span class="kr">end</span>
        |};
      output := oom
    |}])
âˆ§ <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      set_union
        (state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr)))
        (coeqv_message_equivocators IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender)
           (original_state
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                       IM sender
                       (msg_dep_coequivocating_senders
                          IM full_message_dependencies
                          sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr))) m)
  | None =&gt;
      state_annotation
        (finite_trace_last
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |}
           (annotate_trace_from
              (free_composite_vlsm IM) (<span class="nb">set</span> index)
              (coeqv_composite_transition_message_equivocators
                 IM sender
                 (msg_dep_coequivocating_senders IM
                    full_message_dependencies sender))
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |} tr))
  <span class="kr">end</span> âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11d"><span class="nb">split</span>; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    set_union
      (state_annotation
         (finite_trace_last
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |}
            (annotate_trace_from
               (free_composite_vlsm IM) (<span class="nb">set</span> index)
               (coeqv_composite_transition_message_equivocators
                  IM sender
                  (msg_dep_coequivocating_senders IM
                     full_message_dependencies sender))
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |} tr)))
      (coeqv_message_equivocators IM sender
         (msg_dep_coequivocating_senders IM
            full_message_dependencies sender)
         (original_state
            (finite_trace_last
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |}
               (annotate_trace_from
                  (free_composite_vlsm IM) (<span class="nb">set</span> index)
                  (coeqv_composite_transition_message_equivocators
                     IM sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender))
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |} tr))) m)
| None =&gt;
    state_annotation
      (finite_trace_last
         {|
           original_state := <span class="kr">is</span>;
           state_annotation := empty_set
         |}
         (annotate_trace_from (free_composite_vlsm IM)
            (<span class="nb">set</span> index)
            (coeqv_composite_transition_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender))
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |} tr))
<span class="kr">end</span> âŠ† equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk11e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk11e"><hr></label><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := empty_set
  |}
  (annotate_trace_from 
     (free_composite_vlsm IM) 
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |} tr ++
   [{|
      l := l;
      input := iom;
      destination :=
        {|
          original_state := sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                set_union
                  (state_annotation
                     (finite_trace_last
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |}
                      (annotate_trace_from
                      (free_composite_vlsm IM)
                      (<span class="nb">set</span> index)
                      (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender))
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |} tr)))
                  (coeqv_message_equivocators IM
                     sender
                     (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender)
                     (original_state
                      (finite_trace_last
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |}
                      (annotate_trace_from
                      (free_composite_vlsm IM)
                      (<span class="nb">set</span> index)
                      (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender))
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |} tr))) m)
            | None =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                     |}
                     (annotate_trace_from
                      (free_composite_vlsm IM)
                      (<span class="nb">set</span> index)
                      (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender))
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |} tr))
            <span class="kr">end</span>
        |};
      output := oom
    |}])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk11f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    set_union
      (state_annotation
         (finite_trace_last
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |}
            (annotate_trace_from
               (free_composite_vlsm IM) (<span class="nb">set</span> index)
               (coeqv_composite_transition_message_equivocators
                  IM sender
                  (msg_dep_coequivocating_senders IM
                     full_message_dependencies sender))
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |} tr)))
      (coeqv_message_equivocators IM sender
         (msg_dep_coequivocating_senders IM
            full_message_dependencies sender)
         (original_state
            (finite_trace_last
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |}
               (annotate_trace_from
                  (free_composite_vlsm IM) (<span class="nb">set</span> index)
                  (coeqv_composite_transition_message_equivocators
                     IM sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender))
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |} tr))) m)
| None =&gt;
    state_annotation
      (finite_trace_last
         {|
           original_state := <span class="kr">is</span>;
           state_annotation := empty_set
         |}
         (annotate_trace_from (free_composite_vlsm IM)
            (<span class="nb">set</span> index)
            (coeqv_composite_transition_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender))
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |} tr))
<span class="kr">end</span> âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> fixed_transition_preserves_annotation_equivocators
      ; [<span class="bp">eassumption</span> | <span class="bp">eassumption</span> | <span class="nb">apply</span> IHHtr1].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk120">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := empty_set
  |}
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |} tr ++
   [{|
      l := l;
      input := iom;
      destination :=
        {|
          original_state := sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                set_union
                  (state_annotation
                     (finite_trace_last
                        {|
                          original_state := <span class="kr">is</span>;
                          state_annotation :=
                            empty_set
                        |}
                        (annotate_trace_from
                           (free_composite_vlsm IM)
                           (<span class="nb">set</span> index)
                           (coeqv_composite_transition_message_equivocators
                              IM sender
                              (msg_dep_coequivocating_senders
                                 IM
                                 full_message_dependencies
                                 sender))
                           {|
                             original_state := <span class="kr">is</span>;
                             state_annotation :=
                               empty_set
                           |} tr)))
                  (coeqv_message_equivocators IM
                     sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender)
                     (original_state
                        (finite_trace_last
                           {|
                             original_state := <span class="kr">is</span>;
                             state_annotation :=
                               empty_set
                           |}
                           (annotate_trace_from
                              (free_composite_vlsm IM)
                              (<span class="nb">set</span> index)
                              (coeqv_composite_transition_message_equivocators
                                 IM sender
                                 (msg_dep_coequivocating_senders
                                    IM
                                    full_message_dependencies
                                    sender))
                              {|
                                original_state := <span class="kr">is</span>;
                                state_annotation :=
                                  empty_set
                              |} tr))) m)
            | None =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |}
                     (annotate_trace_from
                        (free_composite_vlsm IM)
                        (<span class="nb">set</span> index)
                        (coeqv_composite_transition_message_equivocators
                           IM sender
                           (msg_dep_coequivocating_senders
                              IM
                              full_message_dependencies
                              sender))
                        {|
                          original_state := <span class="kr">is</span>;
                          state_annotation :=
                            empty_set
                        |} tr))
            <span class="kr">end</span>
        |};
      output := oom
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk121"><span class="nb">apply</span> finite_valid_trace_from_app_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := empty_set
  |}
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |} tr)
âˆ§ finite_valid_trace_from Limited
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := empty_set
       |}
       (annotate_trace_from (free_composite_vlsm IM)
          (<span class="nb">set</span> index)
          (coeqv_composite_transition_message_equivocators
             IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender))
          {|
            original_state := <span class="kr">is</span>;
            state_annotation := empty_set
          |} tr))
    [{|
       l := l;
       input := iom;
       destination :=
         {|
           original_state := sf;
           state_annotation :=
             <span class="kr">match</span> iom <span class="kr">with</span>
             | Some m =&gt;
                 set_union
                   (state_annotation
                      (finite_trace_last
                         {|
                           original_state := <span class="kr">is</span>;
                           state_annotation :=
                             empty_set
                         |}
                         (annotate_trace_from
                            (free_composite_vlsm IM)
                            (<span class="nb">set</span> index)
                            (coeqv_composite_transition_message_equivocators
                               IM sender
                               (msg_dep_coequivocating_senders
                                  IM
                                  full_message_dependencies
                                  sender))
                            {|
                              original_state := <span class="kr">is</span>;
                              state_annotation :=
                                empty_set
                            |} tr)))
                   (coeqv_message_equivocators IM
                      sender
                      (msg_dep_coequivocating_senders
                         IM full_message_dependencies
                         sender)
                      (original_state
                         (finite_trace_last
                            {|
                              original_state := <span class="kr">is</span>;
                              state_annotation :=
                                empty_set
                            |}
                            (annotate_trace_from
                               (free_composite_vlsm IM)
                               (<span class="nb">set</span> index)
                               (coeqv_composite_transition_message_equivocators
                                  IM sender
                                  (msg_dep_coequivocating_senders
                                     IM
                                     full_message_dependencies
                                     sender))
                               {|
                                 original_state := <span class="kr">is</span>;
                                 state_annotation :=
                                   empty_set
                               |} tr))) m)
             | None =&gt;
                 state_annotation
                   (finite_trace_last
                      {|
                        original_state := <span class="kr">is</span>;
                        state_annotation := empty_set
                      |}
                      (annotate_trace_from
                         (free_composite_vlsm IM)
                         (<span class="nb">set</span> index)
                         (coeqv_composite_transition_message_equivocators
                            IM sender
                            (msg_dep_coequivocating_senders
                               IM
                               full_message_dependencies
                               sender))
                         {|
                           original_state := <span class="kr">is</span>;
                           state_annotation :=
                             empty_set
                         |} tr))
             <span class="kr">end</span>
         |};
       output := oom
     |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk122"><span class="nb">split</span>; [<span class="nb">apply</span> IHHtr1 |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr))
  [{|
     l := l;
     input := iom;
     destination :=
       {|
         original_state := sf;
         state_annotation :=
           <span class="kr">match</span> iom <span class="kr">with</span>
           | Some m =&gt;
               set_union
                 (state_annotation
                    (finite_trace_last
                       {|
                         original_state := <span class="kr">is</span>;
                         state_annotation := empty_set
                       |}
                       (annotate_trace_from
                          (free_composite_vlsm IM)
                          (<span class="nb">set</span> index)
                          (coeqv_composite_transition_message_equivocators
                             IM sender
                             (msg_dep_coequivocating_senders
                                IM
                                full_message_dependencies
                                sender))
                          {|
                            original_state := <span class="kr">is</span>;
                            state_annotation :=
                              empty_set
                          |} tr)))
                 (coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender)
                    (original_state
                       (finite_trace_last
                          {|
                            original_state := <span class="kr">is</span>;
                            state_annotation :=
                              empty_set
                          |}
                          (annotate_trace_from
                             (free_composite_vlsm IM)
                             (<span class="nb">set</span> index)
                             (coeqv_composite_transition_message_equivocators
                                IM sender
                                (msg_dep_coequivocating_senders
                                   IM
                                   full_message_dependencies
                                   sender))
                             {|
                               original_state := <span class="kr">is</span>;
                               state_annotation :=
                                 empty_set
                             |} tr))) m)
           | None =&gt;
               state_annotation
                 (finite_trace_last
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |}
                    (annotate_trace_from
                       (free_composite_vlsm IM)
                       (<span class="nb">set</span> index)
                       (coeqv_composite_transition_message_equivocators
                          IM sender
                          (msg_dep_coequivocating_senders
                             IM
                             full_message_dependencies
                             sender))
                       {|
                         original_state := <span class="kr">is</span>;
                         state_annotation := empty_set
                       |} tr))
           <span class="kr">end</span>
       |};
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk123"><span class="nb">apply</span> finite_valid_trace_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom)
  ({|
     original_state := sf;
     state_annotation :=
       <span class="kr">match</span> iom <span class="kr">with</span>
       | Some m =&gt;
           set_union
             (state_annotation
                (finite_trace_last
                   {|
                     original_state := <span class="kr">is</span>;
                     state_annotation := empty_set
                   |}
                   (annotate_trace_from
                      (free_composite_vlsm IM)
                      (<span class="nb">set</span> index)
                      (coeqv_composite_transition_message_equivocators
                         IM sender
                         (msg_dep_coequivocating_senders
                            IM
                            full_message_dependencies
                            sender))
                      {|
                        original_state := <span class="kr">is</span>;
                        state_annotation := empty_set
                      |} tr)))
             (coeqv_message_equivocators IM sender
                (msg_dep_coequivocating_senders IM
                   full_message_dependencies sender)
                (original_state
                   (finite_trace_last
                      {|
                        original_state := <span class="kr">is</span>;
                        state_annotation := empty_set
                      |}
                      (annotate_trace_from
                         (free_composite_vlsm IM)
                         (<span class="nb">set</span> index)
                         (coeqv_composite_transition_message_equivocators
                            IM sender
                            (msg_dep_coequivocating_senders
                               IM
                               full_message_dependencies
                               sender))
                         {|
                           original_state := <span class="kr">is</span>;
                           state_annotation :=
                             empty_set
                         |} tr))) m)
       | None =&gt;
           state_annotation
             (finite_trace_last
                {|
                  original_state := <span class="kr">is</span>;
                  state_annotation := empty_set
                |}
                (annotate_trace_from
                   (free_composite_vlsm IM)
                   (<span class="nb">set</span> index)
                   (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                         IM full_message_dependencies
                         sender))
                   {|
                     original_state := <span class="kr">is</span>;
                     state_annotation := empty_set
                   |} tr))
       <span class="kr">end</span>
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk124"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Limited
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk125" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk125"><hr></label><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk126" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk126"><hr></label><div class="goal-conclusion">composite_valid IM l
  (original_state
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from 
           (free_composite_vlsm IM) 
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), iom).<span class="mi">1</span>,
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom).<span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk127"><hr></label><div class="goal-conclusion">coeqv_limited_equivocation_constraint IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk128" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk128"><hr></label><div class="goal-conclusion">transition l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) =
({|
   original_state := sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union
           (state_annotation
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr)))
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender)
              (original_state
                 (finite_trace_last
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |}
                    (annotate_trace_from
                      (free_composite_vlsm IM)
                      (<span class="nb">set</span> index)
                      (coeqv_composite_transition_message_equivocators
                      IM sender
                      (msg_dep_coequivocating_senders
                      IM full_message_dependencies
                      sender))
                      {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                      |} tr))) m)
     | None =&gt;
         state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) 
                 (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                      full_message_dependencies sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr))
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk129">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Limited
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> finite_valid_trace_last_pstate, IHHtr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12b"><span class="nb">clear</span> -Heqiom IHHtr2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12c"><span class="nb">destruct</span> IHHtr2 <span class="kr">as</span> [IHHtr2 _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12d"><span class="nb">unfold</span> empty_initial_message_or_final_output <span class="kr">in</span> Heqiom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> has_last_or_null iom_tr <span class="kr">with</span>
| inleft (existT _tmp (item â†¾ _)) =&gt;
    output item = iom
| inright _ =&gt;
    option_initial_message_prop iom
<span class="kr">end</span></span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12e">destruct_list_last iom_tr iom_tr&#39; iom_item Heqiom_tr
        ; [<span class="nb">apply</span> option_initial_message_is_valid; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = iom</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si (iom_tr&#39; ++ [iom_item]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk12f"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]; [| <span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si (iom_tr&#39; ++ [iom_item]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk130"><span class="nb">eapply</span> valid_trace_output_is_valid; [<span class="bp">eassumption</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si (iom_tr&#39; ++ [iom_item]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) im
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender iom_si
     (iom_tr&#39; ++ [iom_item]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk131"><span class="nb">setoid_rewrite</span> annotate_trace_from_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si (iom_tr&#39; ++ [iom_item]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) im
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     {|
       original_state := iom_si;
       state_annotation := `inhabitant
     |} iom_tr&#39; ++
   annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (finite_trace_last
        {|
          original_state := iom_si;
          state_annotation := `inhabitant
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := iom_si;
             state_annotation := `inhabitant
           |} iom_tr&#39;)) [iom_item])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk132"><span class="nb">apply</span> Exists_app; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si (iom_tr&#39; ++ [iom_item]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (field_selector output im)
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (finite_trace_last
        {|
          original_state := iom_si;
          state_annotation := `inhabitant
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := iom_si;
             state_annotation := `inhabitant
           |} iom_tr&#39;)) [iom_item])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk133"><span class="nb">destruct</span> iom_item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr =
iom_tr&#39; ++
[{|
   l := l;
   input := input;
   destination := destination;
   output := output
 |}]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>VLSM.output
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} = Some im</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si
     (iom_tr&#39; ++
      [{|
         l := l;
         input := input;
         destination := destination;
         output := output
       |}]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (field_selector VLSM.output im)
  (annotate_trace_from (free_composite_vlsm IM)
     (<span class="nb">set</span> index)
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (finite_trace_last
        {|
          original_state := iom_si;
          state_annotation := `inhabitant
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := iom_si;
             state_annotation := `inhabitant
           |} iom_tr&#39;))
     [{|
        l := l;
        input := input;
        destination := destination;
        output := output
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Exists_exists; <span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="nb">left</span> | <span class="bp">assumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk134">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM l
  (original_state
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), iom).<span class="mi">1</span>,
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom).<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk135"><span class="nb">destruct</span> l <span class="kr">as</span> [i li]; <span class="nb">cbn</span>
        ; <span class="nb">rewrite</span> annotate_trace_from_last_original_state; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) (existT i li) 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (finite_trace_last <span class="kr">is</span> tr i, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk136"><span class="nb">replace</span> (finite_trace_last _ _) <span class="kr">with</span> s
             <span class="bp">by</span> (<span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr1; <span class="bp">congruence</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) (existT i li) 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (s i, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk137">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_limited_equivocation_constraint IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk138"><span class="nb">apply</span> Rle_trans <span class="kr">with</span> (sum_weights (remove_dups equivocators))
        ; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights
   (coeqv_composite_transition_message_equivocators IM
      sender
      (msg_dep_coequivocating_senders IM
         full_message_dependencies sender) l
      (finite_trace_last
         {|
           original_state := <span class="kr">is</span>;
           state_annotation := empty_set
         |}
         (annotate_trace_from (free_composite_vlsm IM)
            (<span class="nb">set</span> index)
            (coeqv_composite_transition_message_equivocators
               IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender))
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |} tr), iom)) &lt;=
 sum_weights (remove_dups equivocators))%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk139"><span class="nb">apply</span> sum_weights_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), iom))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk13a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk13a"><hr></label><div class="goal-conclusion">NoDup (remove_dups equivocators)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk13b"><hr></label><div class="goal-conclusion">coeqv_composite_transition_message_equivocators IM
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from 
        (free_composite_vlsm IM) 
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† 
remove_dups equivocators</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk13c">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), iom))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk13d"><span class="nb">destruct</span> iom <span class="kr">as</span> [im|]; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr None</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, None) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), None))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk13e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr 
  (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk13e"><hr></label><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from 
           (free_composite_vlsm IM) 
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), Some im))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk13f">++</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr None</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, None) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), None))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk140"><span class="nb">eapply</span> coeqv_limited_equivocation_state_annotation_nodup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr None</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, None) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (coeqv_limited_equivocation_vlsm IM sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">              </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> finite_valid_trace_last_pstate, IHHtr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk141">++</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr 
  (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender) l
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr), Some im))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk142"><span class="nb">apply</span> set_union_nodup_left.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr 
  (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (state_annotation
     (finite_trace_last
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |}
        (annotate_trace_from (free_composite_vlsm IM)
           (<span class="nb">set</span> index)
           (coeqv_composite_transition_message_equivocators
              IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender))
           {|
             original_state := <span class="kr">is</span>;
             state_annotation := empty_set
           |} tr)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">              </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk143"><span class="nb">eapply</span> coeqv_limited_equivocation_state_annotation_nodup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr 
  (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, Some im) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (coeqv_limited_equivocation_vlsm IM sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">              </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> finite_valid_trace_last_pstate, IHHtr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk144">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (remove_dups equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> NoDup_remove_dups.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk145">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_composite_transition_message_equivocators IM
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† remove_dups equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk146"><span class="nb">transitivity</span> equivocators.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_composite_transition_message_equivocators IM
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† equivocators</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk147" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk147"><hr></label><div class="goal-conclusion">equivocators âŠ† remove_dups equivocators</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk148">++</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_composite_transition_message_equivocators IM
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender) l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) âŠ† equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> fixed_transition_preserves_annotation_equivocators
              ; [<span class="bp">eassumption</span> | <span class="bp">eassumption</span> | <span class="nb">apply</span> IHHtr1].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk149">++</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocators âŠ† remove_dups equivocators</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intro</span>; <span class="nb">apply</span> elem_of_remove_dups.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) l (s, iom) 
  (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition l
  (finite_trace_last
     {|
       original_state := <span class="kr">is</span>;
       state_annotation := empty_set
     |}
     (annotate_trace_from (free_composite_vlsm IM)
        (<span class="nb">set</span> index)
        (coeqv_composite_transition_message_equivocators
           IM sender
           (msg_dep_coequivocating_senders IM
              full_message_dependencies sender))
        {|
          original_state := <span class="kr">is</span>;
          state_annotation := empty_set
        |} tr), iom) =
({|
   original_state := sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union
           (state_annotation
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                       IM sender
                       (msg_dep_coequivocating_senders
                          IM full_message_dependencies
                          sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr)))
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender)
              (original_state
                 (finite_trace_last
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |}
                    (annotate_trace_from
                       (free_composite_vlsm IM)
                       (<span class="nb">set</span> index)
                       (coeqv_composite_transition_message_equivocators
                          IM sender
                          (msg_dep_coequivocating_senders
                             IM
                             full_message_dependencies
                             sender))
                       {|
                         original_state := <span class="kr">is</span>;
                         state_annotation := empty_set
                       |} tr))) m)
     | None =&gt;
         state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr))
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14b"><span class="nb">destruct</span> l <span class="kr">as</span> [i li]; <span class="nb">cbn</span>; <span class="nb">unfold</span> annotated_transition; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) (existT i li) 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (original_state
          (finite_trace_last
             {|
               original_state := <span class="kr">is</span>;
               state_annotation := empty_set
             |}
             (annotate_trace_from
                (free_composite_vlsm IM) (<span class="nb">set</span> index)
                (coeqv_composite_transition_message_equivocators
                   IM sender
                   (msg_dep_coequivocating_senders IM
                      full_message_dependencies sender))
                {|
                  original_state := <span class="kr">is</span>;
                  state_annotation := empty_set
                |} tr)) i, iom) <span class="kr">in</span>
   (state_update IM
      (original_state
         (finite_trace_last
            {|
              original_state := <span class="kr">is</span>;
              state_annotation := empty_set
            |}
            (annotate_trace_from
               (free_composite_vlsm IM) (<span class="nb">set</span> index)
               (coeqv_composite_transition_message_equivocators
                  IM sender
                  (msg_dep_coequivocating_senders IM
                     full_message_dependencies sender))
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |} tr))) i si&#39;, om&#39;) <span class="kr">in</span>
 ({|
    original_state := s&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union
            (state_annotation
               (finite_trace_last
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |}
                  (annotate_trace_from
                     (free_composite_vlsm IM)
                     (<span class="nb">set</span> index)
                     (coeqv_composite_transition_message_equivocators
                        IM sender
                        (msg_dep_coequivocating_senders
                           IM
                           full_message_dependencies
                           sender))
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |} tr)))
            (coeqv_message_equivocators IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender)
               (original_state
                  (finite_trace_last
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |}
                     (annotate_trace_from
                        (free_composite_vlsm IM)
                        (<span class="nb">set</span> index)
                        (coeqv_composite_transition_message_equivocators
                           IM sender
                           (msg_dep_coequivocating_senders
                              IM
                              full_message_dependencies
                              sender))
                        {|
                          original_state := <span class="kr">is</span>;
                          state_annotation :=
                            empty_set
                        |} tr))) m)
      | None =&gt;
          state_annotation
            (finite_trace_last
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |}
               (annotate_trace_from
                  (free_composite_vlsm IM) (<span class="nb">set</span> index)
                  (coeqv_composite_transition_message_equivocators
                     IM sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender))
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |} tr))
      <span class="kr">end</span>
  |}, om&#39;)) =
({|
   original_state := sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union
           (state_annotation
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                       IM sender
                       (msg_dep_coequivocating_senders
                          IM full_message_dependencies
                          sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr)))
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender)
              (original_state
                 (finite_trace_last
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |}
                    (annotate_trace_from
                       (free_composite_vlsm IM)
                       (<span class="nb">set</span> index)
                       (coeqv_composite_transition_message_equivocators
                          IM sender
                          (msg_dep_coequivocating_senders
                             IM
                             full_message_dependencies
                             sender))
                       {|
                         original_state := <span class="kr">is</span>;
                         state_annotation := empty_set
                       |} tr))) m)
     | None =&gt;
         state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr))
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14c"><span class="nb">rewrite</span> !annotate_trace_from_last_original_state; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) (existT i li) 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (finite_trace_last <span class="kr">is</span> tr i, iom) <span class="kr">in</span>
   (state_update IM (finite_trace_last <span class="kr">is</span> tr) i si&#39;,
   om&#39;) <span class="kr">in</span>
 ({|
    original_state := s&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union
            (state_annotation
               (finite_trace_last
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |}
                  (annotate_trace_from
                     (free_composite_vlsm IM)
                     (<span class="nb">set</span> index)
                     (coeqv_composite_transition_message_equivocators
                        IM sender
                        (msg_dep_coequivocating_senders
                           IM
                           full_message_dependencies
                           sender))
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |} tr)))
            (coeqv_message_equivocators IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender)
               (finite_trace_last <span class="kr">is</span> tr) m)
      | None =&gt;
          state_annotation
            (finite_trace_last
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |}
               (annotate_trace_from
                  (free_composite_vlsm IM) (<span class="nb">set</span> index)
                  (coeqv_composite_transition_message_equivocators
                     IM sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender))
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |} tr))
      <span class="kr">end</span>
  |}, om&#39;)) =
({|
   original_state := sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union
           (state_annotation
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                       IM sender
                       (msg_dep_coequivocating_senders
                          IM full_message_dependencies
                          sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr)))
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender)
              (finite_trace_last <span class="kr">is</span> tr) m)
     | None =&gt;
         state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr))
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14d"><span class="nb">replace</span> (finite_trace_last _ _) <span class="kr">with</span> s
             <span class="bp">by</span> (<span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr1; <span class="bp">congruence</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights (remove_dups equivocators) &lt;=
 `threshold)%R</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (fixed_equivocation_vlsm_composition IM
     equivocators) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (fixed_equivocation_vlsm_composition IM
     equivocators) (existT i li) 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := <span class="kr">is</span>;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender <span class="kr">is</span>
     tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := <span class="kr">is</span>;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          <span class="kr">is</span> tr)) âŠ† equivocators</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state := iom_si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     iom_si iom_tr)
âˆ§ state_annotation
    (finite_trace_last
       {|
         original_state := iom_si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators
          IM full_message_dependencies sender
          iom_si iom_tr)) âŠ† equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li (s i, iom) <span class="kr">in</span>
   (state_update IM s i si&#39;, om&#39;) <span class="kr">in</span>
 ({|
    original_state := s&#39;;
    state_annotation :=
      <span class="kr">match</span> iom <span class="kr">with</span>
      | Some m =&gt;
          set_union
            (state_annotation
               (finite_trace_last
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |}
                  (annotate_trace_from
                     (free_composite_vlsm IM)
                     (<span class="nb">set</span> index)
                     (coeqv_composite_transition_message_equivocators
                        IM sender
                        (msg_dep_coequivocating_senders
                           IM
                           full_message_dependencies
                           sender))
                     {|
                       original_state := <span class="kr">is</span>;
                       state_annotation := empty_set
                     |} tr)))
            (coeqv_message_equivocators IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender) s
               m)
      | None =&gt;
          state_annotation
            (finite_trace_last
               {|
                 original_state := <span class="kr">is</span>;
                 state_annotation := empty_set
               |}
               (annotate_trace_from
                  (free_composite_vlsm IM) (<span class="nb">set</span> index)
                  (coeqv_composite_transition_message_equivocators
                     IM sender
                     (msg_dep_coequivocating_senders
                        IM full_message_dependencies
                        sender))
                  {|
                    original_state := <span class="kr">is</span>;
                    state_annotation := empty_set
                  |} tr))
      <span class="kr">end</span>
  |}, om&#39;)) =
({|
   original_state := sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         set_union
           (state_annotation
              (finite_trace_last
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |}
                 (annotate_trace_from
                    (free_composite_vlsm IM)
                    (<span class="nb">set</span> index)
                    (coeqv_composite_transition_message_equivocators
                       IM sender
                       (msg_dep_coequivocating_senders
                          IM full_message_dependencies
                          sender))
                    {|
                      original_state := <span class="kr">is</span>;
                      state_annotation := empty_set
                    |} tr)))
           (coeqv_message_equivocators IM sender
              (msg_dep_coequivocating_senders IM
                 full_message_dependencies sender) s m)
     | None =&gt;
         state_annotation
           (finite_trace_last
              {|
                original_state := <span class="kr">is</span>;
                state_annotation := empty_set
              |}
              (annotate_trace_from
                 (free_composite_vlsm IM) (<span class="nb">set</span> index)
                 (coeqv_composite_transition_message_equivocators
                    IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender))
                 {|
                   original_state := <span class="kr">is</span>;
                   state_annotation := empty_set
                 |} tr))
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> Ht <span class="kr">as</span> [_ Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht
        ; <span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;)
        ; <span class="nb">inversion</span> Ht; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14e"><span class="kn">Lemma</span> <span class="nf">annotated_limited_incl_constrained_limited</span>
  {<span class="nv">is_equivocating_tracewise_no_has_been_sent_dec</span> : RelDecision (is_equivocating_tracewise_no_has_been_sent IM (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i) sender)}
  : VLSM_full_projection
      Limited
      (limited_equivocation_vlsm_composition IM sender)
      Datatypes.id original_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection Limited
  (limited_equivocation_vlsm_composition IM sender)
  Datatypes.id original_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk14f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection Limited
  (limited_equivocation_vlsm_composition IM sender)
  Datatypes.id original_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk150"><span class="nb">constructor</span>; <span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (limited_equivocation_vlsm_composition IM sender)
  (original_state sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited)
     (type
        (limited_equivocation_vlsm_composition IM
           sender)) Datatypes.id original_state trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk151"><span class="nb">eapply</span> traces_exhibiting_limited_equivocation_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender_safety_alt_prop IM (<span class="kr">Î»</span> <span class="nv">i</span> : index, i) sender</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MsgDepLimitedEquivocation-v-chk152" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited sX trX</span></span></span><br></div><label class="goal-separator" for="MsgDepLimitedEquivocation-v-chk152"><hr></label><div class="goal-conclusion">fixed_limited_equivocation_prop IM 
  (original_state sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited)
     (type
        (limited_equivocation_vlsm_composition IM
        sender)) Datatypes.id original_state trX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk153">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender_safety_alt_prop IM (<span class="kr">Î»</span> <span class="nv">i</span> : index, i) sender</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hsender_safety.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MsgDepLimitedEquivocation-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="MsgDepLimitedEquivocation-v-chk154">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM Datatypes.id
  sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM Datatypes.id sender Hchannel</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM
  Datatypes.id sender</span></span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM
     (<span class="kr">Î»</span> <span class="nv">i</span> : index,
        i)
     sender)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_equivocation_prop IM (original_state sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type Limited)
     (type
        (limited_equivocation_vlsm_composition IM
           sender)) Datatypes.id original_state trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> msg_dep_fixed_limited_equivocation; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_msg_dep_fixed_limited_equivocation</span>.</span></span></pre></article></body></html>