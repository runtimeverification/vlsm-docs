<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write(document.title)</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">Lib.StdppExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">Lib.StdppListSet</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">List set utility definitions and lemmas</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="set_eq" class="idref" href="#set_eq"><span class="id" title="definition">set_eq</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>} (<a id="s1:2" class="idref" href="#s1:2"><span class="id" title="binder">s1</span></a> <a id="s2:3" class="idref" href="#s2:3"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:1"><span class="id" title="variable">A</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:2"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:3"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:3"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:2"><span class="id" title="variable">s1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="set_eq_dec" class="idref" href="#set_eq_dec"><span class="id" title="instance">set_eq_dec</span></a> `{<a id="EqDecision0:5" class="idref" href="#EqDecision0:5"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:5" class="idref" href="#EqDecision0:5"><span class="id" title="binder">A</span></a>} : <span class="id" title="class">RelDecision</span> (@<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:4"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">and_dec</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_subseteq_dec"><span class="id" title="instance">list_subseteq_dec</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_extract_forall" class="idref" href="#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a><br/>
&nbsp;&nbsp;{<a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="l1:7" class="idref" href="#l1:7"><span class="id" title="binder">l1</span></a> <a id="l2:8" class="idref" href="#l2:8"><span class="id" title="binder">l2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:6"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:7"><span class="id" title="variable">l1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:8"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="notation">forall</span> <a id="a:9" class="idref" href="#a:9"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#a:9"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:7"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:9"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:8"><span class="id" title="variable">l2</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#forall_and_commute"><span class="id" title="lemma">forall_and_commute</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_proj1" class="idref" href="#set_eq_proj1"><span class="id" title="lemma">set_eq_proj1</span></a> {<a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:11" class="idref" href="#s1:11"><span class="id" title="binder">s1</span></a> <a id="s2:12" class="idref" href="#s2:12"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:10"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:11"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:12"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:11"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:12"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_proj2" class="idref" href="#set_eq_proj2"><span class="id" title="lemma">set_eq_proj2</span></a> {<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:14" class="idref" href="#s1:14"><span class="id" title="binder">s1</span></a> <a id="s2:15" class="idref" href="#s2:15"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:13"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:14"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:15"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:15"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:14"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_refl" class="idref" href="#set_eq_refl"><span class="id" title="lemma">set_eq_refl</span></a> {<a id="A:16" class="idref" href="#A:16"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:16"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:17"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_comm" class="idref" href="#set_eq_comm"><span class="id" title="lemma">set_eq_comm</span></a> {<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="s1:19" class="idref" href="#s1:19"><span class="id" title="binder">s1</span></a> <a id="s2:20" class="idref" href="#s2:20"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:18"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:19"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:20"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:20"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:19"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_tran" class="idref" href="#set_eq_tran"><span class="id" title="lemma">set_eq_tran</span></a> {<a id="A:21" class="idref" href="#A:21"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="s1:22" class="idref" href="#s1:22"><span class="id" title="binder">s1</span></a> <a id="s2:23" class="idref" href="#s2:23"><span class="id" title="binder">s2</span></a> <a id="s3:24" class="idref" href="#s3:24"><span class="id" title="binder">s3</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:21"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:22"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:23"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:23"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s3:24"><span class="id" title="variable">s3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:22"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s3:24"><span class="id" title="variable">s3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.RelationClasses.html#PreOrder_Transitive"><span class="id" title="method">PreOrder_Transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s2</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_empty_iff" class="idref" href="#set_eq_empty_iff"><span class="id" title="lemma">set_eq_empty_iff</span></a><br/>
&nbsp;&nbsp;{<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:25"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; [|<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq_refl"><span class="id" title="lemma">set_eq_refl</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">hd</span> <span class="id" title="var">tl</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H</span> <span class="id" title="var">hd</span> (<span class="id" title="constructor">elem_of_list_here</span> <span class="id" title="var">hd</span> <span class="id" title="var">tl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_cons" class="idref" href="#set_eq_cons"><span class="id" title="lemma">set_eq_cons</span></a> {<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:28" class="idref" href="#a:28"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:27"><span class="id" title="variable">A</span></a>) (<a id="s1:29" class="idref" href="#s1:29"><span class="id" title="binder">s1</span></a> <a id="s2:30" class="idref" href="#s2:30"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:27"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:29"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:30"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#a:28"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:29"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="VLSM.Lib.ListSetExtras.html#a:28"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:30"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;; (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>) || (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_Forall" class="idref" href="#set_eq_Forall"><span class="id" title="lemma">set_eq_Forall</span></a><br/>
&nbsp;&nbsp;{<a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="s1:32" class="idref" href="#s1:32"><span class="id" title="binder">s1</span></a> <a id="s2:33" class="idref" href="#s2:33"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:31"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="H12:34" class="idref" href="#H12:34"><span class="id" title="binder">H12</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:32"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:33"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:35" class="idref" href="#P:35"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:32"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:33"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H12</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H12</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_comm" class="idref" href="#set_union_comm"><span class="id" title="lemma">set_union_comm</span></a> `{<a id="EqDecision0:37" class="idref" href="#EqDecision0:37"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:37" class="idref" href="#EqDecision0:37"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:38" class="idref" href="#s1:38"><span class="id" title="binder">s1</span></a> <a id="s2:39" class="idref" href="#s2:39"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:36"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:38"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:39"><span class="id" title="variable">s2</span></a>) (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:39"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:38"><span class="id" title="variable">s1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">left</span> ; <span class="id" title="tactic">assumption</span>) || (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_empty" class="idref" href="#set_union_empty"><span class="id" title="lemma">set_union_empty</span></a> `{<a id="EqDecision0:41" class="idref" href="#EqDecision0:41"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:41" class="idref" href="#EqDecision0:41"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:42" class="idref" href="#s1:42"><span class="id" title="binder">s1</span></a> <a id="s2:43" class="idref" href="#s2:43"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:40"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:42"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:43"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:42"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:43"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_comm"><span class="id" title="lemma">set_union_comm</span></a> <span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_intro"><span class="id" title="lemma">set_add_intro</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">s1</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#or_introl"><span class="id" title="constructor">or_introl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H1</span> <span class="id" title="var">a</span> <span class="id" title="var">Hadd</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="lemma">list_subseteq_nil</span> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_intro"><span class="id" title="lemma">set_add_intro</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#or_introl"><span class="id" title="constructor">or_introl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">Hadd</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_nodup_left" class="idref" href="#set_union_nodup_left"><span class="id" title="lemma">set_union_nodup_left</span></a> `{<a id="EqDecision0:45" class="idref" href="#EqDecision0:45"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:45" class="idref" href="#EqDecision0:45"><span class="id" title="binder">A</span></a>} (<a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a> <a id="l':47" class="idref" href="#l':47"><span class="id" title="binder">l'</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:44"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:46"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l':47"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x'</span> <span class="id" title="var">l'</span> <span class="id" title="var">IH</span>]; [<span class="id" title="tactic">trivial</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_nodup"><span class="id" title="lemma">set_add_nodup</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_subseteq_left" class="idref" href="#set_union_subseteq_left"><span class="id" title="lemma">set_union_subseteq_left</span></a> `{<a id="EqDecision0:49" class="idref" href="#EqDecision0:49"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:49" class="idref" href="#EqDecision0:49"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:50" class="idref" href="#s1:50"><span class="id" title="binder">s1</span></a> <a id="s2:51" class="idref" href="#s2:51"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:48"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:50"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:50"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:51"><span class="id" title="variable">s2</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_subseteq_right" class="idref" href="#set_union_subseteq_right"><span class="id" title="lemma">set_union_subseteq_right</span></a> `{<a id="EqDecision0:53" class="idref" href="#EqDecision0:53"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:53" class="idref" href="#EqDecision0:53"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:54" class="idref" href="#s1:54"><span class="id" title="binder">s1</span></a> <a id="s2:55" class="idref" href="#s2:55"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:52"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:55"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:54"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:55"><span class="id" title="variable">s2</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_subseteq_iff" class="idref" href="#set_union_subseteq_iff"><span class="id" title="lemma">set_union_subseteq_iff</span></a> `{<a id="EqDecision0:57" class="idref" href="#EqDecision0:57"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:57" class="idref" href="#EqDecision0:57"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:58" class="idref" href="#s1:58"><span class="id" title="binder">s1</span></a> <a id="s2:59" class="idref" href="#s2:59"><span class="id" title="binder">s2</span></a> <a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:56"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:58"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:59"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:58"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:59"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:60"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">subseteq</span>, <span class="id" title="instance">list_subseteq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_iterated_nodup" class="idref" href="#set_union_iterated_nodup"><span class="id" title="lemma">set_union_iterated_nodup</span></a> `{<a id="EqDecision0:62" class="idref" href="#EqDecision0:62"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:62" class="idref" href="#EqDecision0:62"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="ss:63" class="idref" href="#ss:63"><span class="id" title="binder">ss</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:61"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;(<a id="H:65" class="idref" href="#H:65"><span class="id" title="binder">H</span></a> : <span class="id" title="notation">forall</span> <a id="s:64" class="idref" href="#s:64"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:64"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:63"><span class="id" title="variable">ss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:64"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:63"><span class="id" title="variable">ss</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_nil</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_in_iterated" class="idref" href="#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:67" class="idref" href="#EqDecision0:67"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:67" class="idref" href="#EqDecision0:67"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="ss:68" class="idref" href="#ss:68"><span class="id" title="binder">ss</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:66"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;(<a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:66"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:69"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:68"><span class="id" title="variable">ss</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="s:70" class="idref" href="#s:70"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:69"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:70"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:68"><span class="id" title="variable">ss</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ss</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">_</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hina0</span> | <span class="id" title="var">Hinss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHss</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinss</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hinss</span> <span class="id" title="var">Hinx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">Ha</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_iterated_subseteq" class="idref" href="#set_union_iterated_subseteq"><span class="id" title="lemma">set_union_iterated_subseteq</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:72" class="idref" href="#EqDecision0:72"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:72" class="idref" href="#EqDecision0:72"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="ss:73" class="idref" href="#ss:73"><span class="id" title="binder">ss</span></a> <a id="ss':74" class="idref" href="#ss':74"><span class="id" title="binder">ss'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:71"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hincl:75" class="idref" href="#Hincl:75"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:73"><span class="id" title="variable">ss</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss':74"><span class="id" title="variable">ss'</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:73"><span class="id" title="variable">ss</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss':74"><span class="id" title="variable">ss'</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">Ha</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_empty_left" class="idref" href="#set_union_empty_left"><span class="id" title="lemma">set_union_empty_left</span></a> `{<a id="EqDecision0:77" class="idref" href="#EqDecision0:77"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:77" class="idref" href="#EqDecision0:77"><span class="id" title="binder">A</span></a>}  : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:78" class="idref" href="#s:78"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:76"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:78"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:78"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:78"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_list_subseteq" class="idref" href="#map_list_subseteq"><span class="id" title="lemma">map_list_subseteq</span></a> {<a id="A:79" class="idref" href="#A:79"><span class="id" title="binder">A</span></a> <a id="B:80" class="idref" href="#B:80"><span class="id" title="binder">B</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:81" class="idref" href="#f:81"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:80"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:79"><span class="id" title="variable">A</span></a>) (<a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a> <a id="s':83" class="idref" href="#s':83"><span class="id" title="binder">s'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:80"><span class="id" title="variable">B</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s:82"><span class="id" title="variable">s</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':83"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:81"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:82"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:81"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':83"><span class="id" title="variable">s'</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">list_subseteq_nil</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> <span class="id" title="notation">⊆</span> <span class="id" title="var">s'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHs</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_set_eq" class="idref" href="#map_set_eq"><span class="id" title="lemma">map_set_eq</span></a> {<a id="A:84" class="idref" href="#A:84"><span class="id" title="binder">A</span></a> <a id="B:85" class="idref" href="#B:85"><span class="id" title="binder">B</span></a>} (<a id="f:86" class="idref" href="#f:86"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:85"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:84"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> <a id="s':88" class="idref" href="#s':88"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':88"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:86"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:87"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:86"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':88"><span class="id" title="variable">s'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#map_list_subseteq"><span class="id" title="lemma">map_list_subseteq</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_nodup" class="idref" href="#set_map_nodup"><span class="id" title="lemma">set_map_nodup</span></a> {<a id="A:89" class="idref" href="#A:89"><span class="id" title="binder">A</span></a> <a id="B:90" class="idref" href="#B:90"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:91" class="idref" href="#EqDecision0:91"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:91" class="idref" href="#EqDecision0:91"><span class="id" title="binder">A</span></a>} (<a id="f:92" class="idref" href="#f:92"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:90"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:89"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:93" class="idref" href="#s:93"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:90"><span class="id" title="variable">B</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:92"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:93"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_nodup"><span class="id" title="lemma">set_add_nodup</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_elem_of" class="idref" href="#set_map_elem_of"><span class="id" title="lemma">set_map_elem_of</span></a> {<a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a> <a id="B:95" class="idref" href="#B:95"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:96" class="idref" href="#EqDecision0:96"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:96" class="idref" href="#EqDecision0:96"><span class="id" title="binder">A</span></a>} (<a id="f:97" class="idref" href="#f:97"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:95"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:94"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="s:99" class="idref" href="#s:99"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#x:98"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:99"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#f:97"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:98"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:97"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:99"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_intro2"><span class="id" title="lemma">set_add_intro2</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_exists" class="idref" href="#set_map_exists"><span class="id" title="lemma">set_map_exists</span></a> {<a id="A:100" class="idref" href="#A:100"><span class="id" title="binder">A</span></a> <a id="B:101" class="idref" href="#B:101"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:102" class="idref" href="#EqDecision0:102"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:102" class="idref" href="#EqDecision0:102"><span class="id" title="binder">A</span></a>} (<a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:101"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:100"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="y:104" class="idref" href="#y:104"><span class="id" title="binder">y</span></a> <a id="s:105" class="idref" href="#s:105"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#y:104"><span class="id" title="variable">y</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:105"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:106" class="idref" href="#x:106"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:106"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:105"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#y:104"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">Hf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hin</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Heq</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">Hf</span>]]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_subseteq" class="idref" href="#set_map_subseteq"><span class="id" title="lemma">set_map_subseteq</span></a> {<a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> <a id="B:108" class="idref" href="#B:108"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:109" class="idref" href="#EqDecision0:109"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:109" class="idref" href="#EqDecision0:109"><span class="id" title="binder">A</span></a>} (<a id="f:110" class="idref" href="#f:110"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:108"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:107"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> <a id="s':112" class="idref" href="#s':112"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s:111"><span class="id" title="variable">s</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':112"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:110"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:111"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:110"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':112"><span class="id" title="variable">s'</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_elim"><span class="id" title="lemma">set_add_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_map_elem_of"><span class="id" title="lemma">set_map_elem_of</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_eq" class="idref" href="#set_map_eq"><span class="id" title="lemma">set_map_eq</span></a> {<a id="A:113" class="idref" href="#A:113"><span class="id" title="binder">A</span></a> <a id="B:114" class="idref" href="#B:114"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:115" class="idref" href="#EqDecision0:115"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:115" class="idref" href="#EqDecision0:115"><span class="id" title="binder">A</span></a>} (<a id="f:116" class="idref" href="#f:116"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:114"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:113"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="s:117" class="idref" href="#s:117"><span class="id" title="binder">s</span></a> <a id="s':118" class="idref" href="#s':118"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:117"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':118"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:116"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:117"><span class="id" title="variable">s</span></a>) (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:116"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s':118"><span class="id" title="variable">s'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_map_subseteq"><span class="id" title="lemma">set_map_subseteq</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_singleton" class="idref" href="#set_map_singleton"><span class="id" title="lemma">set_map_singleton</span></a> {<a id="A:119" class="idref" href="#A:119"><span class="id" title="binder">A</span></a> <a id="B:120" class="idref" href="#B:120"><span class="id" title="binder">B</span></a>} `{<a id="EqDecision0:121" class="idref" href="#EqDecision0:121"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:121" class="idref" href="#EqDecision0:121"><span class="id" title="binder">A</span></a>} (<a id="f:122" class="idref" href="#f:122"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:120"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:119"><span class="id" title="variable">A</span></a>) : <span class="id" title="notation">forall</span> <a id="s:123" class="idref" href="#s:123"><span class="id" title="binder">s</span></a> <a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:122"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#a:124"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:125"><span class="id" title="variable">b</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:122"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:125"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:124"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_map_elem_of"><span class="id" title="lemma">set_map_elem_of</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_set_add" class="idref" href="#filter_set_add"><span class="id" title="lemma">filter_set_add</span></a> `{<a id="H:127" class="idref" href="#H:127"><span class="id" title="binder">StrictlyComparable</span></a> <a id="H:127" class="idref" href="#H:127"><span class="id" title="binder">X</span></a>} <a id="P:128" class="idref" href="#P:128"><span class="id" title="binder">P</span></a><br/>
&nbsp;&nbsp;`{<a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">∀</span></a> <a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">(</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">x</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">:</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">X</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">),</span></a> <a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">Decision</span></a> <a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">(</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">P</span></a> <a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">x</span></a><a id="H0:130" class="idref" href="#H0:130"><span class="id" title="binder">)</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:126"><span class="id" title="variable">X</span></a>) <a id="x:132" class="idref" href="#x:132"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:132"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:128"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:132"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:131"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IHl</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H_false</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_nil</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">H_false</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_nil</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">P</span> <span class="id" title="var">hd</span>)); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">x</span> <span class="id" title="var">H_false</span>); <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_add_ignore" class="idref" href="#set_add_ignore"><span class="id" title="lemma">set_add_ignore</span></a> `{<a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">StrictlyComparable</span></a> <a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">X</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:135" class="idref" href="#l:135"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:133"><span class="id" title="variable">X</span></a>) (<a id="x:136" class="idref" href="#x:136"><span class="id" title="binder">x</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:133"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#x:136"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:135"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:136"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:135"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:135"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IHl</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">hd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHl</span> <span class="id" title="var">x</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_add_new" class="idref" href="#set_add_new"><span class="id" title="lemma">set_add_new</span></a> `{<a id="EqDecision0:138" class="idref" href="#EqDecision0:138"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:138" class="idref" href="#EqDecision0:138"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="x:139" class="idref" href="#x:139"><span class="id" title="binder">x</span></a>:<a class="idref" href="VLSM.Lib.ListSetExtras.html#A:137"><span class="id" title="variable">A</span></a>) <a id="l:140" class="idref" href="#l:140"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#x:139"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:140"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:139"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:140"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:140"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#x:139"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">H_not_in</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H_not_in</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">H_not_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_not_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_not_elem_of" class="idref" href="#set_remove_not_elem_of"><span class="id" title="lemma">set_remove_not_elem_of</span></a> `{<a id="EqDecision0:142" class="idref" href="#EqDecision0:142"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:142" class="idref" href="#EqDecision0:142"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a> (<a id="s:144" class="idref" href="#s:144"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:141"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:143"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:144"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_elim" class="idref" href="#set_remove_elim"><span class="id" title="lemma">set_remove_elim</span></a> `{<a id="EqDecision0:146" class="idref" href="#EqDecision0:146"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:146" class="idref" href="#EqDecision0:146"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:147" class="idref" href="#x:147"><span class="id" title="binder">x</span></a> (<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:145"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:147"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:147"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:148"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_first" class="idref" href="#set_remove_first"><span class="id" title="lemma">set_remove_first</span></a> `{<a id="EqDecision0:150" class="idref" href="#EqDecision0:150"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:150" class="idref" href="#EqDecision0:150"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:151" class="idref" href="#x:151"><span class="id" title="binder">x</span></a> <a id="y:152" class="idref" href="#y:152"><span class="id" title="binder">y</span></a> (<a id="s:153" class="idref" href="#s:153"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:149"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#y:152"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:151"><span class="id" title="variable">x</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#y:152"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#s:153"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:153"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">y</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcmp</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcmp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_nodup_1" class="idref" href="#set_remove_nodup_1"><span class="id" title="lemma">set_remove_nodup_1</span></a> `{<a id="EqDecision0:155" class="idref" href="#EqDecision0:155"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:155" class="idref" href="#EqDecision0:155"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:156" class="idref" href="#x:156"><span class="id" title="binder">x</span></a> (<a id="s:157" class="idref" href="#s:157"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:154"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:157"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:156"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:157"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:157"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> . <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_elem_of_iff" class="idref" href="#set_remove_elem_of_iff"><span class="id" title="lemma">set_remove_elem_of_iff</span></a> `{<a id="EqDecision0:159" class="idref" href="#EqDecision0:159"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:159" class="idref" href="#EqDecision0:159"><span class="id" title="binder">A</span></a>} :  <span class="id" title="notation">forall</span> <a id="x:160" class="idref" href="#x:160"><span class="id" title="binder">x</span></a> <a id="y:161" class="idref" href="#y:161"><span class="id" title="binder">y</span></a> (<a id="s:162" class="idref" href="#s:162"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:158"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#y:161"><span class="id" title="variable">y</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#x:160"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:160"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#y:161"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:160"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#y:161"><span class="id" title="variable">y</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:162"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_add_length" class="idref" href="#set_add_length"><span class="id" title="lemma">set_add_length</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:164" class="idref" href="#EqDecision0:164"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:164" class="idref" href="#EqDecision0:164"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:163"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:166" class="idref" href="#s:166"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:163"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hx:167" class="idref" href="#Hx:167"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:165"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:166"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:166"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:166"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)); [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">left</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_length" class="idref" href="#set_remove_length"><span class="id" title="lemma">set_remove_length</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:169" class="idref" href="#EqDecision0:169"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:169" class="idref" href="#EqDecision0:169"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="x:170" class="idref" href="#x:170"><span class="id" title="binder">x</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:168"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:171" class="idref" href="#s:171"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:168"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hx:172" class="idref" href="#Hx:172"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:170"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:171"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:171"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:170"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:171"><span class="id" title="variable">s</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_remove_first"><span class="id" title="lemma">set_remove_first</span></a>;  <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_remove" class="idref" href="#set_eq_remove"><span class="id" title="lemma">set_eq_remove</span></a> `{<a id="EqDecision0:174" class="idref" href="#EqDecision0:174"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:174" class="idref" href="#EqDecision0:174"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:175" class="idref" href="#x:175"><span class="id" title="binder">x</span></a> (<a id="s1:176" class="idref" href="#s1:176"><span class="id" title="binder">s1</span></a> <a id="s2:177" class="idref" href="#s2:177"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:173"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:176"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:177"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:176"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:177"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:175"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:176"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:175"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:177"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hin</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span><br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subseteq_remove_union" class="idref" href="#subseteq_remove_union"><span class="id" title="lemma">subseteq_remove_union</span></a> `{<a id="EqDecision0:179" class="idref" href="#EqDecision0:179"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:179" class="idref" href="#EqDecision0:179"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:180" class="idref" href="#x:180"><span class="id" title="binder">x</span></a> (<a id="s1:181" class="idref" href="#s1:181"><span class="id" title="binder">s1</span></a> <a id="s2:182" class="idref" href="#s2:182"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:178"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:181"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:182"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:180"><span class="id" title="variable">x</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:181"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:182"><span class="id" title="variable">s2</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:181"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:180"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:182"><span class="id" title="variable">s2</span></a>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_remove_union_elem_of" class="idref" href="#set_eq_remove_union_elem_of"><span class="id" title="lemma">set_eq_remove_union_elem_of</span></a>  `{<a id="EqDecision0:184" class="idref" href="#EqDecision0:184"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:184" class="idref" href="#EqDecision0:184"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a> (<a id="s1:186" class="idref" href="#s1:186"><span class="id" title="binder">s1</span></a> <a id="s2:187" class="idref" href="#s2:187"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:183"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:186"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:187"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#x:185"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:186"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:186"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:187"><span class="id" title="variable">s2</span></a>)) (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:186"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:187"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>)<br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">msg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_eq_remove_union_not_elem_of" class="idref" href="#set_eq_remove_union_not_elem_of"><span class="id" title="lemma">set_eq_remove_union_not_elem_of</span></a>  `{<a id="EqDecision0:189" class="idref" href="#EqDecision0:189"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:189" class="idref" href="#EqDecision0:189"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <a id="x:190" class="idref" href="#x:190"><span class="id" title="binder">x</span></a> (<a id="s1:191" class="idref" href="#s1:191"><span class="id" title="binder">s1</span></a> <a id="s2:192" class="idref" href="#s2:192"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:188"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:191"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:192"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:190"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:191"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:191"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:190"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:192"><span class="id" title="variable">s2</span></a>)) (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:190"><span class="id" title="variable">x</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:191"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:192"><span class="id" title="variable">s2</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnodupUs1s2</span> := <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HnodupUs1s2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
An improved version of the <span class="inlinecode"><a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_nodup"><span class="id" title="lemma">set_diff_nodup</span></a></span> Lemma not requiring <span class="inlinecode"><span class="id" title="inductive">NoDup</span></span>
for the second argument.

</div>
<div class="code">
<span class="comment">(*&nbsp;TODO(palmskog):&nbsp;consider&nbsp;submitting&nbsp;a&nbsp;PR&nbsp;to&nbsp;Coq's&nbsp;stdlib.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="set_diff_nodup'" class="idref" href="#set_diff_nodup'"><span class="id" title="lemma">set_diff_nodup'</span></a> `{<a id="EqDecision0:194" class="idref" href="#EqDecision0:194"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:194" class="idref" href="#EqDecision0:194"><span class="id" title="binder">A</span></a>} (<a id="l:195" class="idref" href="#l:195"><span class="id" title="binder">l</span></a> <a id="l':196" class="idref" href="#l':196"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:193"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:195"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:195"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l':196"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">constructor</span>.<br/>
- <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_nodup"><span class="id" title="lemma">set_add_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="diff_app_nodup" class="idref" href="#diff_app_nodup"><span class="id" title="lemma">diff_app_nodup</span></a> `{<a id="EqDecision0:198" class="idref" href="#EqDecision0:198"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:198" class="idref" href="#EqDecision0:198"><span class="id" title="binder">A</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:199" class="idref" href="#s1:199"><span class="id" title="binder">s1</span></a> <a id="s2:200" class="idref" href="#s2:200"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:197"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:199"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:200"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:199"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:200"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:200"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#nodup_append"><span class="id" title="lemma">nodup_append</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_nodup"><span class="id" title="lemma">set_diff_nodup</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_elim2"><span class="id" title="lemma">set_diff_elim2</span></a> <span class="id" title="var">a</span> <span class="id" title="var">s1</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_iff"><span class="id" title="lemma">set_diff_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_remove_inverse" class="idref" href="#add_remove_inverse"><span class="id" title="lemma">add_remove_inverse</span></a> `{<a id="EqDecision0:202" class="idref" href="#EqDecision0:202"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:202" class="idref" href="#EqDecision0:202"><span class="id" title="binder">X</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="lv:203" class="idref" href="#lv:203"><span class="id" title="binder">lv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:201"><span class="id" title="variable">X</span></a>) (<a id="v:204" class="idref" href="#v:204"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:201"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#v:204"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#lv:203"><span class="id" title="variable">lv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#v:204"><span class="id" title="variable">v</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#v:204"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#lv:203"><span class="id" title="variable">lv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#lv:203"><span class="id" title="variable">lv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">lv</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IHlv</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHlv</span> <span class="id" title="var">v</span>. <span class="id" title="var">spec</span> <span class="id" title="var">IHlv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Habsurd</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHlv</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_iterated_empty" class="idref" href="#set_union_iterated_empty"><span class="id" title="lemma">set_union_iterated_empty</span></a> `{<a id="EqDecision0:206" class="idref" href="#EqDecision0:206"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:206" class="idref" href="#EqDecision0:206"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ss:207" class="idref" href="#ss:207"><span class="id" title="binder">ss</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:208" class="idref" href="#s:208"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:205"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#s:208"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:207"><span class="id" title="variable">ss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:208"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:207"><span class="id" title="variable">ss</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ss</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
For each element X of l1, exactly one occurrence of X is removed
   from l2. If no such occurrence exists, nothing happens. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="set_remove_list" class="idref" href="#set_remove_list"><span class="id" title="definition">set_remove_list</span></a> `{<a id="EqDecision0:210" class="idref" href="#EqDecision0:210"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:210" class="idref" href="#EqDecision0:210"><span class="id" title="binder">A</span></a>} (<a id="l1:211" class="idref" href="#l1:211"><span class="id" title="binder">l1</span></a> <a id="l2:212" class="idref" href="#l2:212"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:209"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:209"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:212"><span class="id" title="variable">l2</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:211"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="set_remove_list1" class="idref" href="#set_remove_list1"><span class="id" title="definition">set_remove_list1</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_remove_list"><span class="id" title="definition">set_remove_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Example</span> <a id="set_remove_list2" class="idref" href="#set_remove_list2"><span class="id" title="definition">set_remove_list2</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_remove_list"><span class="id" title="definition">set_remove_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>4<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_remove_list_1" class="idref" href="#set_remove_list_1"><span class="id" title="lemma">set_remove_list_1</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:214" class="idref" href="#EqDecision0:214"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:214" class="idref" href="#EqDecision0:214"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="a:215" class="idref" href="#a:215"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:213"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="l1:216" class="idref" href="#l1:216"><span class="id" title="binder">l1</span></a> <a id="l2:217" class="idref" href="#l2:217"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:213"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hin:218" class="idref" href="#Hin:218"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:215"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#set_remove_list"><span class="id" title="definition">set_remove_list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:216"><span class="id" title="variable">l1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:217"><span class="id" title="variable">l2</span></a><span class="id" title="notation">)</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#a:215"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:217"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_remove_list"><span class="id" title="definition">set_remove_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_prod_nodup" class="idref" href="#set_prod_nodup"><span class="id" title="lemma">set_prod_nodup</span></a> `(<a id="s1:220" class="idref" href="#s1:220"><span class="id" title="binder">s1</span></a>: <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a id="A:219" class="idref" href="#A:219"><span class="id" title="binder">A</span></a>) `(<a id="s2:222" class="idref" href="#s2:222"><span class="id" title="binder">s2</span></a>: <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a id="B:221" class="idref" href="#B:221"><span class="id" title="binder">B</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:220"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:222"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_prod"><span class="id" title="definition">set_prod</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s1:220"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s2:222"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">HS2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#nodup_append"><span class="id" title="lemma">nodup_append</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_fmap</span>;[<span class="id" title="tactic">congruence</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span>, <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_list_prod"><span class="id" title="lemma">elem_of_list_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> [[= &lt;- <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]]. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_list_prod"><span class="id" title="lemma">elem_of_list_prod</span></a>, <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">_</span>] [<span class="id" title="var">_</span> [[= <span class="id" title="var">Hax</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]]. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
An alternative to <span class="inlinecode"><a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a></span>.
    Unlike <span class="inlinecode"><a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a></span>, the result may contain
    duplicates if the first argument list <code>l</code> does.

<div class="paragraph"> </div>

    This definition exists to make proving
    <span class="inlinecode"><a class="idref" href="VLSM.Lib.ListSetExtras.html#len_set_diff_decrease"><span class="id" title="lemma">len_set_diff_decrease</span></a></span> more convenient,
    because <code>length</code> of <code>filter</code> can be simplified
    step by step while doing induction over <code>l</code>.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="set_diff_filter" class="idref" href="#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> `{<a id="EqDecision0:224" class="idref" href="#EqDecision0:224"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:224" class="idref" href="#EqDecision0:224"><span class="id" title="binder">A</span></a>} (<a id="l:225" class="idref" href="#l:225"><span class="id" title="binder">l</span></a> <a id="r:226" class="idref" href="#r:226"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:223"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">filter</span> <span class="id" title="notation">(.∉</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#r:226"><span class="id" title="variable">r</span></a><span class="id" title="notation">)</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:225"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
   The characteristic membership property, parallel to
   <span class="inlinecode"><a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_iff"><span class="id" title="lemma">set_diff_iff</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="set_diff_filter_iff" class="idref" href="#set_diff_filter_iff"><span class="id" title="lemma">set_diff_filter_iff</span></a> `{<a id="EqDecision0:228" class="idref" href="#EqDecision0:228"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:228" class="idref" href="#EqDecision0:228"><span class="id" title="binder">A</span></a>} (<a id="a:229" class="idref" href="#a:229"><span class="id" title="binder">a</span></a>:<a class="idref" href="VLSM.Lib.ListSetExtras.html#A:227"><span class="id" title="variable">A</span></a>) <a id="l:230" class="idref" href="#l:230"><span class="id" title="binder">l</span></a> <a id="r:231" class="idref" href="#r:231"><span class="id" title="binder">r</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#a:229"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:230"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#r:231"><span class="id" title="variable">r</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#a:229"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:230"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#a:229"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#r:231"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">elem_of_cons</span>, <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_diff_filter_nodup" class="idref" href="#set_diff_filter_nodup"><span class="id" title="lemma">set_diff_filter_nodup</span></a> `{<a id="EqDecision0:233" class="idref" href="#EqDecision0:233"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:233" class="idref" href="#EqDecision0:233"><span class="id" title="binder">A</span></a>} (<a id="l:234" class="idref" href="#l:234"><span class="id" title="binder">l</span></a> <a id="r:235" class="idref" href="#r:235"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:232"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:234"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:234"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#r:235"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_filter</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
   Prove that subtracting a superset cannot produce
   a smaller result.
   This lemma is used to prove <span class="inlinecode"><a class="idref" href="VLSM.Lib.ListSetExtras.html#len_set_diff_decrease"><span class="id" title="lemma">len_set_diff_decrease</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="len_set_diff_incl_le" class="idref" href="#len_set_diff_incl_le"><span class="id" title="lemma">len_set_diff_incl_le</span></a> `{<a id="EqDecision0:237" class="idref" href="#EqDecision0:237"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:237" class="idref" href="#EqDecision0:237"><span class="id" title="binder">A</span></a>} (<a id="l:238" class="idref" href="#l:238"><span class="id" title="binder">l</span></a> <a id="a:239" class="idref" href="#a:239"><span class="id" title="binder">a</span></a> <a id="b:240" class="idref" href="#b:240"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:236"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_subseteq:242" class="idref" href="#H_subseteq:242"><span class="id" title="binder">H_subseteq</span></a>: <span class="id" title="notation">forall</span> <a id="x:241" class="idref" href="#x:241"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:241"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:240"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:241"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:239"><span class="id" title="variable">a</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:238"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:239"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:238"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:240"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>;[<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">a</span>)); <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_subseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#le_S"><span class="id" title="constructor">le_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
   Prove that strictly increasing the set to be subtracted,
   by adding an element actually found in <code>l</code> will decrease
   the size of the result.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="len_set_diff_decrease" class="idref" href="#len_set_diff_decrease"><span class="id" title="lemma">len_set_diff_decrease</span></a> `{<a id="EqDecision0:244" class="idref" href="#EqDecision0:244"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:244" class="idref" href="#EqDecision0:244"><span class="id" title="binder">A</span></a>} (<a id="new:245" class="idref" href="#new:245"><span class="id" title="binder">new</span></a>:<a class="idref" href="VLSM.Lib.ListSetExtras.html#A:243"><span class="id" title="variable">A</span></a>) (<a id="l:246" class="idref" href="#l:246"><span class="id" title="binder">l</span></a> <a id="a:247" class="idref" href="#a:247"><span class="id" title="binder">a</span></a> <a id="b:248" class="idref" href="#b:248"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:243"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_subseteq:250" class="idref" href="#H_subseteq:250"><span class="id" title="binder">H_subseteq</span></a>: <span class="id" title="notation">forall</span> <a id="x:249" class="idref" href="#x:249"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:249"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:248"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#x:249"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:247"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_new_is_new:251" class="idref" href="#H_new_is_new:251"><span class="id" title="binder">H_new_is_new</span></a>: <a class="idref" href="VLSM.Lib.ListSetExtras.html#new:245"><span class="id" title="variable">new</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:247"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#new:245"><span class="id" title="variable">new</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:248"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_new_is_relevant:252" class="idref" href="#H_new_is_relevant:252"><span class="id" title="binder">H_new_is_relevant</span></a>: <a class="idref" href="VLSM.Lib.ListSetExtras.html#new:245"><span class="id" title="variable">new</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:246"><span class="id" title="variable">l</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:246"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:247"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:246"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#b:248"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H_new_is_relevant</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_new_is_relevant</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H_new_is_relevant</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">new</span> <span class="id" title="notation">∈</span> <span class="id" title="var">a</span>)); [<span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">new</span> <span class="id" title="notation">∈</span> <span class="id" title="var">b</span>));[|<span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#len_set_diff_incl_le"><span class="id" title="lemma">len_set_diff_incl_le</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">H</span>);<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">filter_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">a</span>)); <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Arith.Lt.html#lt_n_S"><span class="id" title="lemma">lt_n_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_subseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a0</span> <span class="id" title="notation">∈</span> <span class="id" title="var">b</span>)); [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Arith.Lt.html#lt_S"><span class="id" title="abbreviation">lt_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="len_set_diff_map_set_add" class="idref" href="#len_set_diff_map_set_add"><span class="id" title="lemma">len_set_diff_map_set_add</span></a> `{<a id="EqDecision0:254" class="idref" href="#EqDecision0:254"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:254" class="idref" href="#EqDecision0:254"><span class="id" title="binder">B</span></a>} (<a id="new:255" class="idref" href="#new:255"><span class="id" title="binder">new</span></a>:<a class="idref" href="VLSM.Lib.ListSetExtras.html#B:253"><span class="id" title="variable">B</span></a>) `{<a id="EqDecision1:257" class="idref" href="#EqDecision1:257"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:257" class="idref" href="#EqDecision1:257"><span class="id" title="binder">A</span></a>} (<a id="f:258" class="idref" href="#f:258"><span class="id" title="binder">f</span></a>: <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:253"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:256"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:259" class="idref" href="#a:259"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#B:253"><span class="id" title="variable">B</span></a>) (<a id="l:260" class="idref" href="#l:260"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:256"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_new_is_new:261" class="idref" href="#H_new_is_new:261"><span class="id" title="binder">H_new_is_new</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#f:258"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#new:255"><span class="id" title="variable">new</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:258"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:259"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_new_is_relevant:262" class="idref" href="#H_new_is_relevant:262"><span class="id" title="binder">H_new_is_relevant</span></a>: <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#f:258"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#new:255"><span class="id" title="variable">new</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:260"><span class="id" title="variable">l</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:260"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:258"><span class="id" title="variable">f</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#new:255"><span class="id" title="variable">new</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:259"><span class="id" title="variable">a</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:260"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#f:258"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:259"><span class="id" title="variable">a</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#len_set_diff_decrease"><span class="id" title="lemma">len_set_diff_decrease</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <span class="id" title="var">new</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x0</span> [<span class="id" title="var">Hx0</span> <span class="id" title="var">Hin</span>]]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Relation</span> <a id="A:266" class="idref" href="#A:266"><span class="id" title="binder">A</span></a> : (<a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:263"><span class="id" title="variable">A</span></a>) (@<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:263"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;<span class="id" title="tactic">reflexivity</span> <span class="id" title="var">proved</span> <span class="id" title="tactic">by</span> (@<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq_refl"><span class="id" title="lemma">set_eq_refl</span></a> <span class="id" title="var">A</span>)<br/>
&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">proved</span> <span class="id" title="tactic">by</span> (@<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq_tran"><span class="id" title="lemma">set_eq_tran</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">set_eq_rel</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Morphism</span> <a id="A:267" class="idref" href="#A:267"><span class="id" title="binder">A</span></a> : (@<span class="id" title="inductive">elem_of_list</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:267"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">signature</span> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:267"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:267"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">set_eq_elem_of</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Morphism</span> <a id="A:268" class="idref" href="#A:268"><span class="id" title="binder">A</span></a> : (@<span class="id" title="inductive">elem_of_list</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:268"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">signature</span> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:268"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<span class="id" title="instance">list_subseteq</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:268"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">Basics.impl</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">set_elem_of_subseteq</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_union_iterated_preserves_prop" class="idref" href="#set_union_iterated_preserves_prop"><span class="id" title="lemma">set_union_iterated_preserves_prop</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:270" class="idref" href="#EqDecision0:270"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:270" class="idref" href="#EqDecision0:270"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="ss:271" class="idref" href="#ss:271"><span class="id" title="binder">ss</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:269"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;(<a id="P:272" class="idref" href="#P:272"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:269"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hp:275" class="idref" href="#Hp:275"><span class="id" title="binder">Hp</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:273" class="idref" href="#s:273"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:269"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:274" class="idref" href="#a:274"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:269"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#s:273"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:271"><span class="id" title="variable">ss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:274"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#s:273"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:272"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:274"><span class="id" title="variable">a</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:276" class="idref" href="#a:276"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:269"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:276"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#ss:271"><span class="id" title="variable">ss</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:272"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#a:276"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hins</span> <span class="id" title="var">Hina</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_set_eq" class="idref" href="#filter_set_eq"><span class="id" title="lemma">filter_set_eq</span></a> {<a id="X:277" class="idref" href="#X:277"><span class="id" title="binder">X</span></a>} <a id="P:278" class="idref" href="#P:278"><span class="id" title="binder">P</span></a> <a id="Q:279" class="idref" href="#Q:279"><span class="id" title="binder">Q</span></a><br/>
&nbsp;`{<a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">∀</span></a> <a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">(</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">x</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">:</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">X</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">),</span></a> <a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">Decision</span></a> <a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">(</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">P</span></a> <a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">x</span></a><a id="H:281" class="idref" href="#H:281"><span class="id" title="binder">)</span></a>} `{<a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">∀</span></a> <a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">(</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">x</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">:</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">X</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">),</span></a> <a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">Decision</span></a> <a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">(</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">Q</span></a> <a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">x</span></a><a id="H0:283" class="idref" href="#H0:283"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="l:284" class="idref" href="#l:284"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#X:277"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="resf:285" class="idref" href="#resf:285"><span class="id" title="binder">resf</span></a> := <span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:278"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:284"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="resg:286" class="idref" href="#resg:286"><span class="id" title="binder">resg</span></a> := <span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#Q:279"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:284"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#resf:285"><span class="id" title="variable">resf</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#resg:286"><span class="id" title="variable">resg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#resf:285"><span class="id" title="variable">resf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#resg:286"><span class="id" title="variable">resg</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">resf</span>, <span class="id" title="var">resg</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#filter_ext_elem_of"><span class="id" title="lemma">filter_ext_elem_of</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H1'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1'</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <span class="id" title="definition">filter</span> <span class="id" title="var">P</span> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <span class="id" title="definition">filter</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1'</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1'</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subseteq_appr" class="idref" href="#subseteq_appr"><span class="id" title="lemma">subseteq_appr</span></a> : <span class="id" title="notation">forall</span> <a id="A:287" class="idref" href="#A:287"><span class="id" title="binder">A</span></a> (<a id="l:288" class="idref" href="#l:288"><span class="id" title="binder">l</span></a> <a id="m:289" class="idref" href="#m:289"><span class="id" title="binder">m</span></a> <a id="n:290" class="idref" href="#n:290"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:287"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:288"><span class="id" title="variable">l</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#n:290"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l:288"><span class="id" title="variable">l</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.ListSetExtras.html#m:289"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#n:290"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">yinl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">yinl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_union_fold" class="idref" href="#elem_of_union_fold"><span class="id" title="lemma">elem_of_union_fold</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:292" class="idref" href="#EqDecision0:292"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:292" class="idref" href="#EqDecision0:292"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;(<a id="haystack:293" class="idref" href="#haystack:293"><span class="id" title="binder">haystack</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:291"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;(<a id="a:294" class="idref" href="#a:294"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:291"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#a:294"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#haystack:293"><span class="id" title="variable">haystack</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="needle:295" class="idref" href="#needle:295"><span class="id" title="binder">needle</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:291"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#a:294"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#needle:295"><span class="id" title="variable">needle</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.ListSetExtras.html#needle:295"><span class="id" title="variable">needle</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#haystack:293"><span class="id" title="variable">haystack</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">haystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">haystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHhaystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHhaystack</span> <span class="id" title="var">a0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHhaystack</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">needle</span> [<span class="id" title="var">Hin1</span> <span class="id" title="var">Hin2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">needle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">haystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">haystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">needle</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hin2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHhaystack</span> <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHhaystack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">needle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subseteq_Forall" class="idref" href="#subseteq_Forall"><span class="id" title="lemma">subseteq_Forall</span></a> (<a id="A:296" class="idref" href="#A:296"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>) (<a id="P:297" class="idref" href="#P:297"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:296"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="l1:298" class="idref" href="#l1:298"><span class="id" title="binder">l1</span></a> <a id="l2:299" class="idref" href="#l2:299"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#A:296"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;<a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:299"><span class="id" title="variable">l2</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:298"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:297"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l1:298"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#P:297"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.ListSetExtras.html#l2:299"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hfor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
