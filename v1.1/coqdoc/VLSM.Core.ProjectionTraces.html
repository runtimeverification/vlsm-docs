<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.Streams.html#"><span class="id" title="library">Streams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep.html#"><span class="id" title="library">Eqdep</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="VLSM.Lib.StreamExtras.html#"><span class="id" title="library">Lib.StreamExtras</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">Core.VLSM</span></a> <a class="idref" href="VLSM.Core.Plans.html#"><span class="id" title="library">Core.Plans</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Core.Composition</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">Core.VLSMProjections</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="projections" class="idref" href="#projections"><span class="id" title="section">projections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab77"></a><h1 class="section">Composite VLSM projections</h1>


<div class="paragraph"> </div>

In this section we define a VLSM representing the projection of a composite VLSM
to a single node (<span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a></span>), and we study the
relation between their traces.

<div class="paragraph"> </div>

Let us fix an indexed set of VLSMs <code>IM</code> and their composition <code>X</code> using <code>constraint</code>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="EqDecision0:3" class="idref" href="#EqDecision0:3"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:3" class="idref" href="#EqDecision0:3"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IM:4" class="idref" href="#IM:4"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:5" class="idref" href="#T:5"><span class="id" title="binder">T</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:4"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:6" class="idref" href="#constraint:6"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:4"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:4"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:7" class="idref" href="#X:7"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:4"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:6"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="projected_state_prop" class="idref" href="#projected_state_prop"><span class="id" title="definition">projected_state_prop</span></a> (<a id="j:8" class="idref" href="#j:8"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>) (<a id="sj:9" class="idref" href="#sj:9"><span class="id" title="binder">sj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:8"><span class="id" title="variable">j</span></a>)) := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s:10" class="idref" href="#s:10"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state"><span class="id" title="definition">valid_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:10"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:8"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:9"><span class="id" title="variable">sj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="projected_states" class="idref" href="#projected_states"><span class="id" title="definition">projected_states</span></a> (<a id="j:11" class="idref" href="#j:11"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="sj:12" class="idref" href="#sj:12"><span class="id" title="binder">sj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:11"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projected_state_prop"><span class="id" title="definition">projected_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:11"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:12"><span class="id" title="variable">sj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
The definition <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a></span> is deprecated and should not be used.

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="VLSM1_projection_valid" class="idref" href="#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:13" class="idref" href="#i:13"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:14" class="idref" href="#li:14"><span class="id" title="binder">li</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="siomi:15" class="idref" href="#siomi:15"><span class="id" title="binder">siomi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:14"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:15"><span class="id" title="variable">siomi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projected_state_prop"><span class="id" title="definition">projected_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:14"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:15"><span class="id" title="variable">siomi</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:14"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:15"><span class="id" title="variable">siomi</span></a>)).<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#VLSMType"><span class="id" title="record">VLSMType</span></a></span> of a projection of <code>X</code> to component <code>i</code> is the
type of the <code>i</code>th component of <code>X</code>.
We defined the signature of the projection to be the same as that of the component,
with the exception that the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#initial_message"><span class="id" title="projection">initial_message</span></a></span>s for the projection are defined
to be all <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_message"><span class="id" title="definition">valid_message</span></a></span>s of <code>X</code>:

<div class="paragraph"> </div>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

<span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a></span>ity is defined as the projection of <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a></span>ity of <code>X</code>:

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="projection_valid" class="idref" href="#projection_valid"><span class="id" title="definition">projection_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:16" class="idref" href="#i:16"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:17" class="idref" href="#li:17"><span class="id" title="binder">li</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:16"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="siomi:18" class="idref" href="#siomi:18"><span class="id" title="binder">siomi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:16"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="si:19" class="idref" href="#si:19"><span class="id" title="binder">si</span></a>, <a id="omi:20" class="idref" href="#omi:20"><span class="id" title="binder">omi</span></a>) := <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:18"><span class="id" title="variable">siomi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:16"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#si:19"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:16"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:17"><span class="id" title="variable">li</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:21"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#omi:20"><span class="id" title="variable">omi</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
   The following two lemmas (<span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_impl_VLSM1_projection_valid"><span class="id" title="lemma">projection_valid_impl_VLSM1_projection_valid</span></a></span>
   and <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid_impl_projection_valid"><span class="id" title="lemma">VLSM1_projection_valid_impl_projection_valid</span></a></span>) relate the definition
   of validity in a projection VLSM to the original definition from the VLSM1
   paper: the conclusion is that the VLSM1 definition is weaker.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="projection_valid_impl_VLSM1_projection_valid" class="idref" href="#projection_valid_impl_VLSM1_projection_valid"><span class="id" title="lemma">projection_valid_impl_VLSM1_projection_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:22" class="idref" href="#i:22"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:23" class="idref" href="#li:23"><span class="id" title="binder">li</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:22"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="siomi:24" class="idref" href="#siomi:24"><span class="id" title="binder">siomi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:22"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:22"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:23"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:24"><span class="id" title="variable">siomi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:22"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:23"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:24"><span class="id" title="variable">siomi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">siomi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">si</span> <span class="id" title="var">omi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hsi</span> <span class="id" title="var">Hpv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">Hpv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">Homi</span> <span class="id" title="var">Hvalid</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcvalid</span> <span class="id" title="var">Hconstraint</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">si</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcvalid</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projected_state_prop"><span class="id" title="definition">projected_state_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state"><span class="id" title="definition">valid_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">CL</span> <span class="id" title="tactic">in</span> |-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <span class="id" title="var">li</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">er</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">sm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">sm'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sm'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> <span class="id" title="var">om'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s''</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hivt</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">er</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hpv</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqsm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heqsm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hps'</span> := <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Hivt</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_state_eq"><span class="id" title="lemma">composite_transition_state_eq</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hps'</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hveq</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">er</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <span class="id" title="var">li</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">omi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hveq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqsm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_outputs_valid_state_message"><span class="id" title="lemma">input_valid_transition_outputs_valid_state_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="VLSM1_projection_valid_impl_projection_valid" class="idref" href="#VLSM1_projection_valid_impl_projection_valid"><span class="id" title="lemma">VLSM1_projection_valid_impl_projection_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:25" class="idref" href="#i:25"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:26" class="idref" href="#li:26"><span class="id" title="binder">li</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="siomi:27" class="idref" href="#siomi:27"><span class="id" title="binder">siomi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:26"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:27"><span class="id" title="variable">siomi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state"><span class="id" title="definition">valid_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:28"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:27"><span class="id" title="variable">siomi</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:26"><span class="id" title="variable">li</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:28"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:27"><span class="id" title="variable">siomi</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:27"><span class="id" title="variable">siomi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:26"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:27"><span class="id" title="variable">siomi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#VLSM1_projection_valid"><span class="id" title="definition">VLSM1_projection_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">siomi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">si</span> <span class="id" title="var">omi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">Hpsp</span> <span class="id" title="var">Hpmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpsp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projected_state_prop"><span class="id" title="definition">projected_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> [[<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>] <span class="id" title="var">Homp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpsp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> [<span class="id" title="var">Hs'</span> <span class="id" title="var">Hconstraint</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> <span class="id" title="var">s'</span>). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hpmp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hs'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstraint</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Since <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a></span>ity is derived from <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a></span>ity, which in turn
depends on <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a></span>ity in the component, it is easy to see that
<span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a></span>ity implies <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a></span>ity in the component.

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_valid" class="idref" href="#projection_valid_implies_valid"><span class="id" title="lemma">projection_valid_implies_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:29" class="idref" href="#i:29"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:30" class="idref" href="#li:30"><span class="id" title="binder">li</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:29"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="siomi:31" class="idref" href="#siomi:31"><span class="id" title="binder">siomi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:29"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hcomposite:32" class="idref" href="#Hcomposite:32"><span class="id" title="binder">Hcomposite</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:29"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:30"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:31"><span class="id" title="variable">siomi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:29"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#li:30"><span class="id" title="variable">li</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#siomi:31"><span class="id" title="variable">siomi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">siomi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">si</span> <span class="id" title="var">omi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomposite</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hsi</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvalid</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hconstraint</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We define the projection of <code>X</code> to index <code>i</code> as the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="section">VLSM</span></a></span> whose signature
is the <span class="inlinecode"><span class="id" title="var">composite_vlsm_constrained_projection_sig</span></span>nature corresponding to <code>i</code>,
having the same transition function as <code>IM i</code>, the <code>i</code>th component of <code>IM</code>.

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="composite_vlsm_constrained_projection_machine" class="idref" href="#composite_vlsm_constrained_projection_machine"><span class="id" title="definition">composite_vlsm_constrained_projection_machine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:33" class="idref" href="#i:33"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="class">VLSMMachine</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:33"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|   <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:33"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;   <a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> := <span class="id" title="keyword">fun</span> <a id="pmi:34" class="idref" href="#pmi:34"><span class="id" title="binder">pmi</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="xm:35" class="idref" href="#xm:35"><span class="id" title="binder">xm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_message"><span class="id" title="definition">valid_message</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#xm:35"><span class="id" title="variable">xm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#pmi:34"><span class="id" title="variable">pmi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;   <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="method">s0</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:33"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;  <a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> :=  <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:33"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;  <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid"><span class="id" title="definition">projection_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:33"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="composite_vlsm_constrained_projection" class="idref" href="#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection_machine"><span class="id" title="definition">composite_vlsm_constrained_projection_machine</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projections"><span class="id" title="section">projections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab78"></a><h2 class="section">VLSM Projection Traces</h2>


<div class="paragraph"> </div>

This section defines the projection of a composite trace to a single component
(<span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a></span>) and prove several properties about it,
including that it determines a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a></span> between the composite VLSM and
its projection (Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection"><span class="id" title="lemma">component_projection</span></a></span>), as well as between the composite
VLSM pre-loaded with all messages and the original component VLSM preloaded
with all messages (Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a></span>).

<div class="paragraph"> </div>

We then study the extension of these definitions and results to infinite traces.

<div class="paragraph"> </div>

Finally, we prove some consequences of the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#projection_friendly_prop"><span class="id" title="definition">projection_friendly_prop</span></a></span>erty for
the specific case of projecting a trace to a single component.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="ProjectionTraces" class="idref" href="#ProjectionTraces"><span class="id" title="section">ProjectionTraces</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:37" class="idref" href="#message:37"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:39" class="idref" href="#EqDecision0:39"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:39" class="idref" href="#EqDecision0:39"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:40" class="idref" href="#IM:40"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:38"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:37"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="constraint:41" class="idref" href="#constraint:41"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:40"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:40"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:37"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:42" class="idref" href="#X:42"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:40"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:41"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:43" class="idref" href="#j:43"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:38"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Xj:44" class="idref" href="#Xj:44"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:40"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:41"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:43"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_project_label" class="idref" href="#composite_project_label"><span class="id" title="definition">composite_project_label</span></a><br/>
&nbsp;&nbsp;(<a id="l:45" class="idref" href="#l:45"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:46" class="idref" href="#i:46"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:45"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:46"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:45"><span class="id" title="variable">l</span></a>) <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_project_label_eq" class="idref" href="#composite_project_label_eq"><span class="id" title="lemma">composite_project_label_eq</span></a> <a id="lj:47" class="idref" href="#lj:47"><span class="id" title="binder">lj</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:47"><span class="id" title="variable">lj</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:47"><span class="id" title="variable">lj</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">decide_True_pi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_vlsm_induced_projection" class="idref" href="#composite_vlsm_induced_projection"><span class="id" title="definition">composite_vlsm_induced_projection</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<span class="id" title="keyword">fun</span> <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">composite_vlsm_constraint_projection</span></span> is <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a></span>ual (trace-equivalent)
to the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a></span> by the <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a></span> and the
projection of the state to the component.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="composite_vlsm_constrained_projection_is_induced" class="idref" href="#composite_vlsm_constrained_projection_is_induced"><span class="id" title="lemma">composite_vlsm_constrained_projection_is_induced</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_induced_projection"><span class="id" title="definition">composite_vlsm_induced_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_incl_iff"><span class="id" title="lemma">VLSM_eq_incl_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state_initial"><span class="id" title="lemma">lift_to_composite_state_initial</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] &lt;-]; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> [<span class="id" title="var">sX</span> [&lt;- <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">l</span>), <span class="id" title="var">sX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label_eq"><span class="id" title="lemma">composite_project_label_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> <span class="id" title="var">s'</span> <span class="id" title="var">oom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">sX</span> [&lt;- <span class="id" title="var">HsX</span>]]; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HsX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Him</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Him</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> ((<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) &amp; <span class="id" title="var">sX</span> &amp; <span class="id" title="var">HlX</span> &amp; &lt;- &amp; <span class="id" title="var">Hv</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sX</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [| <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> <span class="id" title="var">s'</span> <span class="id" title="var">oom</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <span class="id" title="tactic">at</span> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="component_label_projection_lift" class="idref" href="#component_label_projection_lift"><span class="id" title="lemma">component_label_projection_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_label_lift_prop"><span class="id" title="definition">induced_projection_label_lift_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label_eq"><span class="id" title="lemma">composite_project_label_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="component_state_projection_lift" class="idref" href="#component_state_projection_lift"><span class="id" title="lemma">component_state_projection_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_state_lift_prop"><span class="id" title="definition">induced_projection_state_lift_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<span class="id" title="keyword">fun</span> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="component_transition_projection_None" class="idref" href="#component_transition_projection_None"><span class="id" title="lemma">component_transition_projection_None</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#weak_projection_transition_consistency_None"><span class="id" title="definition">weak_projection_transition_consistency_None</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation"></span></a> <a id="s:50" class="idref" href="#s:50"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) <span class="id" title="var">HlX</span> <span class="id" title="var">sX</span> <span class="id" title="var">iom</span> <span class="id" title="var">s'X</span> <span class="id" title="var">oom</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="component_transition_projection_Some" class="idref" href="#component_transition_projection_Some"><span class="id" title="lemma">component_transition_projection_Some</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_transition_consistency_Some"><span class="id" title="definition">induced_projection_transition_consistency_Some</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation"></span></a> <a id="s:51" class="idref" href="#s:51"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:51"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j1</span> <span class="id" title="var">lj1</span>] [<span class="id" title="var">j2</span> <span class="id" title="var">lj2</span>] <span class="id" title="var">lj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hj1</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlj1</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlj1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlj1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lj1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hj2</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlj2</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlj2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlj2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lj2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX1</span> <span class="id" title="var">sX2</span> &lt;- <span class="id" title="var">iom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX1'</span> <span class="id" title="var">oom1</span> <span class="id" title="var">Ht1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX2'</span> <span class="id" title="var">oom2</span> <span class="id" title="var">Ht2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a></span> by the <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a></span> and the
projection of the state to the component is indeed a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_component_projection" class="idref" href="#induced_component_projection"><span class="id" title="lemma">induced_component_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<span class="id" title="keyword">fun</span> <a id="s:53" class="idref" href="#s:53"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:53"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<span class="id" title="keyword">fun</span> <a id="s:52" class="idref" href="#s:52"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:52"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm_is_projection"><span class="id" title="lemma">projection_induced_vlsm_is_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_transition_projection_None"><span class="id" title="lemma">component_transition_projection_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_weak_projection_transition_consistency_Some"><span class="id" title="lemma">basic_weak_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_label_projection_lift"><span class="id" title="lemma">component_label_projection_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_state_projection_lift"><span class="id" title="lemma">component_state_projection_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_transition_projection_Some"><span class="id" title="lemma">component_transition_projection_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The projection on component <code>j</code> of valid traces from <code>X</code> is valid
for the <code>j</code>th projection.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="component_projection" class="idref" href="#component_projection"><span class="id" title="lemma">component_projection</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> (<span class="id" title="keyword">fun</span> <a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:54"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#induced_component_projection"><span class="id" title="lemma">induced_component_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">isX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection_is_induced"><span class="id" title="lemma">composite_vlsm_constrained_projection_is_induced</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace"><span class="id" title="definition">VLSM_projection_finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#induced_component_projection"><span class="id" title="lemma">induced_component_projection</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="initial_state_projection" class="idref" href="#initial_state_projection"><span class="id" title="lemma">initial_state_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hinit:56" class="idref" href="#Hinit:56"><span class="id" title="binder">Hinit</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:55"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:55"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Since all <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_message"><span class="id" title="definition">valid_message</span></a></span>s of <code>X</code> become <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#initial_message"><span class="id" title="projection">initial_message</span></a></span>s in <code>Xj</code>, the
following result is not surprising.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_message_projection" class="idref" href="#valid_message_projection"><span class="id" title="lemma">valid_message_projection</span></a><br/>
&nbsp;&nbsp;(<a id="iom:57" class="idref" href="#iom:57"><span class="id" title="binder">iom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="HpmX:58" class="idref" href="#HpmX:58"><span class="id" title="binder">HpmX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#iom:57"><span class="id" title="variable">iom</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#iom:57"><span class="id" title="variable">iom</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_initial_message_is_valid"><span class="id" title="lemma">option_initial_message_is_valid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|];[|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">HpmX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;projection&nbsp;of&nbsp;a&nbsp;finite&nbsp;valid&nbsp;trace&nbsp;remains&nbsp;a&nbsp;valid&nbsp;trace&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_projection" class="idref" href="#finite_valid_trace_projection"><span class="id" title="lemma">finite_valid_trace_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:59" class="idref" href="#s:59"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="trx:60" class="idref" href="#trx:60"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:61" class="idref" href="#Htr:61"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:59"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:60"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:59"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection"><span class="id" title="lemma">component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:60"><span class="id" title="variable">trx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace_from"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection"><span class="id" title="lemma">component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_projection" class="idref" href="#valid_state_projection"><span class="id" title="lemma">valid_state_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:62" class="idref" href="#s:62"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:63" class="idref" href="#Hps:63"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:62"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:62"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hps</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_valid_state"><span class="id" title="definition">VLSM_projection_valid_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection"><span class="id" title="lemma">component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_futures_projection" class="idref" href="#in_futures_projection"><span class="id" title="lemma">in_futures_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s1:64" class="idref" href="#s1:64"><span class="id" title="binder">s1</span></a> <a id="s2:65" class="idref" href="#s2:65"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hfutures:66" class="idref" href="#Hfutures:66"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:64"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:65"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:64"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:65"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hfutures</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_in_futures"><span class="id" title="definition">VLSM_projection_in_futures</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection"><span class="id" title="lemma">component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces"><span class="id" title="section">ProjectionTraces</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="PreLoadedProjectionTraces" class="idref" href="#PreLoadedProjectionTraces"><span class="id" title="section">PreLoadedProjectionTraces</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:67" class="idref" href="#message:67"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:69" class="idref" href="#EqDecision0:69"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:69" class="idref" href="#EqDecision0:69"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:70" class="idref" href="#IM:70"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:68"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:67"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:71" class="idref" href="#j:71"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:68"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;projection&nbsp;of&nbsp;a&nbsp;preloaded&nbsp;finite&nbsp;valid&nbsp;trace&nbsp;remains&nbsp;a&nbsp;preloaded&nbsp;valid&nbsp;trace&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_component_projection" class="idref" href="#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:72"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_projection_preloaded"><span class="id" title="lemma">basic_VLSM_projection_preloaded</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#initial_state_projection"><span class="id" title="lemma">initial_state_projection</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_transition_item_projection_from_eq" class="idref" href="#composite_transition_item_projection_from_eq"><span class="id" title="definition">composite_transition_item_projection_from_eq</span></a><br/>
&nbsp;&nbsp;(<a id="item:73" class="idref" href="#item:73"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:74" class="idref" href="#i:74"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:73"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;<a id="j:75" class="idref" href="#j:75"><span class="id" title="binder">j</span></a><br/>
&nbsp;&nbsp;(<a id="e:76" class="idref" href="#e:76"><span class="id" title="binder">e</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:75"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:74"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:75"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lj:77" class="idref" href="#lj:77"><span class="id" title="binder">lj</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:73"><span class="id" title="variable">item</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#e:76"><span class="id" title="variable">e</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:75"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:77"><span class="id" title="variable">lj</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:73"><span class="id" title="variable">item</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:73"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:75"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:73"><span class="id" title="variable">item</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_transition_item_projection" class="idref" href="#composite_transition_item_projection"><span class="id" title="definition">composite_transition_item_projection</span></a><br/>
&nbsp;&nbsp;(<a id="item:78" class="idref" href="#item:78"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:79" class="idref" href="#i:79"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:78"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:79"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection_from_eq"><span class="id" title="definition">composite_transition_item_projection_from_eq</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:78"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:79"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_transition_item_projection_iff" class="idref" href="#composite_transition_item_projection_iff"><span class="id" title="lemma">composite_transition_item_projection_iff</span></a><br/>
&nbsp;&nbsp;(<a id="item:80" class="idref" href="#item:80"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:81" class="idref" href="#i:81"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:80"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:81"><span class="id" title="variable">i</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:82"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:81"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#item:80"><span class="id" title="variable">item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection"><span class="id" title="definition">composite_transition_item_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:80"><span class="id" title="variable">item</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>, <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection"><span class="id" title="definition">composite_transition_item_projection</span></a>, <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection_from_eq"><span class="id" title="definition">composite_transition_item_projection_from_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.index"><span class="id" title="variable">index</span></a>) (<span class="id" title="var">x</span> := <span class="id" title="var">i</span>)); [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep_dec.html#UIP_dec"><span class="id" title="lemma">Eqdep_dec.UIP_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_transition_item_projection_neq" class="idref" href="#composite_transition_item_projection_neq"><span class="id" title="lemma">composite_transition_item_projection_neq</span></a><br/>
&nbsp;&nbsp;(<a id="item:83" class="idref" href="#item:83"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hneq:84" class="idref" href="#Hneq:84"><span class="id" title="binder">Hneq</span></a>: <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#item:83"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:85" class="idref" href="#s:85"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:85"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#item:83"><span class="id" title="variable">item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>, <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_projection_list" class="idref" href="#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> (<a id="tr:86" class="idref" href="#tr:86"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) :=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_trace_project"><span class="id" title="definition">pre_VLSM_projection_trace_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#tr:86"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_valid_state_projection" class="idref" href="#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:88" class="idref" href="#s:88"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:89" class="idref" href="#Hps:89"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:88"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:88"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hps</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_valid_state"><span class="id" title="definition">VLSM_projection_valid_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_finite_valid_trace_projection" class="idref" href="#preloaded_finite_valid_trace_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:90" class="idref" href="#s:90"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="trx:91" class="idref" href="#trx:91"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:92" class="idref" href="#Htr:92"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:90"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:91"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:90"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:91"><span class="id" title="variable">trx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace_from"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_finite_valid_trace_from_to_projection" class="idref" href="#preloaded_finite_valid_trace_from_to_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_from_to_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:93" class="idref" href="#s:93"><span class="id" title="binder">s</span></a> <a id="s':94" class="idref" href="#s':94"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="trx:95" class="idref" href="#trx:95"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:96" class="idref" href="#Htr:96"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:93"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s':94"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:95"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:93"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s':94"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:95"><span class="id" title="variable">trx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace_from_to"><span class="id" title="definition">VLSM_projection_finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_finite_valid_trace_init_to_projection" class="idref" href="#preloaded_finite_valid_trace_init_to_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_init_to_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:97" class="idref" href="#s:97"><span class="id" title="binder">s</span></a> <a id="s':98" class="idref" href="#s':98"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="trx:99" class="idref" href="#trx:99"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:100" class="idref" href="#Htr:100"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s':98"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:99"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#s':98"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#trx:99"><span class="id" title="variable">trx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pre_loaded_with_all_messages_projection_input_valid_transition_eq" class="idref" href="#pre_loaded_with_all_messages_projection_input_valid_transition_eq"><span class="id" title="lemma">pre_loaded_with_all_messages_projection_input_valid_transition_eq</span></a><br/>
&nbsp;&nbsp;(<a id="s1:101" class="idref" href="#s1:101"><span class="id" title="binder">s1</span></a> <a id="s2:102" class="idref" href="#s2:102"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="om1:103" class="idref" href="#om1:103"><span class="id" title="binder">om1</span></a> <a id="om2:104" class="idref" href="#om2:104"><span class="id" title="binder">om2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="l:105" class="idref" href="#l:105"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:106" class="idref" href="#Ht:106"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:101"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om1:103"><span class="id" title="variable">om1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:102"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om2:104"><span class="id" title="variable">om2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hl:107" class="idref" href="#Hl:107"><span class="id" title="binder">Hl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>))) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:101"><span class="id" title="variable">s1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om1:103"><span class="id" title="variable">om1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:102"><span class="id" title="variable">s2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om2:104"><span class="id" title="variable">om2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_input_valid_transition"><span class="id" title="definition">VLSM_projection_input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hivt</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [| <span class="id" title="tactic">elim</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.index"><span class="id" title="variable">index</span></a>) (<span class="id" title="var">x</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <span class="id" title="var">l</span>)); [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep_dec.html#UIP_dec"><span class="id" title="lemma">Eqdep_dec.UIP_dec</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hivt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pre_loaded_with_all_messages_projection_input_valid_transition_neq" class="idref" href="#pre_loaded_with_all_messages_projection_input_valid_transition_neq"><span class="id" title="lemma">pre_loaded_with_all_messages_projection_input_valid_transition_neq</span></a><br/>
&nbsp;&nbsp;[<a id="s1:108" class="idref" href="#s1:108"><span class="id" title="binder">s1</span></a> <a id="s2:109" class="idref" href="#s2:109"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>]<br/>
&nbsp;&nbsp;[<a id="om1:110" class="idref" href="#om1:110"><span class="id" title="binder">om1</span></a> <a id="om2:111" class="idref" href="#om2:111"><span class="id" title="binder">om2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.message"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;[<a id="l:112" class="idref" href="#l:112"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>]<br/>
&nbsp;&nbsp;(<a id="Ht:113" class="idref" href="#Ht:113"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:108"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om1:110"><span class="id" title="variable">om1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:109"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om2:111"><span class="id" title="variable">om2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;[<a id="i:114" class="idref" href="#i:114"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces.index"><span class="id" title="variable">index</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hi:115" class="idref" href="#Hi:115"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:114"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ProjectionTraces.html#s1:108"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:114"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s2:109"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#i:114"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs1</span> [<span class="id" title="var">Hom1</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">_</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">il</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoadedProjectionTraces"><span class="id" title="section">PreLoadedProjectionTraces</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ProjectionTraces_membership" class="idref" href="#ProjectionTraces_membership"><span class="id" title="section">ProjectionTraces_membership</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:116" class="idref" href="#message:116"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:118" class="idref" href="#EqDecision0:118"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:118" class="idref" href="#EqDecision0:118"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:119" class="idref" href="#IM:119"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:117"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:116"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="constraint:120" class="idref" href="#constraint:120"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:119"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:119"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:116"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:121" class="idref" href="#X:121"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:119"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:120"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_projection_list_in" class="idref" href="#finite_trace_projection_list_in"><span class="id" title="lemma">finite_trace_projection_list_in</span></a><br/>
&nbsp;&nbsp;(<a id="tr:122" class="idref" href="#tr:122"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="itemX:123" class="idref" href="#itemX:123"><span class="id" title="binder">itemX</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="HitemX:124" class="idref" href="#HitemX:124"><span class="id" title="binder">HitemX</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a> <span class="id" title="notation"></span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#tr:122"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:125" class="idref" href="#j:125"><span class="id" title="binder">j</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="notation">(</span>@<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:125"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a>)) (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:125"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:123"><span class="id" title="variable">itemX</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation"></span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:125"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#tr:122"><span class="id" title="variable">tr</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>, <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.index"><span class="id" title="variable">index</span></a>) (<span class="id" title="var">x</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)))<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep_dec.html#UIP_dec"><span class="id" title="lemma">Eqdep_dec.UIP_dec</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_projection_list_in_rev" class="idref" href="#finite_trace_projection_list_in_rev"><span class="id" title="lemma">finite_trace_projection_list_in_rev</span></a><br/>
&nbsp;&nbsp;(<a id="tr:126" class="idref" href="#tr:126"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="j:127" class="idref" href="#j:127"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="itemj:128" class="idref" href="#itemj:128"><span class="id" title="binder">itemj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:127"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hitemj:129" class="idref" href="#Hitemj:129"><span class="id" title="binder">Hitemj</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemj:128"><span class="id" title="variable">itemj</span></a> <span class="id" title="notation"></span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_trace_project"><span class="id" title="definition">VLSM_projection_trace_project</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:127"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#tr:126"><span class="id" title="variable">tr</span></a><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="itemX:130" class="idref" href="#itemX:130"><span class="id" title="binder">itemX</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership.IM"><span class="id" title="variable">IM</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a> <span class="id" title="notation"></span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#tr:126"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemj:128"><span class="id" title="variable">itemj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemj:128"><span class="id" title="variable">itemj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:127"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemj:128"><span class="id" title="variable">itemj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="Hl1:131" class="idref" href="#Hl1:131"><span class="id" title="binder">Hl1</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:127"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemX:130"><span class="id" title="variable">itemX</span></a>)) <a class="idref" href="VLSM.Core.ProjectionTraces.html#Hl1:131"><span class="id" title="variable">Hl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#itemj:128"><span class="id" title="variable">itemj</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> [<span class="id" title="var">HitemX</span> <span class="id" title="var">HitemX_pr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lY</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hly</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HitemX_pr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">HitemX_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hly</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hly</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#ProjectionTraces_membership"><span class="id" title="section">ProjectionTraces_membership</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="binary_free_composition_projections" class="idref" href="#binary_free_composition_projections"><span class="id" title="section">binary_free_composition_projections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab79"></a><h2 class="section">Projections of Free composition of two VLSMs</h2>


<div class="paragraph"> </div>

This projections are used in defining the <span class="inlinecode"><a class="idref" href="VLSM.Core.ByzantineTraces.html#byzantine_trace_prop"><span class="id" title="definition">byzantine_trace_prop</span></a></span>erties.

<div class="paragraph"> </div>


</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="message:132" class="idref" href="#message:132"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="M1:133" class="idref" href="#M1:133"><span class="id" title="binder">M1</span></a> <a id="M2:134" class="idref" href="#M2:134"><span class="id" title="binder">M2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:132"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="binary_free_composition_fst" class="idref" href="#binary_free_composition_fst"><span class="id" title="definition">binary_free_composition_fst</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> (<a class="idref" href="VLSM.Core.Composition.html#binary_IM"><span class="id" title="definition">binary_IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.M2"><span class="id" title="variable">M2</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Composition.html#first"><span class="id" title="definition">first</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="binary_free_composition_snd" class="idref" href="#binary_free_composition_snd"><span class="id" title="definition">binary_free_composition_snd</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> (<a class="idref" href="VLSM.Core.Composition.html#binary_IM"><span class="id" title="definition">binary_IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections.M2"><span class="id" title="variable">M2</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Composition.html#second"><span class="id" title="definition">second</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#binary_free_composition_projections"><span class="id" title="section">binary_free_composition_projections</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fixed_projection" class="idref" href="#fixed_projection"><span class="id" title="section">fixed_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="message:135" class="idref" href="#message:135"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="EqDecision0:137" class="idref" href="#EqDecision0:137"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:137" class="idref" href="#EqDecision0:137"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IM:138" class="idref" href="#IM:138"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:136"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:135"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:139" class="idref" href="#T:139"><span class="id" title="binder">T</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:138"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:140" class="idref" href="#constraint:140"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:138"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:138"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:135"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:141" class="idref" href="#X:141"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:138"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:140"><span class="id" title="variable">constraint</span></a>)<br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab80"></a><h2 class="section">Projection traces are Byzantine</h2>


<div class="paragraph"> </div>

Let us fix an index <code>j</code> and let <code>Xj</code> be the projection of <code>X</code> on
component <code>j</code>.

<div class="paragraph"> </div>

In this section we establish some basic properties for projections, building up
to Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#proj_pre_loaded_with_all_messages_incl"><span class="id" title="lemma">proj_pre_loaded_with_all_messages_incl</span></a></span>, which guarantees that all
<span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s of <code>Xj</code> are also <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s for the
<span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a></span> associated to the component <code>IM j</code>.
In particular this ensures that the byzantine traces of <code>IM j</code> include all
<span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s of <code>Xj</code> (see Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.ByzantineTraces.html#pre_loaded_with_all_messages_alt_eq"><span class="id" title="lemma">pre_loaded_with_all_messages_alt_eq</span></a></span>).

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="j:142" class="idref" href="#j:142"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Xj:143" class="idref" href="#Xj:143"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:142"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_input_valid" class="idref" href="#projection_valid_input_valid"><span class="id" title="lemma">projection_valid_input_valid</span></a><br/>
&nbsp;&nbsp;(<a id="l:144" class="idref" href="#l:144"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:145" class="idref" href="#som:145"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:146" class="idref" href="#Hv:146"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:144"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#som:145"><span class="id" title="variable">som</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:144"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#som:145"><span class="id" title="variable">som</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">som</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">Hv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Hsi</span> [<span class="id" title="var">Hps</span> [<span class="id" title="var">Hopm</span> <span class="id" title="var">_</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#valid_state_projection"><span class="id" title="lemma">valid_state_projection</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#valid_message_projection"><span class="id" title="lemma">valid_message_projection</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_composition_valid_message" class="idref" href="#projection_valid_implies_composition_valid_message"><span class="id" title="lemma">projection_valid_implies_composition_valid_message</span></a><br/>
&nbsp;&nbsp;(<a id="l:147" class="idref" href="#l:147"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="om:149" class="idref" href="#om:149"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:150" class="idref" href="#Hv:150"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:147"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:148"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:149"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:149"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sx</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">HpsX</span> [<span class="id" title="var">HpmX</span> <span class="id" title="var">Hv</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_projection_valid_message" class="idref" href="#projection_valid_implies_projection_valid_message"><span class="id" title="lemma">projection_valid_implies_projection_valid_message</span></a><br/>
&nbsp;&nbsp;(<a id="l:151" class="idref" href="#l:151"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:152" class="idref" href="#s:152"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="om:153" class="idref" href="#om:153"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:154" class="idref" href="#Hv:154"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:151"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:152"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:153"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:153"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#valid_message_projection"><span class="id" title="lemma">valid_message_projection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_composition_valid_message"><span class="id" title="lemma">projection_valid_implies_composition_valid_message</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_projection_valid_state" class="idref" href="#projection_valid_implies_projection_valid_state"><span class="id" title="lemma">projection_valid_implies_projection_valid_state</span></a><br/>
&nbsp;&nbsp;(<a id="lj:155" class="idref" href="#lj:155"><span class="id" title="binder">lj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;(<a id="sj:156" class="idref" href="#sj:156"><span class="id" title="binder">sj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="om:157" class="idref" href="#om:157"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:158" class="idref" href="#Hv:158"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:155"><span class="id" title="variable">lj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:156"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:157"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:156"><span class="id" title="variable">sj</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Heq_sj</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sj</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#valid_state_projection"><span class="id" title="lemma">valid_state_projection</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_projection_valid_state_message_outputs" class="idref" href="#projection_valid_implies_projection_valid_state_message_outputs"><span class="id" title="lemma">projection_valid_implies_projection_valid_state_message_outputs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:159" class="idref" href="#l:159"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:160" class="idref" href="#s:160"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="om:161" class="idref" href="#om:161"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hv:162" class="idref" href="#Hv:162"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:159"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:160"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:161"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s':163" class="idref" href="#s':163"><span class="id" title="binder">s'</span></a> <a id="om':164" class="idref" href="#om':164"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:165" class="idref" href="#Ht:165"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:159"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:160"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:161"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s':163"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om':164"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s':163"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om':164"><span class="id" title="variable">om'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_projection_valid_state"><span class="id" title="lemma">projection_valid_implies_projection_valid_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_projection_valid_message"><span class="id" title="lemma">projection_valid_implies_projection_valid_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_s</span> <span class="id" title="var">Hom</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_generated_state_message"><span class="id" title="constructor">valid_generated_state_message</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hom</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_destination_projection_valid_state" class="idref" href="#projection_valid_implies_destination_projection_valid_state"><span class="id" title="lemma">projection_valid_implies_destination_projection_valid_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:166" class="idref" href="#l:166"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:167" class="idref" href="#s:167"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="om:168" class="idref" href="#om:168"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hv:169" class="idref" href="#Hv:169"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:166"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:167"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:168"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s':170" class="idref" href="#s':170"><span class="id" title="binder">s'</span></a> <a id="om':171" class="idref" href="#om':171"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:172" class="idref" href="#Ht:172"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:166"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:167"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:168"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s':170"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om':171"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s':170"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_projection_valid_state_message_outputs"><span class="id" title="lemma">projection_valid_implies_projection_valid_state_message_outputs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s'</span> := <span class="id" title="var">s'</span>) (<span class="id" title="var">om'</span> := <span class="id" title="var">om'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_valid_implies_destination_projection_valid_message" class="idref" href="#projection_valid_implies_destination_projection_valid_message"><span class="id" title="lemma">projection_valid_implies_destination_projection_valid_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:173" class="idref" href="#l:173"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:174" class="idref" href="#s:174"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="om:175" class="idref" href="#om:175"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hv:176" class="idref" href="#Hv:176"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:173"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:174"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:175"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s':177" class="idref" href="#s':177"><span class="id" title="binder">s'</span></a> <a id="om':178" class="idref" href="#om':178"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:179" class="idref" href="#Ht:179"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.ProjectionTraces.html#l:173"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:174"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:175"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s':177"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om':178"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om':178"><span class="id" title="variable">om'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_projection_valid_state_message_outputs"><span class="id" title="lemma">projection_valid_implies_projection_valid_state_message_outputs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s'</span> := <span class="id" title="var">s'</span>) (<span class="id" title="var">om'</span> := <span class="id" title="var">om'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Interestingly enough, <code>Xj</code> cannot produce any additional messages than
the initial ones available from <code>X</code>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_message_projection_rev" class="idref" href="#valid_message_projection_rev"><span class="id" title="lemma">valid_message_projection_rev</span></a><br/>
&nbsp;&nbsp;(<a id="iom:180" class="idref" href="#iom:180"><span class="id" title="binder">iom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hpmj:181" class="idref" href="#Hpmj:181"><span class="id" title="binder">Hpmj</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#iom:180"><span class="id" title="variable">iom</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#iom:180"><span class="id" title="variable">iom</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|];[|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpmj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sj</span> <span class="id" title="var">Hpmj</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpmj</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pm</span> &lt;-]. <span class="id" title="tactic">apply</span> @<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Heqs</span> <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lX</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">l</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_state_message_outputs"><span class="id" title="lemma">input_valid_state_message_outputs</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sj</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
As a stepping stone towards proving trace inclusion between <code>Xj</code> and
the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a></span> associated to <code>IM j</code>, we prove that the
<span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a></span>erty is transferred.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="proj_pre_loaded_with_all_messages_valid_state_message_preservation" class="idref" href="#proj_pre_loaded_with_all_messages_valid_state_message_preservation"><span class="id" title="lemma">proj_pre_loaded_with_all_messages_valid_state_message_preservation</span></a><br/>
&nbsp;&nbsp;(<a id="PreLoaded:182" class="idref" href="#PreLoaded:182"><span class="id" title="binder">PreLoaded</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;(<a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="om:184" class="idref" href="#om:184"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:185" class="idref" href="#Hps:185"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:184"><span class="id" title="variable">om</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoaded:182"><span class="id" title="variable">PreLoaded</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:184"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_initial_state_message"><span class="id" title="constructor">valid_initial_state_message</span></a> <span class="id" title="var">PreLoaded</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_generated_state_message"><span class="id" title="constructor">valid_generated_state_message</span></a> <span class="id" title="var">PreLoaded</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">_om</span> <span class="id" title="var">_s</span> <span class="id" title="var">om</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_valid"><span class="id" title="lemma">projection_valid_implies_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a>). <span class="id" title="tactic">exact</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We can now finally prove the main result for this section:

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="proj_pre_loaded_with_all_messages_incl" class="idref" href="#proj_pre_loaded_with_all_messages_incl"><span class="id" title="lemma">proj_pre_loaded_with_all_messages_incl</span></a><br/>
&nbsp;&nbsp;(<a id="PreLoaded:186" class="idref" href="#PreLoaded:186"><span class="id" title="binder">PreLoaded</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#PreLoaded:186"><span class="id" title="variable">PreLoaded</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.Xj"><span class="id" title="variable">Xj</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> <span class="id" title="var">PreLoaded</span>)); <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>; <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_valid"><span class="id" title="lemma">projection_valid_implies_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#fixed_projection"><span class="id" title="section">fixed_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="projection_friendliness_sufficient_condition" class="idref" href="#projection_friendliness_sufficient_condition"><span class="id" title="section">projection_friendliness_sufficient_condition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="message:187" class="idref" href="#message:187"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="EqDecision0:189" class="idref" href="#EqDecision0:189"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:189" class="idref" href="#EqDecision0:189"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IM:190" class="idref" href="#IM:190"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#index:188"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:187"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:191" class="idref" href="#T:191"><span class="id" title="binder">T</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:190"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:192" class="idref" href="#constraint:192"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:190"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:190"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#message:187"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:193" class="idref" href="#X:193"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#IM:190"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#constraint:192"><span class="id" title="variable">constraint</span></a>)<br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab81"></a><h2 class="section">A sufficient condition for the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#projection_friendly_prop"><span class="id" title="definition">projection_friendly_prop</span></a></span>erty.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="j:194" class="idref" href="#j:194"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Xj:195" class="idref" href="#Xj:195"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#j:194"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
This condition states that <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a></span>ity in a projection <code>Xj</code>
can be lifted to any <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_state"><span class="id" title="definition">valid_state</span></a></span> in <code>X</code> which projects to the
corresponding <code>Xj</code> state.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="projection_friendliness_sufficient_condition" class="idref" href="#projection_friendliness_sufficient_condition"><span class="id" title="definition">projection_friendliness_sufficient_condition</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="lj:196" class="idref" href="#lj:196"><span class="id" title="binder">lj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sj:197" class="idref" href="#sj:197"><span class="id" title="binder">sj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="om:198" class="idref" href="#om:198"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hiv:199" class="idref" href="#Hiv:199"><span class="id" title="binder">Hiv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:196"><span class="id" title="variable">lj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:197"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:198"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:200" class="idref" href="#s:200"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:201" class="idref" href="#Hs:201"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:200"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsi:202" class="idref" href="#Hsi:202"><span class="id" title="binder">Hsi</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:200"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#sj:197"><span class="id" title="variable">sj</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#lj:196"><span class="id" title="variable">lj</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ProjectionTraces.html#s:200"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#om:198"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="projection_friendliness_sufficient_condition_valid_state" class="idref" href="#projection_friendliness_sufficient_condition_valid_state"><span class="id" title="lemma">projection_friendliness_sufficient_condition_valid_state</span></a><br/>
&nbsp;&nbsp;(<a id="Hfr:203" class="idref" href="#Hfr:203"><span class="id" title="binder">Hfr</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition"><span class="id" title="definition">projection_friendliness_sufficient_condition</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:204" class="idref" href="#s:204"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hp:205" class="idref" href="#Hp:205"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:204"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#s:204"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state_initial"><span class="id" title="lemma">lift_to_composite_state_initial</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvj</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hvj</span> <span class="id" title="var">_</span> <span class="id" title="var">IHHp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hfr</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_valid_implies_composition_valid_message"><span class="id" title="lemma">projection_valid_implies_composition_valid_message</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hvj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">HsX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_s</span> <span class="id" title="var">Hom</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_generated_state_message"><span class="id" title="constructor">valid_generated_state_message</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HsX</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hom</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The result below shows that the <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition"><span class="id" title="definition">projection_friendliness_sufficient_condition</span></a></span>
might be too strong, in the sense that it allows any trace from the
projection to be lifted direclty to <code>X</code>
(all other machines stay in their initial state).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="projection_friendliness_lift_to_composite_vlsm_full_projection" class="idref" href="#projection_friendliness_lift_to_composite_vlsm_full_projection"><span class="id" title="lemma">projection_friendliness_lift_to_composite_vlsm_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="Hfr:206" class="idref" href="#Hfr:206"><span class="id" title="binder">Hfr</span></a> : <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition"><span class="id" title="definition">projection_friendliness_sufficient_condition</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.Xj"><span class="id" title="variable">Xj</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_full_projection"><span class="id" title="lemma">basic_VLSM_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hfr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span>); [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition_valid_state"><span class="id" title="lemma">projection_friendliness_sufficient_condition_valid_state</span></a> <span class="id" title="var">Hfr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state_initial"><span class="id" title="lemma">lift_to_composite_state_initial</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition.j"><span class="id" title="variable">j</span></a>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">Homj</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Heqs</span> [<span class="id" title="var">HsX</span> [<span class="id" title="var">Hom</span> <span class="id" title="var">Hv</span>]]]]]]. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#projection_friendliness_sufficient_condition"><span class="id" title="section">projection_friendliness_sufficient_condition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
