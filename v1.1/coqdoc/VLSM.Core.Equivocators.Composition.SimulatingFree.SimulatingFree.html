<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write(document.title)</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="VLSM.Lib.FinExtras.html#"><span class="id" title="library">Lib.FinExtras</span></a> <a class="idref" href="VLSM.Lib.FinFunExtras.html#"><span class="id" title="library">Lib.FinFunExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">Core.VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">Core.VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Core.Composition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">Core.ProjectionTraces</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#"><span class="id" title="library">Core.SubProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Core.Equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#"><span class="id" title="library">Core.Equivocation.NoEquivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Common.html#"><span class="id" title="library">Core.Equivocators.Common</span></a> <a class="idref" href="VLSM.Core.Equivocators.Projections.html#"><span class="id" title="library">Core.Equivocators.Projections</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#"><span class="id" title="library">Core.Equivocators.MessageProperties</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#"><span class="id" title="library">Core.Equivocators.Composition.Common</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#"><span class="id" title="library">Core.Equivocators.Composition.Projections</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#"><span class="id" title="library">Core.Equivocators.Composition.SimulatingFree.FullReplayTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.LimitedEquivocation.FixedEquivocation.html#"><span class="id" title="library">Core.Equivocators.Composition.LimitedEquivocation.FixedEquivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Plans.html#"><span class="id" title="library">Core.Plans</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab137"></a><h1 class="section">Equivocators simulating regular nodes</h1>


<div class="paragraph"> </div>

In this module we prove a general simulation result parameterized by
constraints with good properties, then we instantiate the general result for
the free composition of regular nodes.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="generalized_constraints" class="idref" href="#generalized_constraints"><span class="id" title="section">generalized_constraints</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab138"></a><h2 class="section">Generic simulation</h2>


<div class="paragraph"> </div>

In this section we prove a general simulation result, namely that a composition
of equivocators constrained by a <code>constraintE</code> can simulate a composition of
the corresponding regular nodes constrained by a <code>constraintX</code> if they are
related through the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a></span>erty and the
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">finite.Finite</span></a> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:5" class="idref" href="#IM:5"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">forall</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">i</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">:</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">index</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">,</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">(</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">IM</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">i</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="seed:8" class="idref" href="#seed:8"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="constraintX:9" class="idref" href="#constraintX:9"><span class="id" title="binder">constraintX</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="CX:10" class="idref" href="#CX:10"><span class="id" title="binder">CX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#constraintX:9"><span class="id" title="variable">constraintX</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seed:8"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="constraintE:11" class="idref" href="#constraintE:11"><span class="id" title="binder">constraintE</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="CE:12" class="idref" href="#CE:12"><span class="id" title="binder">CE</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#constraintE:11"><span class="id" title="variable">constraintE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seed:8"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="FreeE:13" class="idref" href="#FreeE:13"><span class="id" title="binder">FreeE</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="PreFreeE:14" class="idref" href="#PreFreeE:14"><span class="id" title="binder">PreFreeE</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#FreeE:13"><span class="id" title="variable">FreeE</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="last_in_trace_except_from" class="idref" href="#last_in_trace_except_from"><span class="id" title="definition">last_in_trace_except_from</span></a> {<a id="T:15" class="idref" href="#T:15"><span class="id" title="binder">T</span></a>} <a id="exception:16" class="idref" href="#exception:16"><span class="id" title="binder">exception</span></a> (<a id="tr:17" class="idref" href="#tr:17"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.message"><span class="id" title="variable">message</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#T:15"><span class="id" title="variable">T</span></a>)) <a id="iom:18" class="idref" href="#iom:18"><span class="id" title="binder">iom</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#iom:18"><span class="id" title="variable">iom</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">im</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:17"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">im</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#exception:16"><span class="id" title="variable">exception</span></a> <span class="id" title="var">im</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A property requiring that <code>constraintE</code> holds for any transition using
an original copy of an equivocator if the message is initial or <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
for the given state.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="zero_descriptor_constraint_lifting_prop" class="idref" href="#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="es:20" class="idref" href="#es:20"><span class="id" title="binder">es</span></a> (<a id="Hes:21" class="idref" href="#Hes:21"><span class="id" title="binder">Hes</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#es:20"><span class="id" title="variable">es</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="om:22" class="idref" href="#om:22"><span class="id" title="binder">om</span></a> (<a id="Hom:23" class="idref" href="#Hom:23"><span class="id" title="binder">Hom</span></a> : <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#sent_except_from"><span class="id" title="definition">sent_except_from</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#vinitial_message_prop"><span class="id" title="definition">vinitial_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#es:20"><span class="id" title="variable">es</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#om:22"><span class="id" title="variable">om</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv:24" class="idref" href="#eqv:24"><span class="id" title="binder">eqv</span></a> <a id="li:25" class="idref" href="#li:25"><span class="id" title="binder">li</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.constraintE"><span class="id" title="variable">constraintE</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv:24"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Common.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> 0 <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#li:25"><span class="id" title="variable">li</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#es:20"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#om:22"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a></span>erty plays an important role in designing a
general, abstract, proof for trace simulation (Lemma
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a></span>), as it specifies
that given a message <code>m</code> received in a regular node-composition state <code>s</code>
for which the constraint <code>constraintX</code> is satisfied, then any trace of the
equivocators-composition (constrained by <code>constraintE</code>&gt;) producing <code>m</code>
can be "replayed" on top of an equivocators-composition state corresponding
to <code>s</code>, with no transitions being performed on the original copies.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="replayable_message_prop" class="idref" href="#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="si:26" class="idref" href="#si:26"><span class="id" title="binder">si</span></a> <a id="s:27" class="idref" href="#s:27"><span class="id" title="binder">s</span></a> <a id="tr:28" class="idref" href="#tr:28"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HtrX:29" class="idref" href="#HtrX:29"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CX"><span class="id" title="variable">CX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#si:26"><span class="id" title="variable">si</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:27"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:28"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv_state_s:30" class="idref" href="#eqv_state_s:30"><span class="id" title="binder">eqv_state_s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hstate_valid:31" class="idref" href="#Hstate_valid:31"><span class="id" title="binder">Hstate_valid</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_state_s:30"><span class="id" title="variable">eqv_state_s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hstate_final_project:32" class="idref" href="#Hstate_final_project:32"><span class="id" title="binder">Hstate_final_project</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_state_s:30"><span class="id" title="variable">eqv_state_s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:27"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv_msg_is:33" class="idref" href="#eqv_msg_is:33"><span class="id" title="binder">eqv_msg_is</span></a> <a id="eqv_msg_s:34" class="idref" href="#eqv_msg_s:34"><span class="id" title="binder">eqv_msg_s</span></a> <a id="eqv_msg_tr:35" class="idref" href="#eqv_msg_tr:35"><span class="id" title="binder">eqv_msg_tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmsg_trace:36" class="idref" href="#Hmsg_trace:36"><span class="id" title="binder">Hmsg_trace</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_is:33"><span class="id" title="variable">eqv_msg_is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_s:34"><span class="id" title="variable">eqv_msg_s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_tr:35"><span class="id" title="variable">eqv_msg_tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iom:37" class="idref" href="#iom:37"><span class="id" title="binder">iom</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfinal_msg:38" class="idref" href="#Hfinal_msg:38"><span class="id" title="binder">Hfinal_msg</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#last_in_trace_except_from"><span class="id" title="definition">last_in_trace_except_from</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vinitial_message_prop"><span class="id" title="definition">vinitial_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_tr:35"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#iom:37"><span class="id" title="variable">iom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="l:39" class="idref" href="#l:39"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HcX:40" class="idref" href="#HcX:40"><span class="id" title="binder">HcX</span></a>: <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.constraintX"><span class="id" title="variable">constraintX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#l:39"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:27"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#iom:37"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="eqv_msg_tr:41" class="idref" href="#eqv_msg_tr:41"><span class="id" title="binder">eqv_msg_tr</span></a> <a id="lst_msg_tr:42" class="idref" href="#lst_msg_tr:42"><span class="id" title="binder">lst_msg_tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_state_s:30"><span class="id" title="variable">eqv_state_s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#lst_msg_tr:42"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_tr:41"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#eqv_msg_tr:41"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#lst_msg_tr:42"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:27"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#sent_except_from"><span class="id" title="definition">sent_except_from</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#vinitial_message_prop"><span class="id" title="definition">vinitial_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#lst_msg_tr:42"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#iom:37"><span class="id" title="variable">iom</span></a>.<br/>

<br/>
</div>

<div class="doc">
The main result of this section, showing that every trace of the
composition of regular nodes can be obtained as a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a></span> projection
of a valid trace for the composition of equivocators.

<div class="paragraph"> </div>

The proof proceeds by replaying the transitions of the trace on the original
copy of the machines, replaying traces corresponding to the messages between
those transition through equivocation to guarantee the no-message-equivocation
constraint.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="generalized_equivocators_finite_valid_trace_init_to_rev" class="idref" href="#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="Hsubsumption:43" class="idref" href="#Hsubsumption:43"><span class="id" title="binder">Hsubsumption</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreplayable:44" class="idref" href="#Hreplayable:44"><span class="id" title="binder">Hreplayable</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:45" class="idref" href="#isX:45"><span class="id" title="binder">isX</span></a> <a id="sX:46" class="idref" href="#sX:46"><span class="id" title="binder">sX</span></a> <a id="trX:47" class="idref" href="#trX:47"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:48" class="idref" href="#HtrX:48"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CX"><span class="id" title="variable">CX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:45"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:46"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:47"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:49" class="idref" href="#is:49"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:49"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:45"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:50" class="idref" href="#s:50"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:46"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:51" class="idref" href="#tr:51"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:51"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:47"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:49"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:51"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:47"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:51"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HinclE</span> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.PreFreeE"><span class="id" title="variable">PreFreeE</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_pre_loaded_vlsm_incl_pre_loaded_with_all_messages"><span class="id" title="lemma">composite_pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_strong_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_strong_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#lift_initial_to_equivocators_state"><span class="id" title="lemma">lift_initial_to_equivocators_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">His</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#lift_to_equivocators_state"><span class="id" title="definition">lift_to_equivocators_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="keyword">is</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hproject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">Hproject</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">Hproject</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHtrX1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqv_state_is</span> [<span class="id" title="var">Hstate_start_project</span> [<span class="id" title="var">eqv_state_s</span> [<span class="id" title="var">Hstate_final_project</span> [<span class="id" title="var">eqv_state_tr</span> [<span class="id" title="var">Hstate_project</span> [<span class="id" title="var">Hstate_trace</span> <span class="id" title="var">_</span> ]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHtrX2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqv_msg_is</span> [<span class="id" title="var">Hmsg_start_project</span> [<span class="id" title="var">eqv_msg_s</span> [<span class="id" title="var">_</span> [<span class="id" title="var">eqv_msg_tr</span> [<span class="id" title="var">Hmsg_project</span> [<span class="id" title="var">Hmsg_trace</span> <span class="id" title="var">Hfinal_msg</span> ]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">eqv_state_is</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstate_trace</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstate_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">Hiom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hreplayable</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX1</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstate_valid</span> <span class="id" title="var">Hstate_final_project</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmsg_trace</span> <span class="id" title="var">iom</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hreplay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hreplay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Heqiom</span> <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span>|]; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#empty_initial_message_or_final_output"><span class="id" title="definition">empty_initial_message_or_final_output</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqiom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">iom_tr</span> <span class="id" title="var">iom_tr'</span> <span class="id" title="var">item</span> <span class="id" title="var">Heqiom_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hreplay</span> <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">emsg_tr</span> [<span class="id" title="var">es</span> [<span class="id" title="var">Hmsg_trace_full_replay</span> [<span class="id" title="var">Hemsg_tr_pr</span> [<span class="id" title="var">Hes_pr</span> <span class="id" title="var">Hbs_iom</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hstate_trace</span>) <span class="id" title="var">Hmsg_trace_full_replay</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <span class="id" title="var">Happ</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eqv</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="i:53" class="idref" href="#i:53"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#i:52"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">eqv</span> (<a class="idref" href="VLSM.Core.Equivocators.Common.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> 0 <span class="id" title="var">li</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">el</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <span class="id" title="var">el</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">es</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">es'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Happ_extend</span>  <span class="id" title="var">el</span> <span class="id" title="var">iom</span> <span class="id" title="var">es'</span> <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heqes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hes_pr_i</span> : <span class="id" title="notation">forall</span> <a id="i:55" class="idref" href="#i:55"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">es</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#i:54"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#i:54"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hes_pr</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">es'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Het</span> := <span class="id" title="var">Hesom'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hes_pr_i</span> <span class="id" title="var">eqv</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Common.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hes_pr_eqv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sf</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hesom'</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es'</span> <span class="id" title="var">om'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Happ_extend</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">cut</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Happ_extend</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- ?<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hproject</span> : <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">eqv</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hes_pr_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">Happ_extend</span>|]|]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project_app"><span class="id" title="lemma">equivocators_total_trace_project_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Happ_extend</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project_app"><span class="id" title="lemma">equivocators_total_trace_project_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Happ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hemsg_tr_pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstate_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">el</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_transition_item_project"><span class="id" title="definition">equivocators_transition_item_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Equivocators.Common.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hstate_trace</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>! <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|..|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span>|]; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbs_iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbs_iom</span> | <span class="id" title="var">Hseeded</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#preloaded_composite_sent_valid"><span class="id" title="lemma">preloaded_composite_sent_valid</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Happ</span> <span class="id" title="var">_</span> <span class="id" title="var">Hbs_iom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">el</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Common.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hes_pr_eqv</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubsumption</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_constraints"><span class="id" title="section">generalized_constraints</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab139"></a><h2 class="section">VLSM Equivocators Simulating Free Composite</h2>


<div class="paragraph"> </div>

In this section we show that the composition of equivocators with no-message
equivocation can simulate the free composition of regular nodes.

<div class="paragraph"> </div>

To allow reusing this result in the proof for simulating fixed equivocation,
we first prove an intermediate result, where both the composite VLSMs are
pre-loaded with the same set of messages.

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="seeded_all_equivocating" class="idref" href="#seeded_all_equivocating"><span class="id" title="section">seeded_all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="message:56" class="idref" href="#message:56"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:59" class="idref" href="#H:59"><span class="id" title="binder">finite.Finite</span></a> <a id="H:59" class="idref" href="#H:59"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:60" class="idref" href="#IM:60"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#index:57"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:56"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">forall</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">i</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">:</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">index</span></a><a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">,</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">(</span></a><a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">IM</span></a> <a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">i</span></a><a id="H0:62" class="idref" href="#H0:62"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="FreeE:63" class="idref" href="#FreeE:63"><span class="id" title="binder">FreeE</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:60"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="PreFreeE:64" class="idref" href="#PreFreeE:64"><span class="id" title="binder">PreFreeE</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#FreeE:63"><span class="id" title="variable">FreeE</span></a>)<br/>
&nbsp;&nbsp;(<a id="seed:65" class="idref" href="#seed:65"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:56"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="SeededXE:66" class="idref" href="#SeededXE:66"><span class="id" title="binder">SeededXE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:56"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:60"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seed:65"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:67" class="idref" href="#Free:67"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:60"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="SeededFree:68" class="idref" href="#SeededFree:68"><span class="id" title="binder">SeededFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#Free:67"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seed:65"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
Since <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a></span> was defined for a subset of the equivocators, we
here define a specialized version of it when the set of all equivocators is used.

<div class="paragraph"> </div>

We then restate some of the lemmas concering <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a></span> for the new
definition.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="all_equivocating_replayed_trace_from" class="idref" href="#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;(<a id="full_replay_state:69" class="idref" href="#full_replay_state:69"><span class="id" title="binder">full_replay_state</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="is:70" class="idref" href="#is:70"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:71" class="idref" href="#tr:71"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Hproj:72" class="idref" href="#Hproj:72"><span class="id" title="binder">Hproj</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all_full_projection"><span class="id" title="lemma">sub_composition_all_full_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#full_replay_state:69"><span class="id" title="variable">full_replay_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:70"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_finite_trace_project"><span class="id" title="definition">VLSM_full_projection_finite_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#Hproj:72"><span class="id" title="variable">Hproj</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:71"><span class="id" title="variable">tr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="replayed_trace_from_valid_equivocating" class="idref" href="#replayed_trace_from_valid_equivocating"><span class="id" title="lemma">replayed_trace_from_valid_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="full_replay_state:73" class="idref" href="#full_replay_state:73"><span class="id" title="binder">full_replay_state</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hfull_replay_state:74" class="idref" href="#Hfull_replay_state:74"><span class="id" title="binder">Hfull_replay_state</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#full_replay_state:73"><span class="id" title="variable">full_replay_state</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:75" class="idref" href="#is:75"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:76" class="idref" href="#tr:76"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:77" class="idref" href="#Htr:77"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:75"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:76"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#full_replay_state:73"><span class="id" title="variable">full_replay_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#full_replay_state:73"><span class="id" title="variable">full_replay_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:75"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:76"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#sub_replayed_trace_from_valid_equivocating"><span class="id" title="lemma">sub_replayed_trace_from_valid_equivocating</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Hfull_replay_state</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hproj</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#preloaded_sub_composition_all_full_projection"><span class="id" title="lemma">preloaded_sub_composition_all_full_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_pre_loaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_pre_loaded</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_finite_valid_trace"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace</span></a> <span class="id" title="var">Hproj</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_incl_preloaded_with"><span class="id" title="lemma">basic_VLSM_incl_preloaded_with</span></a>.<br/>
&nbsp;&nbsp;1,3-5: <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> (<span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hc</span>]; [|<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Specializing the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a></span>
result using the <span class="inlinecode"><a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a></span> for the composition of regular nodes
and the no-message-equivocation constraint for the composition of equivocators.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="seeded_equivocators_finite_valid_trace_init_to_rev" class="idref" href="#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:78" class="idref" href="#no_initial_messages_in_IM:78"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:79" class="idref" href="#isX:79"><span class="id" title="binder">isX</span></a> <a id="sX:80" class="idref" href="#sX:80"><span class="id" title="binder">sX</span></a> <a id="trX:81" class="idref" href="#trX:81"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:82" class="idref" href="#HtrX:82"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededFree"><span class="id" title="variable">SeededFree</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:79"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:80"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:81"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:83" class="idref" href="#is:83"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:83"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:79"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:80"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:85" class="idref" href="#tr:85"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:85"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:81"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:83"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:85"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:81"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:85"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;; [..|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span>|<span class="id" title="var">Hinitial</span>]; [<span class="id" title="tactic">left</span>;<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinitial</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">mi</span> <span class="id" title="var">Hmi</span>] <span class="id" title="var">Him</span>]]|<span class="id" title="var">Hseeded</span>]; [<span class="id" title="var">exfalso</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">no_initial_messages_in_IM</span> <span class="id" title="var">i</span> <span class="id" title="var">mi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">isX</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">eqv_state_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#seeded_no_equivocation_incl_preloaded"><span class="id" title="lemma">NoEquivocation.seeded_no_equivocation_incl_preloaded</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HinclE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#replayed_trace_from_valid_equivocating"><span class="id" title="lemma">replayed_trace_from_valid_equivocating</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">Hstate_valid</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmsg_trace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hmsg_trace_full_replay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">emsg_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace_full_replay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">Hmsg_trace_full_replay</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#equivocators_total_state_project_replayed_trace_from"><span class="id" title="lemma">equivocators_total_state_project_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">eqv_state_s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.FullReplayTraces.html#equivocators_total_trace_project_replayed_trace_from"><span class="id" title="lemma">equivocators_total_trace_project_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">eqv_state_s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfinal_msg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfinal_msg</span> | <span class="id" title="var">Hinitial</span>]; [|<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_first_pstate"><span class="id" title="method">valid_trace_first_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace_full_replay</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">is_s</span> [<span class="id" title="var">tr_s</span> [<span class="id" title="var">Htr_s</span> <span class="id" title="var">His_s</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr_s</span> <span class="id" title="var">Hmsg_trace_full_replay</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_examine_one_trace"><span class="id" title="lemma">has_been_sent_examine_one_trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Happ</span> <span class="id" title="var">His_s</span>) <span class="id" title="var">im</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrew</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrew</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrew</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">eqv_msg_tr</span> <span class="id" title="var">eqv_msg_tr'</span> <span class="id" title="var">itemX</span> <span class="id" title="var">Heqv_msg_tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfinal_msg</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_finite_trace_project"><span class="id" title="definition">VLSM_full_projection_finite_trace_project</span></a>, <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_all_equivocating"><span class="id" title="section">seeded_all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="all_equivocating" class="idref" href="#all_equivocating"><span class="id" title="section">all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="message:86" class="idref" href="#message:86"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:87" class="idref" href="#index:87"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:89" class="idref" href="#H:89"><span class="id" title="binder">finite.Finite</span></a> <a id="H:89" class="idref" href="#H:89"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:90" class="idref" href="#IM:90"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#index:87"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:86"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">forall</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">i</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">:</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">index</span></a><a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">,</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">(</span></a><a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">IM</span></a> <a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">i</span></a><a id="H0:92" class="idref" href="#H0:92"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:93" class="idref" href="#Free:93"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:90"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="XE:94" class="idref" href="#XE:94"><span class="id" title="binder">XE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#message:86"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocators_no_equivocations_vlsm"><span class="id" title="definition">equivocators_no_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#IM:90"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
Further specializing <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a></span>
to remove the pre-loading operation.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_finite_valid_trace_init_to_rev" class="idref" href="#equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:95" class="idref" href="#no_initial_messages_in_IM:95"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:96" class="idref" href="#isX:96"><span class="id" title="binder">isX</span></a> <a id="sX:97" class="idref" href="#sX:97"><span class="id" title="binder">sX</span></a> <a id="trX:98" class="idref" href="#trX:98"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:99" class="idref" href="#HtrX:99"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:96"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:97"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:98"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:100" class="idref" href="#is:100"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:100"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#isX:96"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:101" class="idref" href="#s:101"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:101"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#sX:97"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:102" class="idref" href="#tr:102"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.Projections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:102"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:98"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#is:100"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#s:101"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:102"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#trX:98"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#tr:102"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.Free"><span class="id" title="variable">Free</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_eq_finite_valid_trace_init_to</span></a> <span class="id" title="var">Heq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="m:104" class="idref" href="#m:104"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="notation">False</span>) <span class="id" title="var">no_initial_messages_in_IM</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">His</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr_pr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Houtput</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_pre_loaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_pre_loaded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">constraint</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Composition.Common.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">constraint</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_eq_finite_valid_trace_init_to</span></a> <span class="id" title="var">Heq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#preloaded_constraint_subsumption_stronger"><span class="id" title="lemma">preloaded_constraint_subsumption_stronger</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#strong_constraint_subsumption_strongest"><span class="id" title="lemma">strong_constraint_subsumption_strongest</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.Composition.SimulatingFree.SimulatingFree.html#all_equivocating"><span class="id" title="section">all_equivocating</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
