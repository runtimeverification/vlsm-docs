<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Reals.Rdefinitions.html#"><span class="id" title="library">Rdefinitions</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Reals.RIneq.html#"><span class="id" title="library">RIneq</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="VLSM.Lib.Measurable.html#"><span class="id" title="library">Lib.Measurable</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">Lib.StdppListSet</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">Core.VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">Core.VLSMProjections</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#"><span class="id" title="library">Core.MessageDependencies</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Core.Composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Core.Equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#"><span class="id" title="library">Core.Equivocation.FixedSetEquivocation</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#"><span class="id" title="library">Core.Equivocation.TraceWiseEquivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#"><span class="id" title="library">Core.Equivocation.WitnessedEquivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab122"></a><h1 class="section">VLSM Limited Message Equivocation</h1>


<div class="paragraph"> </div>

In this section we define the notion of limited (message-based) equivocation.

<div class="paragraph"> </div>

This notion is slightly harder to define than that of fixed-set equivocation,
because, while for the latter we fix a set and let only the nodes belonging to
that set to equivocate, in the case of limited equivocation, the set of nodes
equivocating can change dynamically, each node being virtually allowed to
equivocate as long as the weight of all nodes currently equivocating does
not pass a certain threshold.

<div class="paragraph"> </div>

As we need to be able to measure the amount of equivocation in a given state
to design a composition constraint preventing equivocation weight from passing
the threshold, we need an appropriate measure of equivocation.
We here choose <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a></span> as this measure.

<div class="paragraph"> </div>

Moreover, to further limit the amount of equivocation allowed when producing
a message, we assume a full-node-like  condition to be satisfied by all nodes.
This  guarantees that whenever a message not-previously send is received in a
state, the amount of equivocation would only grow with the weight of the
sender of the message (if that wasn't already known as an equivocator).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="limited_message_equivocation" class="idref" href="#limited_message_equivocation"><span class="id" title="section">limited_message_equivocation</span></a>.<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">finite.Finite</span></a> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:6" class="idref" href="#H0:6"><span class="id" title="binder">ReachableThreshold</span></a> <a id="H0:6" class="idref" href="#H0:6"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:7" class="idref" href="#IM:7"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">forall</span></a> <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">i</span></a><a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">,</span></a> <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">(</span></a><a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">IM</span></a> <a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">i</span></a><a id="H1:9" class="idref" href="#H1:9"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">forall</span></a> <a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">i</span></a><a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">,</span></a> <a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">(</span></a><a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">IM</span></a> <a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">i</span></a><a id="H2:11" class="idref" href="#H2:11"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:12" class="idref" href="#Free:12"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:7"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:13" class="idref" href="#sender:13"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:2"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">RelDecision</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">_</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">_</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">(</span></a><a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">is_equivocating_tracewise_no_has_been_sent</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">IM</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">(</span></a><a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">fun</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">i</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">=&gt;</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">i</span></a><a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">)</span></a> <a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">sender</span></a><a id="H3:15" class="idref" href="#H3:15"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Htracewise_BasicEquivocation:16" class="idref" href="#Htracewise_BasicEquivocation:16"><span class="id" title="binder">Htracewise_BasicEquivocation</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:7"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:2"><span class="id" title="variable">index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocation_dec_tracewise"><span class="id" title="instance">equivocation_dec_tracewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:7"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#sender:13"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="tracewise_not_heavy:17" class="idref" href="#tracewise_not_heavy:17"><span class="id" title="binder">tracewise_not_heavy</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Htracewise_BasicEquivocation:16"><span class="id" title="variable">Htracewise_BasicEquivocation</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="limited_equivocation_constraint" class="idref" href="#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:18" class="idref" href="#l:18"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:19" class="idref" href="#som:19"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.tracewise_not_heavy"><span class="id" title="variable">tracewise_not_heavy</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#l:18"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#som:19"><span class="id" title="variable">som</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="limited_equivocation_vlsm_composition" class="idref" href="#limited_equivocation_vlsm_composition"><span class="id" title="definition">limited_equivocation_vlsm_composition</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_limited_equivocation_valid_state_weight" class="idref" href="#full_node_limited_equivocation_valid_state_weight"><span class="id" title="lemma">full_node_limited_equivocation_valid_state_weight</span></a> <a id="s:20" class="idref" href="#s:20"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_vlsm_composition"><span class="id" title="definition">limited_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:20"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation.tracewise_not_heavy"><span class="id" title="variable">tracewise_not_heavy</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:20"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">tracewise_not_heavy</span>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> 0%<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#initial_state_equivocators_weight"><span class="id" title="lemma">initial_state_equivocators_weight</span></a>;<span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">Hom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hw</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_message_equivocation"><span class="id" title="section">limited_message_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fixed_limited_message_equivocation" class="idref" href="#fixed_limited_message_equivocation"><span class="id" title="section">fixed_limited_message_equivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab123"></a><h2 class="section">Fixed Message Equivocation implies Limited Message Equivocation</h2>


<div class="paragraph"> </div>

In this section we show that if the set of allowed equivocators for a fixed
equivocation constraint is of weight smaller than the threshold accepted for
limited message equivocation, then any valid trace for the fixed equivocation
constraint is also a trace under the limited equivocation constraint.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:21" class="idref" href="#message:21"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:24" class="idref" href="#H:24"><span class="id" title="binder">finite.Finite</span></a> <a id="H:24" class="idref" href="#H:24"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:25" class="idref" href="#IM:25"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:22"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:21"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">forall</span></a> <a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">i</span></a><a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">,</span></a> <a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">(</span></a><a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">IM</span></a> <a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">i</span></a><a id="H0:27" class="idref" href="#H0:27"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">forall</span></a> <a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">i</span></a><a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">,</span></a> <a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">(</span></a><a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">IM</span></a> <a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">i</span></a><a id="H1:29" class="idref" href="#H1:29"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="equivocators:30" class="idref" href="#equivocators:30"><span class="id" title="binder">equivocators</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:22"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:31" class="idref" href="#Free:31"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Fixed:32" class="idref" href="#Fixed:32"><span class="id" title="binder">Fixed</span></a> := <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_vlsm_composition"><span class="id" title="definition">fixed_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#equivocators:30"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;(<a id="StrongFixed:33" class="idref" href="#StrongFixed:33"><span class="id" title="binder">StrongFixed</span></a> := <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#strong_fixed_equivocation_vlsm_composition"><span class="id" title="definition">strong_fixed_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#equivocators:30"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreFree:34" class="idref" href="#PreFree:34"><span class="id" title="binder">PreFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Free:31"><span class="id" title="variable">Free</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H2:36" class="idref" href="#H2:36"><span class="id" title="binder">ReachableThreshold</span></a> <a id="H2:36" class="idref" href="#H2:36"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hlimited:37" class="idref" href="#Hlimited:37"><span class="id" title="binder">Hlimited</span></a> : (<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">remove_dups</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#equivocators:30"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span> )<br/>
&nbsp;&nbsp;(<a id="sender:38" class="idref" href="#sender:38"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:21"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:22"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:40" class="idref" href="#Hsender_safety:40"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:39" class="idref" href="#i:39"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:39"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#sender:38"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">RelDecision</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">_</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">_</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">(</span></a><a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">is_equivocating_tracewise_no_has_been_sent</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">IM</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">(</span></a><a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">fun</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">i</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">=&gt;</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">i</span></a><a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">)</span></a> <a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">sender</span></a><a id="H3:42" class="idref" href="#H3:42"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Limited:43" class="idref" href="#Limited:43"><span class="id" title="binder">Limited</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:21"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_vlsm_composition"><span class="id" title="definition">limited_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#sender:38"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htracewise_BasicEquivocation:45" class="idref" href="#Htracewise_BasicEquivocation:45"><span class="id" title="binder">Htracewise_BasicEquivocation</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:22"><span class="id" title="variable">index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocation_dec_tracewise"><span class="id" title="instance">equivocation_dec_tracewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#IM:25"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:44" class="idref" href="#i:44"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:44"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#sender:38"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="tracewise_not_heavy:46" class="idref" href="#tracewise_not_heavy:46"><span class="id" title="binder">tracewise_not_heavy</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Htracewise_BasicEquivocation:45"><span class="id" title="variable">Htracewise_BasicEquivocation</span></a>)<br/>
&nbsp;&nbsp;(<a id="tracewise_equivocating_validators:47" class="idref" href="#tracewise_equivocating_validators:47"><span class="id" title="binder">tracewise_equivocating_validators</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Htracewise_BasicEquivocation:45"><span class="id" title="variable">Htracewise_BasicEquivocation</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="StrongFixed_valid_state_not_heavy" class="idref" href="#StrongFixed_valid_state_not_heavy"><span class="id" title="lemma">StrongFixed_valid_state_not_heavy</span></a> <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:49" class="idref" href="#Hs:49"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:48"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.tracewise_not_heavy"><span class="id" title="variable">tracewise_not_heavy</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:48"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.tracewise_equivocating_validators"><span class="id" title="variable">tracewise_equivocating_validators</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">âŠ†</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.equivocators"><span class="id" title="variable">equivocators</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">tracewise_not_heavy</span>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">remove_dups</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.equivocators"><span class="id" title="variable">equivocators</span></a>)); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators_nodup"><span class="id" title="lemma">equivocating_validators_nodup</span></a>|<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_remove_dups</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_remove_dups</span>, <span class="id" title="var">Hincl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">StrongFixedinclPreFree</span> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.PreFree"><span class="id" title="variable">PreFree</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.Free"><span class="id" title="variable">Free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#strong_fixed_equivocation_constraint"><span class="id" title="definition">strong_fixed_equivocation_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.equivocators"><span class="id" title="variable">equivocators</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <span class="id" title="var">StrongFixedinclPreFree</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_validators_is_equivocating_tracewise_iff"><span class="id" title="lemma">equivocating_validators_is_equivocating_tracewise_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hvs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hvs'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre_tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvs'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m0</span> [<span class="id" title="var">Hsender0</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">item</span> [<span class="id" title="var">suf</span> [<span class="id" title="var">Heqtr</span> [<span class="id" title="var">Hm0</span> <span class="id" title="var">Heqv</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">suf</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <span class="id" title="var">StrongFixedinclPreFree</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_pre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htl</span> <span class="id" title="var">Hitem</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">i</span> &amp; <span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hsenti</span>) | <span class="id" title="var">Hemit</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsent</span> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>) <span class="id" title="var">m0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsent</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Hpre_pre</span> <span class="id" title="var">Hinit</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;+  <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_can_emit_sender"><span class="id" title="lemma">SubProjectionTraces.sub_can_emit_sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.equivocators"><span class="id" title="variable">equivocators</span></a> (<span class="id" title="keyword">fun</span> <a id="i:51" class="idref" href="#i:51"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:50"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">v0</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="StrongFixed_incl_Limited" class="idref" href="#StrongFixed_incl_Limited"><span class="id" title="lemma">StrongFixed_incl_Limited</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.Limited"><span class="id" title="variable">Limited</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) <span class="id" title="var">Hpv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">s'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Hpv</span> <span class="id" title="var">Ht</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#StrongFixed_valid_state_not_heavy"><span class="id" title="lemma">StrongFixed_valid_state_not_heavy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Fixed_incl_Limited" class="idref" href="#Fixed_incl_Limited"><span class="id" title="lemma">Fixed_incl_Limited</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.Fixed"><span class="id" title="variable">Fixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.Limited"><span class="id" title="variable">Limited</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#Fixed_eq_StrongFixed"><span class="id" title="lemma">Fixed_eq_StrongFixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.equivocators"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_proj1"><span class="id" title="lemma">VLSM_eq_proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation.StrongFixed"><span class="id" title="variable">StrongFixed</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#StrongFixed_incl_Limited"><span class="id" title="lemma">StrongFixed_incl_Limited</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_message_equivocation"><span class="id" title="section">fixed_limited_message_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="has_limited_equivocation" class="idref" href="#has_limited_equivocation"><span class="id" title="section">has_limited_equivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab124"></a><h2 class="section">Limited Equivocation derived from Fixed Equivocation</h2>


<div class="paragraph"> </div>

We say that a trace has the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a></span>erty if it is
valid for the composition using a <span class="inlinecode"><span class="id" title="var">generalized_fixed_equivocation_constraint</span></span>
induced by a subset of indices whose weight is less than the allowed
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ReachableThreshold"><span class="id" title="record">ReachableThreshold</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:52" class="idref" href="#message:52"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">finite.Finite</span></a> <a id="H:55" class="idref" href="#H:55"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:56" class="idref" href="#IM:56"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#index:53"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#message:52"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">forall</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">i</span></a><a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">,</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">(</span></a><a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">IM</span></a> <a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">i</span></a><a id="H0:58" class="idref" href="#H0:58"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">forall</span></a> <a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">i</span></a><a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">,</span></a> <a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">(</span></a><a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">IM</span></a> <a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">i</span></a><a id="H1:60" class="idref" href="#H1:60"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H2:62" class="idref" href="#H2:62"><span class="id" title="binder">ReachableThreshold</span></a> <a id="H2:62" class="idref" href="#H2:62"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fixed_limited_equivocation_prop" class="idref" href="#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a><br/>
&nbsp;&nbsp;(<a id="s:63" class="idref" href="#s:63"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:64" class="idref" href="#tr:64"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="equivocators:65" class="idref" href="#equivocators:65"><span class="id" title="binder">equivocators</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.index"><span class="id" title="variable">index</span></a>) (<a id="Fixed:66" class="idref" href="#Fixed:66"><span class="id" title="binder">Fixed</span></a> := <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_vlsm_composition"><span class="id" title="definition">fixed_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#equivocators:65"><span class="id" title="variable">equivocators</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">remove_dups</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#equivocators:65"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">`</span><a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Fixed:66"><span class="id" title="variable">Fixed</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:63"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:64"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="sender:67" class="idref" href="#sender:67"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_dependencies:68" class="idref" href="#message_dependencies:68"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">RelDecision</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">_</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">_</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">(</span></a><a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">is_equivocating_tracewise_no_has_been_sent</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">IM</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">(</span></a><a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">fun</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">i</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">=&gt;</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">i</span></a><a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">)</span></a> <a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">sender</span></a><a id="H3:70" class="idref" href="#H3:70"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Limited:71" class="idref" href="#Limited:71"><span class="id" title="binder">Limited</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_vlsm_composition"><span class="id" title="definition">limited_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#sender:67"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
Traces with the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a></span>erty are valid for the
composition using a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="traces_exhibiting_limited_equivocation_are_valid" class="idref" href="#traces_exhibiting_limited_equivocation_are_valid"><span class="id" title="lemma">traces_exhibiting_limited_equivocation_are_valid</span></a><br/>
&nbsp;&nbsp;(<a id="Hsender_safety:73" class="idref" href="#Hsender_safety:73"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:72" class="idref" href="#i:72"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:72"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> <a id="tr:75" class="idref" href="#tr:75"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:75"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.Limited"><span class="id" title="variable">Limited</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:75"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> [<span class="id" title="var">equivocators</span> [<span class="id" title="var">Hlimited</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Fixed_incl_Limited"><span class="id" title="lemma">Fixed_incl_Limited</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Traces having the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#strong_trace_witnessing_equivocation_prop"><span class="id" title="definition">strong_trace_witnessing_equivocation_prop</span></a></span>erty, which
are valid for the free composition and whose final state is <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="projection">not_heavy</span></a></span> have
the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="traces_exhibiting_limited_equivocation_are_valid_rev" class="idref" href="#traces_exhibiting_limited_equivocation_are_valid_rev"><span class="id" title="lemma">traces_exhibiting_limited_equivocation_are_valid_rev</span></a><br/>
&nbsp;&nbsp;(<a id="Hke:76" class="idref" href="#Hke:76"><span class="id" title="binder">Hke</span></a> : <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#WitnessedEquivocationCapability"><span class="id" title="class">WitnessedEquivocationCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">forall</span></a> <a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">i</span></a><a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">,</span></a> <a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">MessageDependencies</span></a> <a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">message_dependencies</span></a> <a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">(</span></a><a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">IM</span></a> <a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">i</span></a><a id="H4:78" class="idref" href="#H4:78"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:80" class="idref" href="#Hfull:80"><span class="id" title="binder">Hfull</span></a> : <span class="id" title="notation">forall</span> <a id="i:79" class="idref" href="#i:79"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> (<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:79"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:81" class="idref" href="#no_initial_messages_in_IM:81"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="can_emit_signed:82" class="idref" href="#can_emit_signed:82"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htracewise_basic_equivocation:84" class="idref" href="#Htracewise_basic_equivocation:84"><span class="id" title="binder">Htracewise_basic_equivocation</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.index"><span class="id" title="variable">index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocation_dec_tracewise"><span class="id" title="instance">equivocation_dec_tracewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:83" class="idref" href="#i:83"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:83"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="tracewise_not_heavy:85" class="idref" href="#tracewise_not_heavy:85"><span class="id" title="binder">tracewise_not_heavy</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#Htracewise_basic_equivocation:84"><span class="id" title="variable">Htracewise_basic_equivocation</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="is:86" class="idref" href="#is:86"><span class="id" title="binder">is</span></a> <a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> <a id="tr:88" class="idref" href="#tr:88"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#strong_trace_witnessing_equivocation_prop"><span class="id" title="definition">strong_trace_witnessing_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#is:86"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:88"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#is:86"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:88"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tracewise_not_heavy:85"><span class="id" title="variable">tracewise_not_heavy</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#is:86"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:88"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hstrong</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hnot_heavy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#strong_witness_has_fixed_equivocation"><span class="id" title="lemma">strong_witness_has_fixed_equivocation</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <span class="id" title="var">s</span>); [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#set_eq_nodup_sum_weight_eq"><span class="id" title="lemma">set_eq_nodup_sum_weight_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators_nodup"><span class="id" title="lemma">equivocating_validators_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_remove_dups</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">ListSetExtras.set_eq_extract_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_remove_dups</span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Traces with the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#strong_trace_witnessing_equivocation_prop"><span class="id" title="definition">strong_trace_witnessing_equivocation_prop</span></a></span>erty, which are
valid for the composition using a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#limited_equivocation_constraint"><span class="id" title="definition">limited_equivocation_constraint</span></a></span>
have the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="limited_traces_exhibiting_limited_equivocation_are_valid_rev" class="idref" href="#limited_traces_exhibiting_limited_equivocation_are_valid_rev"><span class="id" title="lemma">limited_traces_exhibiting_limited_equivocation_are_valid_rev</span></a><br/>
&nbsp;&nbsp;(<a id="Hke:89" class="idref" href="#Hke:89"><span class="id" title="binder">Hke</span></a> : <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#WitnessedEquivocationCapability"><span class="id" title="class">WitnessedEquivocationCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">forall</span></a> <a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">i</span></a><a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">,</span></a> <a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">MessageDependencies</span></a> <a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">message_dependencies</span></a> <a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">(</span></a><a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">IM</span></a> <a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">i</span></a><a id="H4:91" class="idref" href="#H4:91"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:93" class="idref" href="#Hfull:93"><span class="id" title="binder">Hfull</span></a> : <span class="id" title="notation">forall</span> <a id="i:92" class="idref" href="#i:92"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> (<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:92"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:94" class="idref" href="#no_initial_messages_in_IM:94"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="can_emit_signed:95" class="idref" href="#can_emit_signed:95"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:96" class="idref" href="#s:96"><span class="id" title="binder">s</span></a> <a id="tr:97" class="idref" href="#tr:97"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#strong_trace_witnessing_equivocation_prop"><span class="id" title="definition">strong_trace_witnessing_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:97"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.Limited"><span class="id" title="variable">Limited</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:97"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:97"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hstrong</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hnot_heavy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>, <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#full_node_limited_equivocation_valid_state_weight"><span class="id" title="lemma">full_node_limited_equivocation_valid_state_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_heavy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfree_tr</span> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">tr</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfree_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#traces_exhibiting_limited_equivocation_are_valid_rev"><span class="id" title="lemma">traces_exhibiting_limited_equivocation_are_valid_rev</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tr</span>); <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Any state which is valid for limited equivocation can be produced by
a trace having the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="limited_valid_state_has_trace_exhibiting_limited_equivocation" class="idref" href="#limited_valid_state_has_trace_exhibiting_limited_equivocation"><span class="id" title="lemma">limited_valid_state_has_trace_exhibiting_limited_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="Hke:98" class="idref" href="#Hke:98"><span class="id" title="binder">Hke</span></a> : <a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#WitnessedEquivocationCapability"><span class="id" title="class">WitnessedEquivocationCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">forall</span></a> <a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">i</span></a><a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">,</span></a> <a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">MessageDependencies</span></a> <a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">message_dependencies</span></a> <a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">(</span></a><a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">IM</span></a> <a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">i</span></a><a id="H4:100" class="idref" href="#H4:100"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:102" class="idref" href="#Hfull:102"><span class="id" title="binder">Hfull</span></a> : <span class="id" title="notation">forall</span> <a id="i:101" class="idref" href="#i:101"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> (<a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#i:101"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:103" class="idref" href="#no_initial_messages_in_IM:103"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="can_emit_signed:104" class="idref" href="#can_emit_signed:104"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:105" class="idref" href="#s:105"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.Limited"><span class="id" title="variable">Limited</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:105"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:106" class="idref" href="#is:106"><span class="id" title="binder">is</span></a> <a id="tr:107" class="idref" href="#tr:107"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#is:106"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:107"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#s:105"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#fixed_limited_equivocation_prop"><span class="id" title="definition">fixed_limited_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#is:106"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#tr:107"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfree_s</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.WitnessedEquivocation.html#free_has_strong_trace_witnessing_equivocation_prop"><span class="id" title="lemma">free_has_strong_trace_witnessing_equivocation_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">Hfree_s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Heqv</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#full_node_limited_equivocation_valid_state_weight"><span class="id" title="lemma">full_node_limited_equivocation_valid_state_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#traces_exhibiting_limited_equivocation_are_valid_rev"><span class="id" title="lemma">traces_exhibiting_limited_equivocation_are_valid_rev</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.LimitedEquivocation.html#has_limited_equivocation"><span class="id" title="section">has_limited_equivocation</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
