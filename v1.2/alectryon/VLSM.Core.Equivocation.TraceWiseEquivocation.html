<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>TraceWiseEquivocation.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.15.0+0.15.2. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Cdcl <span class="kn">Require Import</span> Itauto.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Tactic Notation</span> <span class="s2">&quot;itauto&quot;</span> := itauto <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FinFun Rdefinitions.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras StdppListSet.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM Composition ProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble StdppExtras.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM Trace-wise Equivocation</h1>
<div class="paragraph"> </div>

  In this section we define a more precise notion of message equivocation,
  based on analyzing (all) traces leading to a state. Although in some cases
  we might be able to actually compute this, its purpose is more to identify
  the ideal notion of detectable equivocation which would be used to
  establish the connection between limited (observed) message equivocation
  and limited state equivocation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">tracewise_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{EqDecision message}
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)}
  `{EqDecision validator}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  (PreFree := pre_loaded_with_all_messages_vlsm (free_composite_vlsm IM))
  .</span></span></pre><div class="doc">
  An item is equivocating in a trace containing it if it receives
  a message which has not been previously sent in that trace.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">item_equivocating_in_trace</span>
  (<span class="nv">item</span> : composite_transition_item IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  : <span class="kt">Prop</span>
  := from_option (<span class="kr">fun</span> <span class="nv">m</span> =&gt; ~trace_has_message (field_selector output) m tr) <span class="kt">False</span> (input item).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk0">#[local] <span class="kn">Instance</span> <span class="nf">item_equivocating_in_trace_dec</span> : RelDecision item_equivocating_in_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision item_equivocating_in_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision item_equivocating_in_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2"><span class="nb">intros</span> item tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (item_equivocating_in_trace item tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (item_equivocating_in_trace
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |} tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4"><span class="nb">destruct</span> input <span class="kr">as</span> [m|]
  ; [|<span class="nb">right</span>; itauto].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (item_equivocating_in_trace
     {|
       l := l;
       input := Some m;
       destination := destination;
       output := output
     |} tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5"><span class="nb">unfold</span> item_equivocating_in_trace, trace_has_message, field_selector; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (¬¨ Exists
       (<span class="kr">Œª</span> <span class="nv">item</span> : transition_item,
          VLSM.output item = Some m) tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Given a trace, we can precisely identify the validators equivocating
  in that trace based on identifying every <span class="inlinecode"><span class="id" title="var">item_equivocating_in_trace</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocating_senders_in_trace</span>
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  : <span class="nb">set</span> validator
  :=
  <span class="kr">let</span> <span class="nv">decompositions</span> := one_element_decompositions tr <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">test</span> := (<span class="kr">fun</span> <span class="nv">d</span> =&gt; <span class="kr">match</span> d <span class="kr">with</span> (pre, item, _) =&gt;
      item_equivocating_in_trace item pre
    <span class="kr">end</span>) <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">equivocating_items</span> :=
    map (<span class="kr">fun</span> <span class="nv">d</span> =&gt; <span class="kr">match</span> d <span class="kr">with</span> (_, item, _) =&gt; item <span class="kr">end</span>)
      (filter test decompositions) <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">equivocating_messages</span> := map_option input equivocating_items <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">equivocating_senders</span> := map_option sender equivocating_messages <span class="kr">in</span>
  remove_dups equivocating_senders.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6"><span class="kn">Lemma</span> <span class="nf">no_input_no_equivocating_senders_in_trace</span> <span class="nv">tr</span>
  (<span class="nv">Hinput_none</span> : <span class="kr">forall</span> <span class="nv">item</span>, item ‚àà tr -&gt; input item = None)
  : equivocating_senders_in_trace tr = [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_senders_in_trace tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_senders_in_trace tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8"><span class="nb">apply</span> elem_of_nil_inv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : validator, x ‚àâ equivocating_senders_in_trace tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9"><span class="nb">intros</span> v Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_senders_in_trace tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka"><span class="nb">unfold</span> equivocating_senders_in_trace <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v
‚àà remove_dups
    (map_option sender
       (map_option input
          (map
             (<span class="kr">Œª</span> <span class="nv">d</span> : list
                      (composite_transition_item
                      IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item
                      IM),
                <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
             (filter
                (<span class="kr">Œª</span> <span class="nv">d</span> : 
                    list
                      (composite_transition_item
                      IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item
                      IM),
                   <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                   <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
                   item_equivocating_in_trace
                     item pre)
                (one_element_decompositions tr)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb"><span class="nb">rewrite</span> elem_of_remove_dups <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v
‚àà map_option sender
    (map_option input
       (map
          (<span class="kr">Œª</span> <span class="nv">d</span> : list
                   (composite_transition_item IM) *
                 composite_transition_item IM *
                 list
                   (composite_transition_item IM),
             <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
             <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
          (filter
             (<span class="kr">Œª</span> <span class="nv">d</span> : list
                      (composite_transition_item
                      IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item
                      IM),
                <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
                item_equivocating_in_trace item
                  pre)
             (one_element_decompositions tr))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkc"><span class="nb">apply</span> elem_of_map_option <span class="kr">in</span> Hv <span class="kr">as</span> [msg [Hmsg Hv]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>msg
‚àà map_option input
    (map
       (<span class="kr">Œª</span> <span class="nv">d</span> : list
                (composite_transition_item IM) *
              composite_transition_item IM *
              list
                (composite_transition_item IM),
          <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
          <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
       (filter
          (<span class="kr">Œª</span> <span class="nv">d</span> : list
                   (composite_transition_item
                      IM) *
                 composite_transition_item IM *
                 list
                   (composite_transition_item
                      IM),
             <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
             <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
             item_equivocating_in_trace item
               pre)
          (one_element_decompositions tr)))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkd"><span class="nb">apply</span> elem_of_map_option <span class="kr">in</span> Hmsg <span class="kr">as</span> [item [Hitem Hmsg]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item
‚àà map
    (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
           composite_transition_item IM *
           list (composite_transition_item IM),
       <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
       <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
    (filter
       (<span class="kr">Œª</span> <span class="nv">d</span> : list
                (composite_transition_item IM) *
              composite_transition_item IM *
              list
                (composite_transition_item IM),
          <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
          <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
          item_equivocating_in_trace item pre)
       (one_element_decompositions tr))</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chke"><span class="nb">apply</span> elem_of_list_fmap <span class="kr">in</span> Hitem <span class="kr">as</span> [((pre, _item), _suf) [Heq_item Hitem]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>_suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_item</var><span class="hyp-type"><b>: </b><span>item = _item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>(pre, _item, _suf)
‚àà filter
    (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
           composite_transition_item IM *
           list (composite_transition_item IM),
       <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
       <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
       item_equivocating_in_trace item pre)
    (one_element_decompositions tr)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkf"><span class="nb">apply</span> elem_of_list_filter, proj2, elem_of_one_element_decompositions <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item</span> : transition_item,
  item ‚àà tr ‚Üí input item = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>_suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_item</var><span class="hyp-type"><b>: </b><span>item = _item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>pre ++ [_item] ++ _suf = tr</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk10"><span class="nb">subst</span> tr _item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">item0</span> : transition_item,
  item0 ‚àà pre ++ [item] ++ _suf
  ‚Üí input item0 = None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk11">spec Hinput_none item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk12">spec Hinput_none.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà pre ++ [item] ++ _suf</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>input item = None</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk13"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk14">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà pre ++ [item] ++ _suf</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk15"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà pre ‚à® item ‚àà [item] ++ _suf</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk16"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà [item] ++ _suf</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk17"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà [item] ‚à® item ‚àà _suf</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk18"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>item ‚àà pre ++ [item] ++ _suf
‚Üí input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà [item]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk19">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, _suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>input item = Some msg</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender msg = Some v</span></span></span><br><span><var>Hinput_none</var><span class="hyp-type"><b>: </b><span>input item = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1a"><span class="kn">Lemma</span> <span class="nf">elem_of_equivocating_senders_in_trace</span>
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  (<span class="nv">v</span> : validator)
  : v ‚àà equivocating_senders_in_trace tr &lt;-&gt;
    <span class="kr">exists</span> (<span class="nv">m</span> : message),
    (sender m = Some v) /\
    equivocation_in_trace PreFree m tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_senders_in_trace tr
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_senders_in_trace tr
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1c"><span class="nb">unfold</span> equivocating_senders_in_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà remove_dups
    (map_option sender
       (map_option input
          (map
             (<span class="kr">Œª</span> <span class="nv">d</span> : list
                      (composite_transition_item IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item IM),
                <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
             (filter
                (<span class="kr">Œª</span> <span class="nv">d</span> : list
                         (composite_transition_item IM) *
                       composite_transition_item IM *
                       list
                         (composite_transition_item IM),
                   <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                   <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
                   item_equivocating_in_trace item pre)
                (one_element_decompositions tr)))))
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1d"><span class="nb">rewrite</span> elem_of_remove_dups, elem_of_map_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
   a
   ‚àà map_option input
       (map
          (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
                 composite_transition_item IM *
                 list (composite_transition_item IM),
             <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
             <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
          (filter
             (<span class="kr">Œª</span> <span class="nv">d</span> : list
                      (composite_transition_item IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item IM),
                <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
                item_equivocating_in_trace item pre)
             (one_element_decompositions tr)))
   ‚àß sender a = Some v)
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1e"><span class="nb">setoid_rewrite</span> elem_of_map_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
   (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
      a0
      ‚àà map
          (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
                 composite_transition_item IM *
                 list (composite_transition_item IM),
             <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
             <span class="kr">let</span> (<span class="nv">_</span>, item) := y <span class="kr">in</span> item)
          (filter
             (<span class="kr">Œª</span> <span class="nv">d</span> : list
                      (composite_transition_item IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item IM),
                <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
                <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
                item_equivocating_in_trace item pre)
             (one_element_decompositions tr))
      ‚àß input a0 = Some a) ‚àß sender a = Some v)
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk1f"><span class="nb">setoid_rewrite</span> elem_of_list_fmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
   (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
      (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
             composite_transition_item IM *
             list (composite_transition_item IM),
         a0 =
         (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
          <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
         ‚àß y
           ‚àà filter
               (<span class="kr">Œª</span> <span class="nv">d</span> : list
                        (composite_transition_item IM) *
                      composite_transition_item IM *
                      list
                        (composite_transition_item IM),
                  <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                  <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                  item_equivocating_in_trace item pre)
               (one_element_decompositions tr))
      ‚àß input a0 = Some a) ‚àß sender a = Some v)
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk20"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
   (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
      (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
             composite_transition_item IM *
             list (composite_transition_item IM),
         a0 =
         (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
          <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
         ‚àß y
           ‚àà filter
               (<span class="kr">Œª</span> <span class="nv">d</span> : list
                        (composite_transition_item IM) *
                      composite_transition_item IM *
                      list
                        (composite_transition_item IM),
                  <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                  <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                  item_equivocating_in_trace item pre)
               (one_element_decompositions tr))
      ‚àß input a0 = Some a) ‚àß sender a = Some v)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk21"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
   sender m = Some v
   ‚àß equivocation_in_trace PreFree m tr)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
    (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
       (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
              composite_transition_item IM *
              list (composite_transition_item IM),
          a0 =
          (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
           <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
          ‚àß y
            ‚àà filter
                (<span class="kr">Œª</span> <span class="nv">d</span> : 
                    list
                      (composite_transition_item IM) *
                    composite_transition_item IM *
                    list
                      (composite_transition_item IM),
                   <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                   <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                   item_equivocating_in_trace item pre)
                (one_element_decompositions tr))
       ‚àß input a0 = Some a) ‚àß 
    sender a = Some v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk22">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
   (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
      (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
             composite_transition_item IM *
             list (composite_transition_item IM),
         a0 =
         (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
          <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
         ‚àß y
           ‚àà filter
               (<span class="kr">Œª</span> <span class="nv">d</span> : list
                        (composite_transition_item IM) *
                      composite_transition_item IM *
                      list
                        (composite_transition_item IM),
                  <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                  <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                  item_equivocating_in_trace item pre)
               (one_element_decompositions tr))
      ‚àß input a0 = Some a) ‚àß sender a = Some v)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk23"><span class="nb">intros</span> [im [[item [[((prefix, _item), suffix) [Heq_item Hfilter]] Hinput]] Hsender]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_item</var><span class="hyp-type"><b>: </b><span>item = _item</span></span></span><br><span><var>Hfilter</var><span class="hyp-type"><b>: </b><span>(prefix, _item, suffix)
‚àà filter
    (<span class="kr">Œª</span> <span class="nv">d</span> : list
             (composite_transition_item IM) *
           composite_transition_item IM *
           list
             (composite_transition_item IM),
       <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
       <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
       item_equivocating_in_trace item pre)
    (one_element_decompositions tr)</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk24"><span class="nb">apply</span> elem_of_list_filter <span class="kr">in</span> Hfilter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_item</var><span class="hyp-type"><b>: </b><span>item = _item</span></span></span><br><span><var>Hfilter</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace _item prefix
‚àß (prefix, _item, suffix)
  ‚àà one_element_decompositions tr</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk25"><span class="nb">destruct</span> Hfilter <span class="kr">as</span> [Heqv Hdec].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_item</var><span class="hyp-type"><b>: </b><span>item = _item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace _item prefix</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>(prefix, _item, suffix)
‚àà one_element_decompositions tr</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk26"><span class="nb">subst</span> _item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>(prefix, item, suffix)
‚àà one_element_decompositions tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk27"><span class="kr">exists</span> <span class="nv">im</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>(prefix, item, suffix)
‚àà one_element_decompositions tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender im = Some v
‚àß equivocation_in_trace PreFree im tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk28"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>(prefix, item, suffix)
‚àà one_element_decompositions tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_in_trace PreFree im tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk29"><span class="kr">exists</span> <span class="nv">prefix</span>, item, suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>(prefix, item, suffix)
‚àà one_element_decompositions tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix
‚àß input item = Some im
  ‚àß ¬¨ trace_has_message (field_selector output) im
        prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2a"><span class="nb">apply</span> elem_of_one_element_decompositions <span class="kr">in</span> Hdec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>prefix ++ [item] ++ suffix = tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix
‚àß input item = Some im
  ‚àß ¬¨ trace_has_message (field_selector output) im
        prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2b"><span class="nb">simpl</span> <span class="kr">in</span> Hdec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>prefix ++ item :: suffix = tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix
‚àß input item = Some im
  ‚àß ¬¨ trace_has_message (field_selector output) im
        prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2c"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">subst</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>prefix ++ item :: suffix = tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input item = Some im
‚àß ¬¨ trace_has_message (field_selector output) im
      prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2d"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>prefix ++ item :: suffix = tr</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>item_equivocating_in_trace item prefix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ trace_has_message (field_selector output) im prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> item_equivocating_in_trace <span class="kr">in</span> Heqv; <span class="nb">rewrite</span> Hinput <span class="kr">in</span> Heqv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
   sender m = Some v
   ‚àß equivocation_in_trace PreFree m tr)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
    (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
       (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
              composite_transition_item IM *
              list (composite_transition_item IM),
          a0 =
          (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
           <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
          ‚àß y
            ‚àà filter
                (<span class="kr">Œª</span> <span class="nv">d</span> : list
                         (composite_transition_item IM) *
                       composite_transition_item IM *
                       list
                         (composite_transition_item IM),
                   <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                   <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                   item_equivocating_in_trace item pre)
                (one_element_decompositions tr))
       ‚àß input a0 = Some a) ‚àß sender a = Some v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk2f"><span class="nb">intros</span> [im [Hsender [prefix [item [suffix [Heq_tr [Hinput Heqv]]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : message,
  (<span class="kr">‚àÉ</span> <span class="nv">a0</span> : transition_item,
     (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
            composite_transition_item IM *
            list (composite_transition_item IM),
        a0 =
        (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span>
         <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
        ‚àß y
          ‚àà filter
              (<span class="kr">Œª</span> <span class="nv">d</span> : list
                       (composite_transition_item IM) *
                     composite_transition_item IM *
                     list
                       (composite_transition_item IM),
                 <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
                 <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
                 item_equivocating_in_trace item pre)
              (one_element_decompositions tr))
     ‚àß input a0 = Some a) ‚àß sender a = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk30"><span class="kr">exists</span> <span class="nv">im</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">a</span> : transition_item,
   (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
          composite_transition_item IM *
          list (composite_transition_item IM),
      a =
      (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span> <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
      ‚àß y
        ‚àà filter
            (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
                   composite_transition_item IM *
                   list (composite_transition_item IM),
               <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
               <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
               item_equivocating_in_trace item pre)
            (one_element_decompositions tr))
   ‚àß input a = Some im) ‚àß sender im = Some v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk31"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : transition_item,
  (<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
         composite_transition_item IM *
         list (composite_transition_item IM),
     a =
     (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span> <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
     ‚àß y
       ‚àà filter
           (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
                  composite_transition_item IM *
                  list (composite_transition_item IM),
              <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
              <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
              item_equivocating_in_trace item pre)
           (one_element_decompositions tr))
  ‚àß input a = Some im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk32"><span class="kr">exists</span> <span class="nv">item</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
       composite_transition_item IM *
       list (composite_transition_item IM),
   item =
   (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span> <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
   ‚àß y
     ‚àà filter
         (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
                composite_transition_item IM *
                list (composite_transition_item IM),
            <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
            <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
            item_equivocating_in_trace item pre)
         (one_element_decompositions tr))
‚àß input item = Some im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk33"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">y</span> : list (composite_transition_item IM) *
      composite_transition_item IM *
      list (composite_transition_item IM),
  item =
  (<span class="kr">let</span> (<span class="nv">y0</span>, _) := y <span class="kr">in</span> <span class="kr">let</span> (<span class="nv">_</span>, item) := y0 <span class="kr">in</span> item)
  ‚àß y
    ‚àà filter
        (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
               composite_transition_item IM *
               list (composite_transition_item IM),
           <span class="kr">let</span> (<span class="nv">y0</span>, _) := d <span class="kr">in</span>
           <span class="kr">let</span> (<span class="nv">pre</span>, item) := y0 <span class="kr">in</span>
           item_equivocating_in_trace item pre)
        (one_element_decompositions tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk34"><span class="kr">exists</span> ((prefix, item), suffix).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item = item
‚àß (prefix, item, suffix)
  ‚àà filter
      (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
             composite_transition_item IM *
             list (composite_transition_item IM),
         <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
         <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
         item_equivocating_in_trace item pre)
      (one_element_decompositions tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk35"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(prefix, item, suffix)
‚àà filter
    (<span class="kr">Œª</span> <span class="nv">d</span> : list (composite_transition_item IM) *
           composite_transition_item IM *
           list (composite_transition_item IM),
       <span class="kr">let</span> (<span class="nv">y</span>, _) := d <span class="kr">in</span>
       <span class="kr">let</span> (<span class="nv">pre</span>, item) := y <span class="kr">in</span>
       item_equivocating_in_trace item pre)
    (one_element_decompositions tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk36"><span class="nb">apply</span> elem_of_list_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item_equivocating_in_trace item prefix
‚àß (prefix, item, suffix)
  ‚àà one_element_decompositions tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk37"><span class="nb">unfold</span> item_equivocating_in_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_option
  (<span class="kr">Œª</span> <span class="nv">m</span> : message,
     ¬¨ trace_has_message (field_selector output) m
         prefix) <span class="kt">False</span> (input item)
‚àß (prefix, item, suffix)
  ‚àà one_element_decompositions tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk38"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_option
  (<span class="kr">Œª</span> <span class="nv">m</span> : message,
     ¬¨ trace_has_message (field_selector output) m
         prefix) <span class="kt">False</span> (input item)
‚àß (prefix, item, suffix)
  ‚àà one_element_decompositions tr</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk39"><span class="nb">rewrite</span> Hinput.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_option
  (<span class="kr">Œª</span> <span class="nv">m</span> : message,
     ¬¨ trace_has_message (field_selector output) m
         prefix) <span class="kt">False</span> (Some im)
‚àß (prefix, item, suffix)
  ‚àà one_element_decompositions tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3a"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some im</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message (field_selector output) im
    prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(prefix, item, suffix) ‚àà one_element_decompositions tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_one_element_decompositions.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3b"><span class="kn">Lemma</span> <span class="nf">equivocating_senders_in_trace_prefix</span> <span class="nv">prefix</span> <span class="nv">suffix</span>
  : equivocating_senders_in_trace prefix ‚äÜ equivocating_senders_in_trace (prefix ++ suffix).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_senders_in_trace prefix
‚äÜ equivocating_senders_in_trace (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_senders_in_trace prefix
‚äÜ equivocating_senders_in_trace (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3d"><span class="nb">intros</span> v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_senders_in_trace prefix
‚Üí v ‚àà equivocating_senders_in_trace (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3e"><span class="nb">rewrite</span> !elem_of_equivocating_senders_in_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
   sender m = Some v
   ‚àß equivocation_in_trace PreFree m prefix)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m
        (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk3f"><span class="nb">intros</span> [m [Hm Heqv]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>equivocation_in_trace PreFree m prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk40"><span class="kr">exists</span> <span class="nv">m</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>equivocation_in_trace PreFree m prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v
‚àß equivocation_in_trace PreFree m (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk41"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>equivocation_in_trace PreFree m prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_in_trace PreFree m (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk42"><span class="nb">revert</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_in_trace PreFree m prefix
‚Üí equivocation_in_trace PreFree m (prefix ++ suffix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equivocation_in_trace_prefix.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  An alternative definition for detecting equivocation in a certain state,
  which checks that for <i>every</i> valid trace (using any messages) reaching
  that state there exists an equivocation involving the given validator.

<div class="paragraph"> </div>

  Notably, this definition is not generally equivalent to <span class="inlinecode"><span class="id" title="var">is_equivocating_statewise</span></span>,
  which does not verify the order in which receiving and sending occurred.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">is_equivocating_tracewise</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">v</span> : validator)
  (<span class="nv">j</span> := A v)
  : <span class="kt">Prop</span>
  :=
  <span class="kr">forall</span> <span class="nv">is</span> <span class="nv">tr</span>
  (<span class="nv">Hpr</span> : finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr),
  <span class="kr">exists</span> (<span class="nv">m</span> : message),
  (sender m = Some v) /\
  <span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">elem</span> <span class="nv">suffix</span> (<span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix),
  tr = prefix ++ elem :: suffix
  /\ input elem = Some m
  /\ ~has_been_sent (IM j) (lprefix j) m.</span></span></pre><div class="doc">
  A possibly friendlier version using a previously defined primitive.
  Note that this definition does not require the <span class="inlinecode"><span class="id" title="var">HasBeenSentCapability</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">is_equivocating_tracewise_no_has_been_sent</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">v</span> : validator)
  (<span class="nv">j</span> := A v)
  : <span class="kt">Prop</span>
  :=
  <span class="kr">forall</span> <span class="nv">is</span> <span class="nv">tr</span>
  (<span class="nv">Htr</span> : finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr),
  <span class="kr">exists</span> (<span class="nv">m</span> : message),
  (sender m = Some v) /\
  equivocation_in_trace PreFree m tr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk43"><span class="kn">Lemma</span> <span class="nf">is_equivocating_tracewise_no_has_been_sent_equivocating_senders_in_trace</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">v</span> : validator)
  : is_equivocating_tracewise_no_has_been_sent s v &lt;-&gt;
    <span class="kr">forall</span> <span class="nv">is</span> <span class="nv">tr</span>
    (<span class="nv">Htr</span> : finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr),
    v ‚àà equivocating_senders_in_trace tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚Üî (<span class="kr">‚àÄ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
     finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
     ‚Üí v ‚àà equivocating_senders_in_trace tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk44"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚Üî (<span class="kr">‚àÄ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
     finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
     ‚Üí v ‚àà equivocating_senders_in_trace tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; <span class="nb">intros</span> Heqv <span class="kr">is</span> tr Htr; <span class="nb">specialize</span> (Heqv _ _ Htr)
  ; <span class="nb">apply</span> elem_of_equivocating_senders_in_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If any message can only be emitted by node corresponding to its sender
  (<span class="inlinecode"><span class="id" title="var">sender_safety_alt_prop</span></span>), then <span class="inlinecode"><span class="id" title="var">is_equivocating_tracewise</span></span> is equivalent
  to <span class="inlinecode"><span class="id" title="var">is_equivocating_tracewise_no_has_been_sent</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk45"><span class="kn">Lemma</span> <span class="nf">is_equivocating_tracewise_no_has_been_sent_iff</span>
  (<span class="nv">Hsender_safety</span> : sender_safety_alt_prop IM A sender)
  <span class="nv">s</span> <span class="nv">v</span>
  : is_equivocating_tracewise_no_has_been_sent s v &lt;-&gt; is_equivocating_tracewise s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚Üî is_equivocating_tracewise s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚Üî is_equivocating_tracewise s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk47"><span class="nb">unfold</span> is_equivocating_tracewise, equivocation_in_trace,
    is_equivocating_tracewise_no_has_been_sent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
   finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
   ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
       sender m = Some v
       ‚àß equivocation_in_trace PreFree m tr)
‚Üî (<span class="kr">‚àÄ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
     finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
     ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
         sender m = Some v
         ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
              (<span class="nv">suffix</span> : list transition_item),
              tr = prefix ++ elem :: suffix
              ‚àß input elem = Some m
                ‚àß ¬¨ has_been_sent (IM (A v))
                      (finite_trace_last <span class="kr">is</span> prefix
                         (A v)) m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk48"><span class="nb">apply</span> forall_proper; <span class="nb">intros</span> <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
   finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
   ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
       sender m = Some v
       ‚àß equivocation_in_trace PreFree m tr)
‚Üî (<span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
     finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr
     ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
         sender m = Some v
         ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
              (<span class="nv">suffix</span> : list transition_item),
              tr = prefix ++ elem :: suffix
              ‚àß input elem = Some m
                ‚àß ¬¨ has_been_sent (IM (A v))
                      (finite_trace_last <span class="kr">is</span> prefix
                         (A v)) m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk49"><span class="nb">apply</span> forall_proper; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(finite_valid_trace_init_to PreFree <span class="kr">is</span> s x
 ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß equivocation_in_trace PreFree m x)
‚Üî (finite_valid_trace_init_to PreFree <span class="kr">is</span> s x
   ‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
       sender m = Some v
       ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
            (<span class="nv">suffix</span> : list transition_item),
            x = prefix ++ elem :: suffix
            ‚àß input elem = Some m
              ‚àß ¬¨ has_been_sent (IM (A v))
                    (finite_trace_last <span class="kr">is</span> prefix (A v))
                    m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4a"><span class="nb">apply</span> forall_proper; <span class="nb">intros</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
   sender m = Some v
   ‚àß equivocation_in_trace PreFree m x)
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
     sender m = Some v
     ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
          (<span class="nv">suffix</span> : list transition_item),
          x = prefix ++ elem :: suffix
          ‚àß input elem = Some m
            ‚àß ¬¨ has_been_sent (IM (A v))
                  (finite_trace_last <span class="kr">is</span> prefix (A v))
                  m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4b"><span class="nb">apply</span> exist_proper; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender x0 = Some v
‚àß equivocation_in_trace PreFree x0 x
‚Üî sender x0 = Some v
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
       (<span class="nv">suffix</span> : list transition_item),
       x = prefix ++ elem :: suffix
       ‚àß input elem = Some x0
         ‚àß ¬¨ has_been_sent (IM (A v))
               (finite_trace_last <span class="kr">is</span> prefix (A v)) x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4c"><span class="nb">apply</span> and_proper_l; <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_in_trace PreFree x0 x
‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
     (<span class="nv">suffix</span> : list transition_item),
     x = prefix ++ elem :: suffix
     ‚àß input elem = Some x0
       ‚àß ¬¨ has_been_sent (IM (A v))
             (finite_trace_last <span class="kr">is</span> prefix (A v)) x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4d"><span class="nb">apply</span> exist_proper; <span class="nb">intro</span> prefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) (<span class="nv">suffix</span> : list
                                        transition_item),
   x = prefix ++ item :: suffix
   ‚àß input item = Some x0
     ‚àß ¬¨ trace_has_message (field_selector output) x0
           prefix)
‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">elem</span> : transition_item) (<span class="nv">suffix</span> : list
                                          transition_item),
     x = prefix ++ elem :: suffix
     ‚àß input elem = Some x0
       ‚àß ¬¨ has_been_sent (IM (A v))
             (finite_trace_last <span class="kr">is</span> prefix (A v)) x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4e"><span class="nb">apply</span> exist_proper; <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">suffix</span> : list transition_item,
   x = prefix ++ x1 :: suffix
   ‚àß input x1 = Some x0
     ‚àß ¬¨ trace_has_message (field_selector output) x0
           prefix)
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">suffix</span> : list transition_item,
     x = prefix ++ x1 :: suffix
     ‚àß input x1 = Some x0
       ‚àß ¬¨ has_been_sent (IM (A v))
             (finite_trace_last <span class="kr">is</span> prefix (A v)) x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk4f"><span class="nb">apply</span> exist_proper; <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s x</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = prefix ++ x1 :: x2
‚àß input x1 = Some x0
  ‚àß ¬¨ trace_has_message (field_selector output) x0
        prefix
‚Üî x = prefix ++ x1 :: x2
  ‚àß input x1 = Some x0
    ‚àß ¬¨ has_been_sent (IM (A v))
          (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk50"><span class="nb">apply</span> and_proper_l; <span class="nb">intros</span> -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input x1 = Some x0
‚àß ¬¨ trace_has_message (field_selector output) x0
      prefix
‚Üî input x1 = Some x0
  ‚àß ¬¨ has_been_sent (IM (A v))
        (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk51"><span class="nb">apply</span> and_iff_compat_l, not_iff_compat; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) x0 prefix
‚Üî has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk52"><span class="nb">cut</span> (finite_valid_trace_init_to PreFree <span class="kr">is</span> (finite_trace_last <span class="kr">is</span> prefix) prefix).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix
‚Üí trace_has_message (field_selector output) x0 prefix
  ‚Üî has_been_sent (IM (A v))
      (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk53"><hr></label><div class="goal-conclusion">finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk54">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix
‚Üí trace_has_message (field_selector output) x0 prefix
  ‚Üî has_been_sent (IM (A v))
      (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk55"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) x0 prefix
‚Üî has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk56"><span class="nb">erewrite</span> &lt;- oracle_initial_trace_update
      <span class="kr">with</span> (vlsm := free_composite_vlsm IM); <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">oracle_stepwise_props (field_selector output) <span class="nl">?Goal1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk57"><hr></label><div class="goal-conclusion">finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  <span class="nl">?Goal3</span> <span class="nl">?Goal4</span> prefix</div></blockquote><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk58"><hr></label><div class="goal-conclusion"><span class="nl">?Goal1</span> <span class="nl">?Goal4</span> x0
‚Üî has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">oracle_stepwise_props (field_selector output) <span class="nl">?Goal1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_has_been_sent_stepwise_props.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) <span class="nl">?Goal1</span> <span class="nl">?Goal2</span> prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM
  (finite_trace_last <span class="kr">is</span> prefix) x0
‚Üî has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) x0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> has_been_sent_iff_by_sender.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5d"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s
  (prefix ++ x1 :: x2)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>sender x0 = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to PreFree <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> prefix) prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span>  finite_valid_trace_from_to_app_split.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5e"><span class="kn">Lemma</span> <span class="nf">transition_is_equivocating_tracewise_char</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span> : input_valid_transition PreFree l (s, om) (s&#39;, om&#39;))
  (<span class="nv">v</span> : validator)
  : is_equivocating_tracewise_no_has_been_sent s&#39; v -&gt;
    is_equivocating_tracewise_no_has_been_sent s v \/
    option_bind _ _ sender om = Some v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s&#39; v
‚Üí is_equivocating_tracewise_no_has_been_sent s v
  ‚à® option_bind message validator sender om = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s&#39; v
‚Üí is_equivocating_tracewise_no_has_been_sent s v
  ‚à® option_bind message validator sender om = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk60"><span class="nb">destruct</span> (decide (option_bind _ _ sender om = Some v))
  ; [<span class="bp">by</span> <span class="nb">intro</span>; <span class="nb">right</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s&#39; v
‚Üí is_equivocating_tracewise_no_has_been_sent s v
  ‚à® option_bind message validator sender om = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk61"><span class="nb">intros</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚à® option_bind message validator sender om = Some v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk62"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk63"><span class="nb">intros</span> <span class="kr">is</span> tr [Htr Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk64"><span class="nb">specialize</span> (extend_right_finite_trace_from_to _ Htr Ht) <span class="kr">as</span> Htr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk65"><span class="nb">specialize</span> (Heqv _ _ (conj Htr&#39; Hinit)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m
      (tr ++
       [{|
          l := l;
          input := om;
          destination := s&#39;;
          output := om&#39;
        |}])</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk66"><span class="nb">destruct</span> Heqv <span class="kr">as</span> [m [Hv [prefix [item [suffix [Heq Heqv]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk67"><span class="kr">exists</span> <span class="nv">m</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v ‚àß equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk68"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_in_trace PreFree m tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk69"><span class="kr">exists</span> <span class="nv">prefix</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) (<span class="nv">suffix</span> : list
                                       transition_item),
  tr = prefix ++ item :: suffix
  ‚àß input item = Some m
    ‚àß ¬¨ trace_has_message (field_selector output) m
          prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6a">destruct_list_last suffix suffix&#39; item&#39; Heqsuffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ [item]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) (<span class="nv">suffix</span> : list
                                       transition_item),
  tr = prefix ++ item :: suffix
  ‚àß input item = Some m
    ‚àß ¬¨ trace_has_message (field_selector output) m
          prefix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk6b"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  tr = prefix ++ item :: suffix
  ‚àß input item = Some m
    ‚àß ¬¨ trace_has_message 
          (field_selector output) m prefix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ [item]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) (<span class="nv">suffix</span> : list
                                       transition_item),
  tr = prefix ++ item :: suffix
  ‚àß input item = Some m
    ‚àß ¬¨ trace_has_message (field_selector output) m
          prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6d"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ [item]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6e"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ [item]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk6f"><span class="nb">apply</span> app_inj_tail,proj2 <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := om;
  destination := s&#39;;
  output := om&#39;
|} = item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk70"><span class="nb">subst</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input
  {|
    l := l;
    input := om;
    destination := s&#39;;
    output := om&#39;
  |} = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk71"><span class="nb">apply</span> proj1 <span class="kr">in</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input
  {|
    l := l;
    input := om;
    destination := s&#39;;
    output := om&#39;
  |} = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk72"><span class="nb">simpl</span> <span class="kr">in</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>om = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk73"><span class="nb">subst</span> om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, Some m) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender (Some m)
‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk74"><span class="nb">simpl</span> <span class="kr">in</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, Some m) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>sender m ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk75">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">item</span> : transition_item) (<span class="nv">suffix</span> : list
                                       transition_item),
  tr = prefix ++ item :: suffix
  ‚àß input item = Some m
    ‚àß ¬¨ trace_has_message (field_selector output) m
          prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk76"><span class="kr">exists</span> <span class="nv">item</span>, suffix&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix&#39;
‚àß input item = Some m
  ‚àß ¬¨ trace_has_message (field_selector output) m
        prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk77"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk78"><span class="nb">replace</span> (prefix ++ item :: suffix&#39; ++ [item&#39;]) <span class="kr">with</span> ((prefix ++ item :: suffix&#39;) ++ [item&#39;]) <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = (prefix ++ item :: suffix&#39;) ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chk79"><hr></label><div class="goal-conclusion">(prefix ++ item :: suffix&#39;) ++ [item&#39;] =
prefix ++ item :: suffix&#39; ++ [item&#39;]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = (prefix ++ item :: suffix&#39;) ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7b"><span class="nb">apply</span> app_inj_tail <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix&#39;
‚àß {|
    l := l;
    input := om;
    destination := s&#39;;
    output := om&#39;
  |} = item&#39;</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = prefix ++ item :: suffix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om ‚â† Some v</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suffix, suffix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := om;
   destination := s&#39;;
   output := om&#39;
 |}] = prefix ++ item :: suffix&#39; ++ [item&#39;]</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>input item = Some m
‚àß ¬¨ trace_has_message (field_selector output) m
      prefix</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreFree <span class="kr">is</span> s&#39;
  (tr ++
   [{|
      l := l;
      input := om;
      destination := s&#39;;
      output := om&#39;
    |}])</span></span></span><br><span><var>Heqsuffix</var><span class="hyp-type"><b>: </b><span>suffix = suffix&#39; ++ [item&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(prefix ++ item :: suffix&#39;) ++ [item&#39;] =
prefix ++ item :: suffix&#39; ++ [item&#39;]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- app_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7d"><span class="kn">Lemma</span> <span class="nf">transition_receiving_no_sender_reflects_is_equivocating_tracewise</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span> : input_valid_transition PreFree l (s, om) (s&#39;, om&#39;))
  (<span class="nv">Hno_sender</span> : option_bind _ _ sender om = None)
  (<span class="nv">v</span> : validator)
  : is_equivocating_tracewise_no_has_been_sent s&#39; v -&gt; is_equivocating_tracewise_no_has_been_sent s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s&#39; v
‚Üí is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s&#39; v
‚Üí is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk7f"><span class="nb">intro</span> Hs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (transition_is_equivocating_tracewise_char _ _ _ _ _ Ht v Hs&#39;)
  ; [|<span class="bp">congruence</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk80"><span class="kn">Lemma</span> <span class="nf">is_equivocating_statewise_implies_is_equivocating_tracewise</span> <span class="nv">s</span> <span class="nv">v</span>
  : is_equivocating_statewise IM A sender s v -&gt; is_equivocating_tracewise s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_statewise IM A sender s v
‚Üí is_equivocating_tracewise s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_statewise IM A sender s v
‚Üí is_equivocating_tracewise s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk82"><span class="nb">intros</span> [j [m [Hm [Hnbs_m Hbr_m]]]] <span class="kr">is</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
       (<span class="nv">suffix</span> : list transition_item),
       <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
       tr = prefix ++ elem :: suffix
       ‚àß input elem = Some m
         ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v))
               m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk83"><span class="kr">exists</span> <span class="nv">m</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v
‚àß (<span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
     (<span class="nv">suffix</span> : list transition_item),
     <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
     tr = prefix ++ elem :: suffix
     ‚àß input elem = Some m
       ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk84"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk85"><span class="nb">apply</span> (preloaded_finite_valid_trace_init_to_projection _ j) <span class="kr">in</span> Htr <span class="kr">as</span> Htrj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk86"><span class="nb">apply</span> proj1 <span class="kr">in</span> Htrj <span class="kr">as</span> Hlstj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk87"><span class="nb">apply</span> finite_valid_trace_from_to_last_pstate <span class="kr">in</span> Hlstj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>has_been_received (IM j) (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk88"><span class="nb">apply</span> proper_received <span class="kr">in</span> Hbr_m; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  (IM j) (field_selector input) 
  (s j) m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk89"><span class="nb">specialize</span> (Hbr_m _ _ Htrj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span>trace_has_message (field_selector input) m
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8a"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> Hbr_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbr_m</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">x</span> : transition_item,
  x
  ‚àà VLSMTotalProjection.VLSM_projection_finite_trace_project
      (preloaded_component_projection IM j) tr
  ‚àß field_selector input m x</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8b"><span class="nb">destruct</span> Hbr_m <span class="kr">as</span> [itemj [Hitemj Hinput]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitemj</var><span class="hyp-type"><b>: </b><span>itemj
‚àà VLSMTotalProjection.VLSM_projection_finite_trace_project
    (preloaded_component_projection IM j) tr</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m itemj</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8c"><span class="nb">apply</span> (finite_trace_projection_list_in_rev IM) <span class="kr">in</span> Hitemj
    <span class="kr">as</span> [item [Hitem [_ [Heq_input _]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Heq_input</var><span class="hyp-type"><b>: </b><span>input item = input itemj</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m itemj</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8d"><span class="nb">simpl</span> <span class="kr">in</span> Hinput.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Heq_input</var><span class="hyp-type"><b>: </b><span>input item = input itemj</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input itemj = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8e"><span class="nb">rewrite</span> &lt;- Heq_input <span class="kr">in</span> Hinput.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Heq_input</var><span class="hyp-type"><b>: </b><span>input item = input itemj</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk8f"><span class="nb">clear</span> Heq_input.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk90"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list (composite_transition_item IM),
  tr = l1 ++ item :: l2</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk91"><span class="nb">destruct</span> Hitem <span class="kr">as</span> [prefix [suffix Heq_tr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">elem</span> : transition_item) 
  (<span class="nv">suffix</span> : list transition_item),
  <span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
  tr = prefix ++ elem :: suffix
  ‚àß input elem = Some m
    ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk92"><span class="kr">exists</span> <span class="nv">prefix</span>, item, suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lprefix</span> := finite_trace_last <span class="kr">is</span> prefix <span class="kr">in</span>
tr = prefix ++ item :: suffix
‚àß input item = Some m
  ‚àß ¬¨ has_been_sent (IM (A v)) (lprefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk93"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input item = Some m
‚àß ¬¨ has_been_sent (IM (A v))
      (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk94"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Heq_tr</var><span class="hyp-type"><b>: </b><span>tr = prefix ++ item :: suffix</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s tr</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j) tr)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk95"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>itemj</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htrj</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM j))
  (<span class="kr">is</span> j) (s j)
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM j)
     (prefix ++ item :: suffix))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s
  (prefix ++ item :: suffix)</span></span></span><br><span><var>Hlstj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM j))
  (s j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk96"><span class="nb">clear</span> -Hnbs_m Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s
  (prefix ++ item :: suffix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk97"><span class="nb">apply</span> preloaded_finite_valid_trace_init_to_projection <span class="kr">with</span> (j := A v) <span class="kr">in</span> Htr <span class="kr">as</span> Htrv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> s
  (prefix ++ item :: suffix)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (<span class="kr">is</span> (A v)) (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (prefix ++ item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk98"><span class="nb">apply</span> proj1, finite_valid_trace_from_to_app_split,proj1
    , preloaded_finite_valid_trace_from_to_projection <span class="kr">with</span> (j := A v)
    , finite_valid_trace_from_to_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (<span class="kr">is</span> (A v)) (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (prefix ++ item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk99"><span class="nb">rewrite</span> (VLSMTotalProjection.VLSM_projection_finite_trace_project_app (preloaded_component_projection IM (A v))) <span class="kr">in</span> Htrv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (<span class="kr">is</span> (A v)) (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix ++
   VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9a"><span class="nb">apply</span> proj1, (finite_valid_trace_from_to_app_split (pre_loaded_with_all_messages_vlsm (IM (A v)))),proj2 <span class="kr">in</span> Htrv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last (<span class="kr">is</span> (A v))
     (VLSMTotalProjection.VLSM_projection_finite_trace_project
        (preloaded_component_projection IM
           (A v)) prefix)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9b"><span class="nb">rewrite</span> Htr <span class="kr">in</span> Htrv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ has_been_sent (IM (A v))
    (finite_trace_last <span class="kr">is</span> prefix (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9c"><span class="nb">intro</span> Hbs_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br><span><var>Hbs_m</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9d"><span class="nb">elim</span> Hnbs_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnbs_m</var><span class="hyp-type"><b>: </b><span>has_not_been_sent (IM (A v)) (s (A v)) m</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br><span><var>Hbs_m</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM (A v)) (s (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9e"><span class="nb">clear</span> Hnbs_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br><span><var>Hbs_m</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM (A v)) (s (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chk9f"><span class="nb">revert</span> Hbs_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM (A v))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) m
‚Üí has_been_sent (IM (A v)) (s (A v)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka0"><span class="nb">apply</span> in_futures_preserving_oracle_from_stepwise <span class="kr">with</span> (field_selector output)
  ; [<span class="nb">apply</span> has_been_sent_stepwise_from_trace|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_trace_last (<span class="kr">is</span> (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     prefix) = finite_trace_last <span class="kr">is</span> prefix (A v)</span></span></span><br><span><var>Htrv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) 
  (s (A v))
  (VLSMTotalProjection.VLSM_projection_finite_trace_project
     (preloaded_component_projection IM (A v))
     (item :: suffix))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures
  (pre_loaded_with_all_messages_vlsm (IM (A v)))
  (finite_trace_last <span class="kr">is</span> prefix (A v)) (s (A v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka1"><span class="kn">Lemma</span> <span class="nf">initial_state_not_is_equivocating_tracewise</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop IM s)
  (<span class="nv">v</span> : validator)
  : ~ is_equivocating_tracewise_no_has_been_sent s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka3"><span class="nb">intros</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka4"><span class="nb">specialize</span> (Heqv s []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree s s []
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka5">spec Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree s s []
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to PreFree s s []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chka6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chka6"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka7">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree s s []
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to PreFree s s []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka8"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree s s []
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to PreFree s s []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chka9"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree s s []
‚Üí <span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
    sender m = Some v
    ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop PreFree s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkaa">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace PreFree m []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkab"><span class="nb">destruct</span> Heqv <span class="kr">as</span> [m [_ [prefix [suf [item [Heq _]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = prefix ++ suf :: item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> prefix; <span class="nb">inversion</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{ReachableThreshold validator}
  `{RelDecision _ _ is_equivocating_tracewise_no_has_been_sent}
  `{finite.Finite validator}
  `{FinSet validator Cm}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Program Instance</span> <span class="nf">equivocation_dec_tracewise</span>
  : BasicEquivocation (composite_state IM) validator Cm:=
  {
    state_validators := <span class="kr">fun</span> <span class="nv">_</span> =&gt; list_to_set (enum validator);
    is_equivocating := is_equivocating_tracewise_no_has_been_sent;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkac"><span class="kn">Lemma</span> <span class="nf">equivocating_validators_is_equivocating_tracewise_iff</span> <span class="nv">s</span> <span class="nv">v</span>
  : v ‚àà (equivocating_validators s) &lt;-&gt; is_equivocating_tracewise_no_has_been_sent s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s
‚Üî is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkad"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s
‚Üî is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkae"><span class="nb">unfold</span> equivocating_validators.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà filter (<span class="kr">Œª</span> <span class="nv">v</span> : validator, is_equivocating s v)
    (state_validators s)
‚Üî is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkaf"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà filter
    (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
       is_equivocating_tracewise_no_has_been_sent s v)
    (list_to_set (enum validator))
‚Üî is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb0"><span class="nb">rewrite</span> elem_of_filter, elem_of_list_to_set.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v
‚àß v ‚àà enum validator
‚Üî is_equivocating_tracewise_no_has_been_sent s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">itauto (<span class="nb">apply</span> elem_of_enum).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb1"><span class="kn">Lemma</span> <span class="nf">equivocating_validators_empty_in_initial_state</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">His</span> : composite_initial_state_prop IM s)
  : equivocating_validators s ‚â°@{Cm} ‚àÖ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s ‚â° ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s ‚â° ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb3"><span class="nb">intro</span> v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s ‚Üî v ‚àà ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb4"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s ‚Üí v ‚àà ‚àÖ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceWiseEquivocation-v-chkb5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><label class="goal-separator" for="TraceWiseEquivocation-v-chkb5"><hr></label><div class="goal-conclusion">v ‚àà ‚àÖ ‚Üí v ‚àà equivocating_validators s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s ‚Üí v ‚àà ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb7"><span class="nb">rewrite</span> equivocating_validators_is_equivocating_tracewise_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_tracewise_no_has_been_sent s v ‚Üí v ‚àà ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_not_is_equivocating_tracewise <span class="kr">with</span> (v := v) <span class="kr">in</span> His.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà ‚àÖ ‚Üí v ‚àà equivocating_validators s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> HV; <span class="bp">contradict</span> HV; <span class="nb">apply</span> not_elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkb9"><span class="kn">Lemma</span> <span class="nf">input_valid_transition_receiving_no_sender_reflects_equivocating_validators</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span> : input_valid_transition PreFree l (s, om) (s&#39;, om&#39;))
  (<span class="nv">Hno_sender</span> : option_bind _ _ sender om = None)
  : equivocating_validators s&#39; ‚äÜ equivocating_validators s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s&#39; ‚äÜ equivocating_validators s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkba"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s&#39; ‚äÜ equivocating_validators s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkbb"><span class="nb">intros</span> v Hs&#39;%equivocating_validators_is_equivocating_tracewise_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent s&#39; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà equivocating_validators s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> equivocating_validators_is_equivocating_tracewise_iff,
            transition_receiving_no_sender_reflects_is_equivocating_tracewise.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkbc"><span class="kn">Lemma</span> <span class="nf">initial_state_equivocators_weight</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop IM s)
  : equivocation_fault s = <span class="mi">0</span>%R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s = <span class="mi">0</span>%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkbd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s = <span class="mi">0</span>%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkbe"><span class="nb">apply</span> equivocating_validators_empty_in_initial_state, elements_empty_iff <span class="kr">in</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>elements (equivocating_validators s) = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s = <span class="mi">0</span>%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkbf"><span class="nb">unfold</span> equivocation_fault.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>elements (equivocating_validators s) = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Measurable.sum_weights
  (elements (equivocating_validators s)) = <span class="mi">0</span>%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Hs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkc0"><span class="kn">Lemma</span> <span class="nf">composite_transition_no_sender_equivocators_weight</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span> : input_valid_transition PreFree l (s, om) (s&#39;, om&#39;))
  (<span class="nv">Hno_sender</span> : option_bind _ _ sender om = None)
  : (equivocation_fault s&#39; &lt;= equivocation_fault s)%R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocation_fault s&#39; &lt;= equivocation_fault s)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkc1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocation_fault s&#39; &lt;= equivocation_fault s)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkc2"><span class="nb">specialize</span> (input_valid_transition_receiving_no_sender_reflects_equivocating_validators _ _ _ _ _ Ht Hno_sender) <span class="kr">as</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>equivocating_validators s&#39;
‚äÜ equivocating_validators s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocation_fault s&#39; &lt;= equivocation_fault s)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceWiseEquivocation-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceWiseEquivocation-v-chkc3"><span class="nb">revert</span> Heqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable.Measurable validator</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>RelDecision
  is_equivocating_tracewise_no_has_been_sent</span></span></span><br><span><var>EqDecision3</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Singleton validator Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Elements validator Cm</span></span></span><br><span><var>EqDecision4</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>FinSet validator Cm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Hno_sender</var><span class="hyp-type"><b>: </b><span>option_bind message validator sender om =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s&#39; ‚äÜ equivocating_validators s
‚Üí (equivocation_fault s&#39; &lt;= equivocation_fault s)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> incl_equivocating_validators_equivocation_fault.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">tracewise_equivocation</span>.</span></span></pre></article></body></html>