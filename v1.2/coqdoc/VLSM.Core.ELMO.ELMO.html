<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Cdcl</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Itauto</span>. #[<span class="id" title="var">local</span>] <span class="id" title="keyword">Tactic</span> <span class="id" title="keyword">Notation</span> "itauto" := <span class="id" title="var">itauto</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.Measurable.html#"><span class="id" title="library">Measurable</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#"><span class="id" title="library">FinSetExtras</span></a> <a class="idref" href="VLSM.Lib.RealsExtras.html#"><span class="id" title="library">RealsExtras</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Validator.html#"><span class="id" title="library">Validator</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#"><span class="id" title="library">MessageDependencies</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.TraceableVLSM.html#"><span class="id" title="library">TraceableVLSM</span></a> <a class="idref" href="VLSM.Core.TraceableVLSM.MinimalEquivocationTrace.html#"><span class="id" title="library">MinimalEquivocationTrace</span></a> <a class="idref" href="VLSM.Core.FinSetMessageDependencies.html#"><span class="id" title="library">FinSetMessageDependencies</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#"><span class="id" title="library">BaseELMO</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#"><span class="id" title="library">UMO</span></a> <a class="idref" href="VLSM.Core.ELMO.MO.html#"><span class="id" title="library">MO</span></a>.<br/>

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">ELMO_hints</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">submseteq_tail_l</span> : <span class="id" title="var">ELMO_hints</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab235"></a><h1 class="section">ELMO Protocol Definitions and Properties</h1>


<div class="paragraph"> </div>

  This module contains definitions and properties of ELMO components and
  the ELMO protocol.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="ELMO" class="idref" href="#ELMO"><span class="id" title="section">ELMO</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="Address:1" class="idref" href="#Address:1"><span class="id" title="binder">Address</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H6:11" class="idref" href="#H6:11"><span class="id" title="binder">FinSet</span></a> <a id="H6:11" class="idref" href="#H6:11"><span class="id" title="binder">Address</span></a> <a id="H6:11" class="idref" href="#H6:11"><span class="id" title="binder">Ca</span></a>}<br/>
&nbsp;&nbsp;(<a id="State:12" class="idref" href="#State:12"><span class="id" title="binder">State</span></a> := @<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#State"><span class="id" title="record">State</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Address:1"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;(<a id="Observation:13" class="idref" href="#Observation:13"><span class="id" title="binder">Observation</span></a> := @<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Observation"><span class="id" title="record">Observation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Address:1"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;(<a id="Message:14" class="idref" href="#Message:14"><span class="id" title="binder">Message</span></a> := @<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message"><span class="id" title="record">Message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Address:1"><span class="id" title="variable">Address</span></a>).<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H7:16" class="idref" href="#H7:16"><span class="id" title="binder">@</span></a><a id="H7:16" class="idref" href="#H7:16"><span class="id" title="binder">ReachableThreshold</span></a> <a id="H7:16" class="idref" href="#H7:16"><span class="id" title="binder">Address</span></a> <a id="H7:16" class="idref" href="#H7:16"><span class="id" title="binder">Hmeasurable</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:19" class="idref" href="#H8:19"><span class="id" title="binder">finite.Finite</span></a> <a id="H8:19" class="idref" href="#H8:19"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="idx:20" class="idref" href="#idx:20"><span class="id" title="binder">idx</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#index:17"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;`{<a id="Inj0:21" class="idref" href="#Inj0:21"><span class="id" title="binder">!</span></a><a id="Inj0:21" class="idref" href="#Inj0:21"><span class="id" title="binder">Inj</span></a> <a id="Inj0:21" class="idref" href="#Inj0:21"><span class="id" title="binder">(=)</span></a> <a id="Inj0:21" class="idref" href="#Inj0:21"><span class="id" title="binder">(=)</span></a> <a id="Inj0:21" class="idref" href="#Inj0:21"><span class="id" title="binder">idx</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="immediate_dependency" class="idref" href="#immediate_dependency"><span class="id" title="definition">immediate_dependency</span></a> (<a id="m1:22" class="idref" href="#m1:22"><span class="id" title="binder">m1</span></a> <a id="m2:23" class="idref" href="#m2:23"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:22"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:23"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="immediate_dependency_msg_dep_rel" class="idref" href="#immediate_dependency_msg_dep_rel"><span class="id" title="lemma">immediate_dependency_msg_dep_rel</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:24" class="idref" href="#dm:24"><span class="id" title="binder">dm</span></a> <a id="m:25" class="idref" href="#m:25"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency"><span class="id" title="definition">immediate_dependency</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#dm:24"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:25"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#dm:24"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:25"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency"><span class="id" title="definition">immediate_dependency</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages'"><span class="id" title="definition">messages'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_list_to_set</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="happensBefore" class="idref" href="#happensBefore"><span class="id" title="abbreviation">happensBefore</span></a> := (<span class="id" title="inductive">tc</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency"><span class="id" title="definition">immediate_dependency</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Infix</span> "&lt;hb" := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#happensBefore"><span class="id" title="abbreviation">happensBefore</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="happensBefore_msg_dep" class="idref" href="#happensBefore_msg_dep"><span class="id" title="lemma">happensBefore_msg_dep</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:26" class="idref" href="#dm:26"><span class="id" title="binder">dm</span></a> <a id="m:27" class="idref" href="#m:27"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#dm:26"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">hb</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:27"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#dm:26"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:27"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">induction</span> 1; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency_msg_dep_rel"><span class="id" title="lemma">immediate_dependency_msg_dep_rel</span></a> |]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency_msg_dep_rel"><span class="id" title="lemma">immediate_dependency_msg_dep_rel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The full node condition says that a node can receive a message
  only if the direct observations of that node already include
  all messages from the direct observations of the state inside
  the message (not necessarily with the same <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a></span>/<span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a></span> label).

<div class="paragraph"> </div>

  This will let us define validity predicates without needing
  to recurse into the states inside observations in a state,
  because a correctly-operating node would have checked the
  shallow condition for those messages when their observations
  were added to the state.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="full_node" class="idref" href="#full_node"><span class="id" title="definition">full_node</span></a> (<a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:29" class="idref" href="#m:29"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:29"><span class="id" title="variable">m</span></a>) <span class="id" title="notation">⊆+</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:28"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_reachable_messages_ind" class="idref" href="#full_node_reachable_messages_ind"><span class="id" title="lemma">full_node_reachable_messages_ind</span></a><br/>
&nbsp;&nbsp;(<a id="P:30" class="idref" href="#P:30"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hnew:37" class="idref" href="#Hnew:37"><span class="id" title="binder">Hnew</span></a> : <span class="id" title="notation">forall</span> <a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> <a id="l:32" class="idref" href="#l:32"><span class="id" title="binder">l</span></a> <a id="msg:33" class="idref" href="#msg:33"><span class="id" title="binder">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:34" class="idref" href="#Hfull:34"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:33"><span class="id" title="variable">msg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IH:36" class="idref" href="#IH:36"><span class="id" title="binder">IH</span></a> : <span class="id" title="notation">forall</span> <a id="m:35" class="idref" href="#m:35"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:35"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:30"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:35"><span class="id" title="variable">m</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:30"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:32"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:33"><span class="id" title="variable">msg</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:33"><span class="id" title="variable">msg</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hprev:42" class="idref" href="#Hprev:42"><span class="id" title="binder">Hprev</span></a> : <span class="id" title="notation">forall</span> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a> <a id="ob:39" class="idref" href="#ob:39"><span class="id" title="binder">ob</span></a> <a id="m:40" class="idref" href="#m:40"><span class="id" title="binder">m</span></a> (<a id="IH:41" class="idref" href="#IH:41"><span class="id" title="binder">IH</span></a>: <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:30"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:40"><span class="id" title="variable">m</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:30"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:39"><span class="id" title="variable">ob</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:40"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:43" class="idref" href="#s:43"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:43"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:44" class="idref" href="#m:44"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:44"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:43"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:30"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:43"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:44"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnew</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="messages_hb_transitive" class="idref" href="#messages_hb_transitive"><span class="id" title="lemma">messages_hb_transitive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:46" class="idref" href="#m:46"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:46"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m':47" class="idref" href="#m':47"><span class="id" title="binder">m'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':47"><span class="id" title="variable">m'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">hb</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:46"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':47"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:45"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span> | <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">IH</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm'</span>%<a class="idref" href="VLSM.Lib.Preamble.html#tc_r_iff"><span class="id" title="lemma">tc_r_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">mr</span> <span class="id" title="var">Hmr</span>%<a class="idref" href="VLSM.Lib.ListExtras.html#submseteq_list_subseteq"><span class="id" title="lemma">submseteq_list_subseteq</span></a> <span class="id" title="var">IH</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm'</span>%<a class="idref" href="VLSM.Lib.Preamble.html#tc_r_iff"><span class="id" title="lemma">tc_r_iff</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Some claims about the full node condition hold for any UMO-based VLSM
  whose validity predicate implies the full node condition. By UMO-based we
  mean a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="section">VLSM</span></a></span> built over the <span class="inlinecode"><span class="id" title="var">UMOComponentType</span></span> which also has the same
  transition function as UMO/MO, an initial state predicate that ensures
  <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a></span> of an initial state is empty, and a validity predicate that
  implies <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponentValid"><span class="id" title="inductive">UMOComponentValid</span></a></span>.
  If that's all we know about the VLSM, knowing that a <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#State"><span class="id" title="record">State</span></a></span> is reachable
  in that VLSM is only as informative as knowing that the state is
  <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a></span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a></span>.
  (This lemma needs no assumption about <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponentValid"><span class="id" title="inductive">UMOComponentValid</span></a></span> because
  reachability is the same anyway, because <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponentValid"><span class="id" title="inductive">UMOComponentValid</span></a></span>
  returns the state unchanged on invalid input.)
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="full_node_VLSM_reachable" class="idref" href="#full_node_VLSM_reachable"><span class="id" title="lemma">full_node_VLSM_reachable</span></a><br/>
&nbsp;&nbsp;(<a id="VM:48" class="idref" href="#VM:48"><span class="id" title="binder">VM</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="class">VLSMMachine</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMOComponentType"><span class="id" title="instance">ELMOComponentType</span></a>)<br/>
&nbsp;&nbsp;(<a id="V:49" class="idref" href="#V:49"><span class="id" title="binder">V</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#VM:48"><span class="id" title="variable">VM</span></a>)<br/>
&nbsp;&nbsp;(<a id="VM_transition_is_UMO:53" class="idref" href="#VM_transition_is_UMO:53"><span class="id" title="binder">VM_transition_is_UMO</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:50" class="idref" href="#l:50"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s:51" class="idref" href="#s:51"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:52" class="idref" href="#om:52"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#V:49"><span class="id" title="variable">V</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:51"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:52"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_transition"><span class="id" title="definition">UMOComponent_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:51"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:52"><span class="id" title="variable">om</span></a>)<br/>
&nbsp;&nbsp;(<a id="VM_init_empty:55" class="idref" href="#VM_init_empty:55"><span class="id" title="binder">VM_init_empty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#V:49"><span class="id" title="variable">V</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:54"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:54"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;(<a id="VM_enforces_full_node:59" class="idref" href="#VM_enforces_full_node:59"><span class="id" title="binder">VM_enforces_full_node</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s:57" class="idref" href="#s:57"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:58" class="idref" href="#m:58"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#V:49"><span class="id" title="variable">V</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:57"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:58"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:57"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:58"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#V:49"><span class="id" title="variable">V</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:60"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">obs</span> <span class="id" title="var">adr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">VM_init_empty</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_init"><span class="id" title="constructor">reach_init</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">VM_transition_is_UMO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">om</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [= &lt;- &lt;-]; [| <span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">VM_enforces_full_node</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_recv"><span class="id" title="constructor">reach_recv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_send"><span class="id" title="constructor">reach_send</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A simplified version of <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#local_equivocators"><span class="id" title="record">local_equivocators</span></a></span> that only checks for
  incompatible messages among the immediate observations of the state.
  This relies on the full node condition.

</div>
<div class="code">
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-cannot-define-projection".<br/>
<span class="id" title="keyword">Record</span> <a id="local_equivocators_simple" class="idref" href="#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a id="s:61" class="idref" href="#s:61"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="les_m1" class="idref" href="#les_m1"><span class="id" title="projection">les_m1</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>;<br/>
&nbsp;&nbsp;<a id="les_m2" class="idref" href="#les_m2"><span class="id" title="projection">les_m2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>;<br/>
&nbsp;&nbsp;<a id="les_adr1" class="idref" href="#les_adr1"><span class="id" title="projection">les_adr1</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m1:64"><span class="id" title="method">les_m1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:62"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="les_adr2" class="idref" href="#les_adr2"><span class="id" title="projection">les_adr2</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m2:65"><span class="id" title="method">les_m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:62"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="les_obs_m1" class="idref" href="#les_obs_m1"><span class="id" title="projection">les_obs_m1</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m1:64"><span class="id" title="method">les_m1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:61"><span class="id" title="variable">s</span></a>;<br/>
&nbsp;&nbsp;<a id="les_obs_m2" class="idref" href="#les_obs_m2"><span class="id" title="projection">les_obs_m2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m2:65"><span class="id" title="method">les_m2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:61"><span class="id" title="variable">s</span></a>;<br/>
&nbsp;&nbsp;<a id="les_incomparable" class="idref" href="#les_incomparable"><span class="id" title="projection">les_incomparable</span></a> : <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m1:64"><span class="id" title="method">les_m1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#les_m2:65"><span class="id" title="method">les_m2</span></a>;<br/>
}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "cannot-define-projection".<br/>

<br/>
</div>

<div class="doc">
  A variant of <span class="inlinecode"><span class="id" title="var">local</span></span> <span class="inlinecode"><span class="id" title="var">equivocators</span></span> that relies more on the full node condition
  and directly shows how the set of equivocators can grow.

<div class="paragraph"> </div>

  Only a newly received message needs to be checked against previous messages,
  other addresses are equivocating if they are equivocating in the previous
  state.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="local_equivocators_full_obs" class="idref" href="#local_equivocators_full_obs"><span class="id" title="inductive">local_equivocators_full_obs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="lefo_last" class="idref" href="#lefo_last"><span class="id" title="constructor">lefo_last</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="ol:73" class="idref" href="#ol:73"><span class="id" title="binder">ol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="m1:74" class="idref" href="#m1:74"><span class="id" title="binder">m1</span></a> <a id="m2:75" class="idref" href="#m2:75"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:75"><span class="id" title="variable">m2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages'"><span class="id" title="definition">receivedMessages'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:73"><span class="id" title="variable">ol</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:74"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:75"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs:71"><span class="id" title="inductive">local_equivocators_full_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:74"><span class="id" title="variable">m1</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:73"><span class="id" title="variable">ol</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:74"><span class="id" title="variable">m1</span></a>))<br/>
| <a id="lefo_prev" class="idref" href="#lefo_prev"><span class="id" title="constructor">lefo_prev</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="ol:76" class="idref" href="#ol:76"><span class="id" title="binder">ol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="l:77" class="idref" href="#l:77"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="m:78" class="idref" href="#m:78"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="i:79" class="idref" href="#i:79"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs:71"><span class="id" title="inductive">local_equivocators_full_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:76"><span class="id" title="variable">ol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:79"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs:71"><span class="id" title="inductive">local_equivocators_full_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:77"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:78"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:76"><span class="id" title="variable">ol</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:79"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lefo_alt" class="idref" href="#lefo_alt"><span class="id" title="lemma">lefo_alt</span></a> (<a id="ol:80" class="idref" href="#ol:80"><span class="id" title="binder">ol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="o:81" class="idref" href="#o:81"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="a:82" class="idref" href="#a:82"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs"><span class="id" title="inductive">local_equivocators_full_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:81"><span class="id" title="variable">o</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:80"><span class="id" title="variable">ol</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:82"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:82"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:81"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:81"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m2:83" class="idref" href="#m2:83"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:83"><span class="id" title="variable">m2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages'"><span class="id" title="definition">receivedMessages'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:80"><span class="id" title="variable">ol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:81"><span class="id" title="variable">o</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:83"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs"><span class="id" title="inductive">local_equivocators_full_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ol:80"><span class="id" title="variable">ol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:82"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">left</span>; <span class="id" title="var">split_and</span>!; [.. | <span class="id" title="tactic">eexists</span>] | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">m1</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [(-&gt; &amp; -&gt; &amp; <span class="id" title="var">m2</span> &amp; <span class="id" title="var">Hrecv</span> &amp; <span class="id" title="var">Hadr</span> &amp; <span class="id" title="var">Hincomp</span>) |]; <span class="id" title="tactic">econstructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">list_exist_dec</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="local_equivocators_full_obs_dec" class="idref" href="#local_equivocators_full_obs_dec"><span class="id" title="instance">local_equivocators_full_obs_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs"><span class="id" title="inductive">local_equivocators_full_obs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ol</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ol</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation'_rec"><span class="id" title="lemma">addObservation'_rec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.RelationClasses.html#iff_Symmetric"><span class="id" title="instance">iff_Symmetric</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_alt"><span class="id" title="lemma">lefo_alt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="local_equivocators_full" class="idref" href="#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> (<a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs"><span class="id" title="inductive">local_equivocators_full_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:84"><span class="id" title="variable">s</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="local_equivocators_full_dec" class="idref" href="#local_equivocators_full_dec"><span class="id" title="instance">local_equivocators_full_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:85" class="idref" href="#s:85"><span class="id" title="binder">s</span></a> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_obs_dec"><span class="id" title="instance">local_equivocators_full_obs_dec</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:85"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:86"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
  An ELMO component has the same elements as a MO component
  except for the validity predicate, which:

<div class="paragraph"> </div>

<ul class="doclist">
<li> checks message validity

</li>
<li> enforces the full-node condition

</li>
<li> only allows receiving a message if it will not bring the total <span class="inlinecode"><a class="idref" href="VLSM.Lib.Measurable.html#weight"><span class="id" title="projection">weight</span></a></span>
    of the locally-visible equivocation above <span class="inlinecode"><span class="id" title="var">equivocation_threshold</span></span>

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_self_equiv" class="idref" href="#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> (<a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:88" class="idref" href="#m:88"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:88"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:88"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:87"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MessageHasSender" class="idref" href="#MessageHasSender"><span class="id" title="inductive">MessageHasSender</span></a> (<a id="m:89" class="idref" href="#m:89"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="message_has_sender" class="idref" href="#message_has_sender"><span class="id" title="constructor">message_has_sender</span></a> : <span class="id" title="notation">forall</span> <a id="i:92" class="idref" href="#i:92"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:89"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:92"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#MessageHasSender:90"><span class="id" title="inductive">MessageHasSender</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:89"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ELMO_msg_valid_full" class="idref" href="#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="MVF_nil" class="idref" href="#MVF_nil"><span class="id" title="constructor">MVF_nil</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:95" class="idref" href="#m:95"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:95"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#MessageHasSender"><span class="id" title="inductive">MessageHasSender</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full:93"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:95"><span class="id" title="variable">m</span></a><br/>
| <a id="MVF_send" class="idref" href="#MVF_send"><span class="id" title="constructor">MVF_send</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:96" class="idref" href="#m:96"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full:93"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full:93"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:96"><span class="id" title="variable">m</span></a>)<br/>
| <a id="MVF_recv" class="idref" href="#MVF_recv"><span class="id" title="constructor">MVF_recv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:97" class="idref" href="#m:97"><span class="id" title="binder">m</span></a> <a id="mo:98" class="idref" href="#mo:98"><span class="id" title="binder">mo</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:97"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#mo:98"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:97"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#mo:98"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full:93"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:97"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full:93"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:97"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#mo:98"><span class="id" title="variable">mo</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_msg_valid_full_to_reach" class="idref" href="#ELMO_msg_valid_full_to_reach"><span class="id" title="lemma">ELMO_msg_valid_full_to_reach</span></a> (<a id="m:99" class="idref" href="#m:99"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:99"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> (<span class="id" title="keyword">fun</span> <a id="s:100" class="idref" href="#s:100"><span class="id" title="binder">s</span></a> <a id="m:101" class="idref" href="#m:101"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:101"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:101"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:99"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ms</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">replace</span> <span class="id" title="var">ms</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <span class="id" title="var">ms</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>) |..];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_msg_valid_full_has_sender" class="idref" href="#ELMO_msg_valid_full_has_sender"><span class="id" title="lemma">ELMO_msg_valid_full_has_sender</span></a> (<a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#MessageHasSender"><span class="id" title="inductive">MessageHasSender</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:102"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; [<span class="id" title="var">done</span> |..]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHELMO_msg_valid_full</span>; <span class="id" title="tactic">econstructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="ELMO_local_equivocation" class="idref" href="#ELMO_local_equivocation"><span class="id" title="instance">ELMO_local_equivocation</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Ca"><span class="id" title="variable">Ca</span></a> :=<br/>
{<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_dec"><span class="id" title="method">is_equivocating_dec</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_dec"><span class="id" title="instance">local_equivocators_full_dec</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> (<span class="id" title="definition">list_to_set</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)));<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="local_equivocation_limit_ok" class="idref" href="#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a id="s:103" class="idref" href="#s:103"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:103"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="ELMO_recv_valid" class="idref" href="#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> (<a id="s:104" class="idref" href="#s:104"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:105" class="idref" href="#m:105"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="ELMO_mv_full_node" class="idref" href="#ELMO_mv_full_node"><span class="id" title="projection">ELMO_mv_full_node</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:104"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:105"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="ELMO_mv_no_self_equiv" class="idref" href="#ELMO_mv_no_self_equiv"><span class="id" title="projection">ELMO_mv_no_self_equiv</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a>  <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:104"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:105"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="ELMO_mv_msg_valid_full" class="idref" href="#ELMO_mv_msg_valid_full"><span class="id" title="projection">ELMO_mv_msg_valid_full</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:105"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="ELMO_mv_local_equivocation_limit_ok" class="idref" href="#ELMO_mv_local_equivocation_limit_ok"><span class="id" title="projection">ELMO_mv_local_equivocation_limit_ok</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:104"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:105"><span class="id" title="variable">m</span></a>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ELMOComponentValid" class="idref" href="#ELMOComponentValid"><span class="id" title="inductive">ELMOComponentValid</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ELMOCV_Receive" class="idref" href="#ELMOCV_Receive"><span class="id" title="constructor">ELMOCV_Receive</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:114" class="idref" href="#m:114"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:113"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:114"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid:111"><span class="id" title="inductive">ELMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:113"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:114"><span class="id" title="variable">m</span></a>)<br/>
| <a id="ELMOCV_Send" class="idref" href="#ELMOCV_Send"><span class="id" title="constructor">ELMOCV_Send</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:115" class="idref" href="#s:115"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid:111"><span class="id" title="inductive">ELMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
  This definition is closer to the way the validity condition
  might be defined by hand, but is probably less convenient than
  the inductive definition of <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid"><span class="id" title="inductive">ELMOComponentValid</span></a></span>. So we prove
  that they are equivalent.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="ELMOComponentValid_alt" class="idref" href="#ELMOComponentValid_alt"><span class="id" title="definition">ELMOComponentValid_alt</span></a> (<a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s:117" class="idref" href="#s:117"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:118" class="idref" href="#om:118"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponentValid"><span class="id" title="inductive">UMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:117"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:118"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">from_option</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:117"><span class="id" title="variable">s</span></a>) <span class="id" title="notation">False</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:118"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMOComponentValid_alt_iff" class="idref" href="#ELMOComponentValid_alt_iff"><span class="id" title="definition">ELMOComponentValid_alt_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:119" class="idref" href="#l:119"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s:120" class="idref" href="#s:120"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:121" class="idref" href="#om:121"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid"><span class="id" title="inductive">ELMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:119"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:120"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:121"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid_alt"><span class="id" title="definition">ELMOComponentValid_alt</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:119"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:120"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:121"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [[] <span class="id" title="var">Hfo</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfo</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMOComponentMachine" class="idref" href="#ELMOComponentMachine"><span class="id" title="definition">ELMOComponentMachine</span></a> (<a id="i:122" class="idref" href="#i:122"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="class">VLSMMachine</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMOComponentType"><span class="id" title="instance">ELMOComponentType</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> := <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_prop"><span class="id" title="definition">UMOComponent_initial_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:122"><span class="id" title="variable">i</span></a>);<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="notation">False</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="method">s0</span></a> := <a class="idref" href="VLSM.Core.ELMO.UMO.html#Inhabited_UMOComponent_initial_state_type"><span class="id" title="instance">Inhabited_UMOComponent_initial_state_type</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:122"><span class="id" title="variable">i</span></a>);<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> := <span class="id" title="keyword">fun</span> <a id="l:123" class="idref" href="#l:123"><span class="id" title="binder">l</span></a> '<a id="pat:126" class="idref" href="#pat:126"><span class="id" title="binder">(</span></a><a id="pat:126" class="idref" href="#pat:126"><span class="id" title="binder">st</span></a><a id="pat:126" class="idref" href="#pat:126"><span class="id" title="binder">,</span></a> <a id="pat:126" class="idref" href="#pat:126"><span class="id" title="binder">om</span></a><a id="pat:126" class="idref" href="#pat:126"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_transition"><span class="id" title="definition">UMOComponent_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#st:125"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:124"><span class="id" title="variable">om</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> := <span class="id" title="keyword">fun</span> <a id="l:127" class="idref" href="#l:127"><span class="id" title="binder">l</span></a> '<a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">(</span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">st</span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">,</span></a> <a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">om</span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid"><span class="id" title="inductive">ELMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:127"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#st:129"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:128"><span class="id" title="variable">om</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMOComponent" class="idref" href="#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<a id="i:131" class="idref" href="#i:131"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtype"><span class="id" title="projection">vtype</span></a> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMOComponentType"><span class="id" title="instance">ELMOComponentType</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vmachine"><span class="id" title="projection">vmachine</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentMachine"><span class="id" title="definition">ELMOComponentMachine</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:131"><span class="id" title="variable">i</span></a>;<br/>
|}.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="ComputableSentMessages_ELMOComponent" class="idref" href="#ComputableSentMessages_ELMOComponent"><span class="id" title="instance">ComputableSentMessages_ELMOComponent</span></a><br/>
&nbsp;&nbsp;(<a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="class">ComputableSentMessages</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:132"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> [(<span class="id" title="var">Hvsp</span> &amp; <span class="id" title="var">Hovmp</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">im</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="tactic">by</span> <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>..|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="ComputableReceivedMessages_ELMOComponent" class="idref" href="#ComputableReceivedMessages_ELMOComponent"><span class="id" title="instance">ComputableReceivedMessages_ELMOComponent</span></a><br/>
&nbsp;&nbsp;(<a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.Equivocation.html#ComputableReceivedMessages"><span class="id" title="class">ComputableReceivedMessages</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:133"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> [(<span class="id" title="var">Hvsp</span> &amp; <span class="id" title="var">Hovmp</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">im</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="tactic">by</span> <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>.. |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="HasBeenDirectlyObservedCapability_ELMOComponent" class="idref" href="#HasBeenDirectlyObservedCapability_ELMOComponent"><span class="id" title="instance">HasBeenDirectlyObservedCapability_ELMOComponent</span></a><br/>
&nbsp;&nbsp;(<a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:134"><span class="id" title="variable">i</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability_from_sent_received"><span class="id" title="instance">HasBeenDirectlyObservedCapability_from_sent_received</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_reachable_view" class="idref" href="#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> (<a id="s:135" class="idref" href="#s:135"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) <a id="i:136" class="idref" href="#i:136"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:136"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:135"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:136"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#iff_trans"><span class="id" title="lemma">iff_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_based_valid_reachable"><span class="id" title="lemma">UMO_based_valid_reachable</span></a>; [| | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; [| <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.Morphisms_Prop.html#and_iff_morphism"><span class="id" title="instance">Morphisms_Prop.and_iff_morphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_message_dependencies_full_node_condition" class="idref" href="#ELMOComponent_message_dependencies_full_node_condition"><span class="id" title="lemma">ELMOComponent_message_dependencies_full_node_condition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:137" class="idref" href="#i:137"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:137"><span class="id" title="variable">i</span></a>) (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [] <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? [<span class="id" title="var">Hfull</span>] |]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>, <span class="id" title="lemma">elem_of_list_to_set</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_full_node_reachable" class="idref" href="#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a> <a id="i:138" class="idref" href="#i:138"><span class="id" title="binder">i</span></a> <a id="s:139" class="idref" href="#s:139"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:138"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:139"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:139"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_no_self_equiv_reachable" class="idref" href="#ELMO_no_self_equiv_reachable"><span class="id" title="lemma">ELMO_no_self_equiv_reachable</span></a> <a id="i:140" class="idref" href="#i:140"><span class="id" title="binder">i</span></a> <a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:140"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:141"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ELMO.ELMOComponent_Lemmas" class="idref" href="#ELMO.ELMOComponent_Lemmas"><span class="id" title="section">ELMOComponent_Lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab236"></a><h2 class="section">Component lemmas</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="i:142" class="idref" href="#i:142"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ei:143" class="idref" href="#Ei:143"><span class="id" title="binder">Ei</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:142"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ri:144" class="idref" href="#Ri:144"><span class="id" title="binder">Ri</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Ei:143"><span class="id" title="variable">Ei</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_reachable_adr" class="idref" href="#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a> (<a id="s:145" class="idref" href="#s:145"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:145"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:145"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hadr</span>]%<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_transition_output_not_initial" class="idref" href="#ELMO_transition_output_not_initial"><span class="id" title="lemma">ELMO_transition_output_not_initial</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:146" class="idref" href="#l:146"><span class="id" title="binder">l</span></a> (<a id="s:147" class="idref" href="#s:147"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:148" class="idref" href="#om:148"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':149" class="idref" href="#s':149"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om':150" class="idref" href="#om':150"><span class="id" title="binder">om'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:146"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:147"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:148"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':149"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':150"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':149"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> [<span class="id" title="var">ol</span> <span class="id" title="var">a</span>] <span class="id" title="var">om'</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">intros</span> [-&gt; <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_transition_inj" class="idref" href="#ELMO_transition_inj"><span class="id" title="lemma">ELMO_transition_inj</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:151" class="idref" href="#l:151"><span class="id" title="binder">l</span></a> (<a id="s:152" class="idref" href="#s:152"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:153" class="idref" href="#om:153"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':154" class="idref" href="#s':154"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om':155" class="idref" href="#om':155"><span class="id" title="binder">om'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:151"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:152"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:153"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':154"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':155"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l0:156" class="idref" href="#l0:156"><span class="id" title="binder">l0</span></a> <a id="s0:157" class="idref" href="#s0:157"><span class="id" title="binder">s0</span></a> <a id="om0:158" class="idref" href="#om0:158"><span class="id" title="binder">om0</span></a> <a id="om'0:159" class="idref" href="#om'0:159"><span class="id" title="binder">om'0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l0:156"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s0:157"><span class="id" title="variable">s0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om0:158"><span class="id" title="variable">om0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':154"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om'0:159"><span class="id" title="variable">om'0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#l0:156"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:151"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s0:157"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:152"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om0:158"><span class="id" title="variable">om0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:153"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om'0:159"><span class="id" title="variable">om'0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':155"><span class="id" title="variable">om'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">l0</span> <span class="id" title="var">s0</span> <span class="id" title="var">om0</span> <span class="id" title="var">om'0</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid0</span>) <span class="id" title="var">Ht0</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [= &lt;- &lt;-];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">s0</span> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_valid_transition_size" class="idref" href="#ELMOComponent_valid_transition_size"><span class="id" title="lemma">ELMOComponent_valid_transition_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:160" class="idref" href="#s1:160"><span class="id" title="binder">s1</span></a> <a id="s2:161" class="idref" href="#s2:161"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="iom:162" class="idref" href="#iom:162"><span class="id" title="binder">iom</span></a> <a id="oom:163" class="idref" href="#oom:163"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl:164" class="idref" href="#lbl:164"><span class="id" title="binder">lbl</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentValid"><span class="id" title="inductive">ELMOComponentValid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lbl:164"><span class="id" title="variable">lbl</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:160"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#iom:162"><span class="id" title="variable">iom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_transition"><span class="id" title="definition">UMOComponent_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lbl:164"><span class="id" title="variable">lbl</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:160"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#iom:162"><span class="id" title="variable">iom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:161"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#oom:163"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:160"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:161"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] <span class="id" title="var">s2</span> [<span class="id" title="var">im</span> |] <span class="id" title="var">oom</span> []; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ELMOTransitionMonotoneVLSM" class="idref" href="#ELMOTransitionMonotoneVLSM"><span class="id" title="instance">ELMOTransitionMonotoneVLSM</span></a> : <a class="idref" href="VLSM.Core.TraceableVLSM.html#TransitionMonotoneVLSM"><span class="id" title="class">TransitionMonotoneVLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> [? ? ? [<span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_valid_transition_size"><span class="id" title="lemma">ELMOComponent_valid_transition_size</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_suffix_addObservation_inv" class="idref" href="#state_suffix_addObservation_inv"><span class="id" title="lemma">state_suffix_addObservation_inv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:165" class="idref" href="#s1:165"><span class="id" title="binder">s1</span></a> <a id="s2:166" class="idref" href="#s2:166"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="ob:167" class="idref" href="#ob:167"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:165"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:166"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:167"><span class="id" title="variable">ob</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:165"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:166"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:165"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:166"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">ob</span> (<span class="id" title="var">Hadr</span> &amp; [[| <span class="id" title="var">_o</span> <span class="id" title="var">os</span>] <span class="id" title="var">Hsuf</span>] &amp; <span class="id" title="var">Hstrict</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hstrict</span>; <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsuf</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">_o</span> <span class="id" title="var">obs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">os</span>; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">clear</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">os'</span> <span class="id" title="var">Heqos</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
There is a unique trace from any prefix of a reachable state to that state. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ELMO_unique_trace_segments" class="idref" href="#ELMO_unique_trace_segments"><span class="id" title="lemma">ELMO_unique_trace_segments</span></a> (<a id="s:168" class="idref" href="#s:168"><span class="id" title="binder">s</span></a> <a id="sf:169" class="idref" href="#sf:169"><span class="id" title="binder">sf</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:169"><span class="id" title="variable">sf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:168"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:169"><span class="id" title="variable">sf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:168"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:169"><span class="id" title="variable">sf</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">exists</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">(</span></a><a id="tr:170" class="idref" href="#tr:170"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:168"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:169"><span class="id" title="variable">sf</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:170"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsf</span> [-&gt; | <span class="id" title="var">Hsuf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |]; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.TraceableVLSM.html#transition_monotone_empty_trace"><span class="id" title="lemma">transition_monotone_empty_trace</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsf</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_spec"><span class="id" title="lemma">UMOComponent_initial_state_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hsuf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix_empty_minimal"><span class="id" title="lemma">state_suffix_empty_minimal</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s0</span>) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hss0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="o:172" class="idref" href="#o:172"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s0</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:171"><span class="id" title="variable">o</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> -&gt;]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#state_suffix_addObservation_inv"><span class="id" title="lemma">state_suffix_addObservation_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">l</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tr'</span> <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr'</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hsuf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#Irreflexive_state_suffix"><span class="id" title="instance">Irreflexive_state_suffix</span></a> | <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_transition_inj"><span class="id" title="lemma">ELMO_transition_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht0</span>) <span class="id" title="keyword">as</span> (-&gt; &amp; -&gt; &amp; -&gt; &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.TraceableVLSM.html#transition_monotone_empty_trace"><span class="id" title="lemma">transition_monotone_empty_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span>; [| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHHsf</span> <span class="id" title="var">Hss0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Htr_unique</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">l</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := <span class="id" title="var">s0</span>) |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tr'</span> <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr'</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hsuf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#Irreflexive_state_suffix"><span class="id" title="instance">Irreflexive_state_suffix</span></a> | <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_transition_inj"><span class="id" title="lemma">ELMO_transition_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht0</span>) <span class="id" title="keyword">as</span> (-&gt; &amp; -&gt; &amp; -&gt; &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr_unique</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  From every reachable state of an <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a></span> we can extract a unique
  trace reaching that state from the initial state.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ELMO_unique_traces" class="idref" href="#ELMO_unique_traces"><span class="id" title="lemma">ELMO_unique_traces</span></a> (<a id="sf:173" class="idref" href="#sf:173"><span class="id" title="binder">sf</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:173"><span class="id" title="variable">sf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">exists</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">!</span></a> <a id="tr:174" class="idref" href="#tr:174"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="si:175" class="idref" href="#si:175"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:175"><span class="id" title="variable">si</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sf:173"><span class="id" title="variable">sf</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:174"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">si</span> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.i"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">exists</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">(</span></a><a id="tr:177" class="idref" href="#tr:177"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <span class="id" title="var">si</span> <span class="id" title="var">sf</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:176"><span class="id" title="variable">tr</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Htr_unique</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">si</span>; <span class="id" title="tactic">split</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">_tr</span> [[] [<span class="id" title="var">H_tr</span> []]]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr_unique</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_unique_trace_segments"><span class="id" title="lemma">ELMO_unique_trace_segments</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">si</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sf</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneq</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">si</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">os</span> <span class="id" title="var">Hos</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hos</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">app_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hos</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hosf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hneq</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; [| <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_rebase_rec_obs" class="idref" href="#full_node_rebase_rec_obs"><span class="id" title="lemma">full_node_rebase_rec_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:178" class="idref" href="#s:178"><span class="id" title="binder">s</span></a> <a id="s':179" class="idref" href="#s':179"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:178"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:178"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':179"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:181" class="idref" href="#l:181"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':179"><span class="id" title="variable">s'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:181"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:180"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:182" class="idref" href="#l:182"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:178"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:182"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:180"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">m</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hfull</span> <span class="id" title="var">l</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">l</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ob</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Heq_ob</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">m</span> <span class="id" title="var">Heq_ob</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">m0</span> -&gt;.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span> : <span class="id" title="var">m0</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">revert</span> <span class="id" title="var">Hfull</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_submseteq</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l'</span> <span class="id" title="var">m'</span>] [-&gt; <span class="id" title="var">Hm</span>]]; <span class="id" title="tactic">exists</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#obs_rec_obs"><span class="id" title="lemma">obs_rec_obs</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">Hfull</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#submseteq_tail_l"><span class="id" title="lemma">submseteq_tail_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">revert</span> <span class="id" title="var">Hfull</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_submseteq</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.MO.html#unfold_robs"><span class="id" title="lemma">unfold_robs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>); <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_messages_iff_rec_obs" class="idref" href="#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:184" class="idref" href="#m:184"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:184"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:185" class="idref" href="#l:185"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:183"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:184"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_ind'"><span class="id" title="lemma">UMO_reachable_ind'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> | <span class="id" title="tactic">intros</span> [? <span class="id" title="var">Hm</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#rec_obs_addObservation_iff"><span class="id" title="lemma">rec_obs_addObservation_iff</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [&lt;- | [<span class="id" title="var">l0</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">l0</span> [ | [[= <span class="id" title="var">_</span>] | [-&gt;]]]]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_rebase_rec_obs"><span class="id" title="lemma">full_node_rebase_rec_obs</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Because of the <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a></span> assumption,
  a component might have received its own messages,
  but only messages it also sent.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="self_messages_sent" class="idref" href="#self_messages_sent"><span class="id" title="lemma">self_messages_sent</span></a> (<a id="s:186" class="idref" href="#s:186"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:186"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:187" class="idref" href="#m:187"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:187"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:186"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:187"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:186"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:187"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:186"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">Hadr</span> <span class="id" title="var">Hm</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hadr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> <a id="m:191" class="idref" href="#m:191"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:189"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:188"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:189"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:188"><span class="id" title="variable">s</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages_addObservation"><span class="id" title="lemma">elem_of_sentMessages_addObservation</span></a>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_addObservation" class="idref" href="#local_equivocators_simple_addObservation"><span class="id" title="lemma">local_equivocators_simple_addObservation</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:192" class="idref" href="#s:192"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="ob:193" class="idref" href="#ob:193"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="a:194" class="idref" href="#a:194"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:193"><span class="id" title="variable">ob</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:194"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:194"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:193"><span class="id" title="variable">ob</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:194"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:193"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:195" class="idref" href="#m:195"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:195"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:193"><span class="id" title="variable">ob</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:195"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">ob</span> <span class="id" title="var">a</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">les_obs_m1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hm1</span>], <span class="id" title="var">les_obs_m2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hm2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">les_incomparable</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob</span>) <span class="id" title="var">les_m2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">les_incomparable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">les_m1</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_add_Send" class="idref" href="#local_equivocators_simple_add_Send"><span class="id" title="lemma">local_equivocators_simple_add_Send</span></a> (<a id="s:196" class="idref" href="#s:196"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:196"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:197" class="idref" href="#a:197"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:196"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:196"><span class="id" title="variable">s</span></a>)) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:196"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:197"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_addObservation"><span class="id" title="lemma">local_equivocators_simple_addObservation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [| (&lt;- &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">m</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hincomp</span>)]; [<span class="id" title="var">done</span> |]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hincomp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hadr</span> []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#self_messages_sent"><span class="id" title="lemma">self_messages_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; [<span class="id" title="tactic">constructor</span> |..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  This lemma is convenient to prove for <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a></span>,
  and our assumption is slightly weaker than <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a></span> <span class="inlinecode"><span class="id" title="var">Ei</span></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_no_self" class="idref" href="#local_equivocators_simple_no_self"><span class="id" title="lemma">local_equivocators_simple_no_self</span></a> (<a id="s:198" class="idref" href="#s:198"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:198"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:198"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:198"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hno_self_eqv</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">inversion</span> <span class="id" title="var">les_obs_m1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">IHHs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_add_Send"><span class="id" title="lemma">local_equivocators_simple_add_Send</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hno_self_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHs</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">msg</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">msg</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hmsg</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_self_eqv</span>, <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ob</span> &amp; <span class="id" title="var">Hmsg</span> &amp; <span class="id" title="var">Hob</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">list_filter_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">les_m1</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">les_obs_m1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">l</span>]; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">les_m2</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">les_obs_m2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">l</span>]; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">les_m1</span> <span class="id" title="var">les_m2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_full_nondecreasing" class="idref" href="#local_equivocators_full_nondecreasing"><span class="id" title="lemma">local_equivocators_full_nondecreasing</span></a> (<a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) <a id="l:200" class="idref" href="#l:200"><span class="id" title="binder">l</span></a> <a id="om:201" class="idref" href="#om:201"><span class="id" title="binder">om</span></a> <a id="s':202" class="idref" href="#s':202"><span class="id" title="binder">s'</span></a> <a id="om':203" class="idref" href="#om':203"><span class="id" title="binder">om'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:200"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:199"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:201"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':202"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':203"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="a:204" class="idref" href="#a:204"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:204"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':202"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:204"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">om</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">injection</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_full_increase_only_received_adr" class="idref" href="#local_equivocators_full_increase_only_received_adr"><span class="id" title="lemma">local_equivocators_full_increase_only_received_adr</span></a> (<a id="s:205" class="idref" href="#s:205"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) <a id="m:206" class="idref" href="#m:206"><span class="id" title="binder">m</span></a> <a id="s':207" class="idref" href="#s':207"><span class="id" title="binder">s'</span></a> <a id="om':208" class="idref" href="#om':208"><span class="id" title="binder">om'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:205"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:206"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':207"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':208"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:209" class="idref" href="#a:209"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':207"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:209"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:206"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_add_Receive" class="idref" href="#local_equivocators_simple_add_Receive"><span class="id" title="lemma">local_equivocators_simple_add_Receive</span></a> (<a id="s:210" class="idref" href="#s:210"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="msg:211" class="idref" href="#msg:211"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:211"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:211"><span class="id" title="variable">msg</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:212"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:211"><span class="id" title="variable">msg</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:213" class="idref" href="#m:213"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:213"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:211"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:213"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hno_equiv</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">msg</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="var">contradict</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_no_self"><span class="id" title="lemma">local_equivocators_simple_no_self</span></a>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_addObservation"><span class="id" title="lemma">local_equivocators_simple_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Any message in <code>messages s</code> which does not have the same address as <code>s</code>
  must be found in <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="not_adr_received" class="idref" href="#not_adr_received"><span class="id" title="lemma">not_adr_received</span></a> (<a id="s:214" class="idref" href="#s:214"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:214"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:215" class="idref" href="#msg:215"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:215"><span class="id" title="variable">msg</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:214"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:215"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:214"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:215"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:214"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hadr</span> <span class="id" title="var">Hmsg</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hmsg</span> <span class="id" title="var">Hadr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a> <a id="m:219" class="idref" href="#m:219"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:217"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:217"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:216"><span class="id" title="variable">s</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages_addObservation"><span class="id" title="lemma">elem_of_receivedMessages_addObservation</span></a>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Little lemmas used while proving equivalence between
    <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#local_equivocators"><span class="id" title="record">local_equivocators</span></a></span>, <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a></span>,
    and <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="received_in_messages" class="idref" href="#received_in_messages"><span class="id" title="lemma">received_in_messages</span></a> (<a id="s:220" class="idref" href="#s:220"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:221" class="idref" href="#msg:221"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:221"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:220"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:221"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:220"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ob</span> &amp; <span class="id" title="var">Hmsg</span> &amp; <span class="id" title="var">Hob</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ob</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">list_filter_subseteq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_prev" class="idref" href="#local_equivocators_simple_prev"><span class="id" title="lemma">local_equivocators_simple_prev</span></a> (<a id="s:222" class="idref" href="#s:222"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="ob:223" class="idref" href="#ob:223"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="a:224" class="idref" href="#a:224"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:222"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:224"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:222"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:223"><span class="id" title="variable">ob</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:224"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">exists</span> <span class="id" title="var">les_m1</span> <span class="id" title="var">les_m2</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">right</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_msg_obs" class="idref" href="#reachable_msg_obs"><span class="id" title="lemma">reachable_msg_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="P:225" class="idref" href="#P:225"><span class="id" title="binder">P</span></a> (<a id="s:226" class="idref" href="#s:226"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:225"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:226"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:227" class="idref" href="#m:227"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="ob:228" class="idref" href="#ob:228"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:227"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:228"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:227"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:226"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:226"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:228"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">ob</span> <span class="id" title="var">Hob</span> <span class="id" title="var">Hm</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">ob</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> @<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_obs_msg" class="idref" href="#reachable_obs_msg"><span class="id" title="lemma">reachable_obs_msg</span></a> (<a id="s:229" class="idref" href="#s:229"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:229"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ob:230" class="idref" href="#ob:230"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:229"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:230"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:230"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:229"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">ob</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hfull</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hob</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#rec_obs_send_inv"><span class="id" title="lemma">rec_obs_send_inv</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hob</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#rec_obs_recv_inv"><span class="id" title="lemma">rec_obs_recv_inv</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="keyword">fun</span> <a id="m:233" class="idref" href="#m:233"><span class="id" title="binder">m</span></a> <a id="H:234" class="idref" href="#H:234"><span class="id" title="binder">H</span></a> =&gt; <span class="id" title="lemma">elem_of_submseteq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:231"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#H:232"><span class="id" title="variable">H</span></a> <span class="id" title="var">Hfull</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hm</span> | (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hob'</span>)]%<a class="idref" href="VLSM.Core.ELMO.MO.html#unfold_rec_obs"><span class="id" title="lemma">unfold_rec_obs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsg</span>, <span class="id" title="lemma">elem_of_list_fmap_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">elem_of_list_fmap_1</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHs</span>, (<a class="idref" href="VLSM.Core.ELMO.MO.html#unfold_robs"><span class="id" title="lemma">unfold_robs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_simple_iff_full" class="idref" href="#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a> (<a id="s:235" class="idref" href="#s:235"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:236" class="idref" href="#a:236"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:236"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:236"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">inversion</span> <span class="id" title="var">les_obs_m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_prev"><span class="id" title="constructor">lefo_prev</span></a>, <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_add_Send"><span class="id" title="lemma">local_equivocators_simple_add_Send</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_add_Receive"><span class="id" title="lemma">local_equivocators_simple_add_Receive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [| (&lt;- &amp; <span class="id" title="var">Hnot_s</span> &amp; <span class="id" title="var">m</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hincomp</span>)]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_prev"><span class="id" title="constructor">lefo_prev</span></a>, <span class="id" title="var">IHHs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hincomp</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">Hincomp</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_last"><span class="id" title="constructor">lefo_last</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#not_adr_received"><span class="id" title="lemma">not_adr_received</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s_obs</span> <span class="id" title="var">s_a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hlefo</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hlefo</span> <span class="id" title="keyword">as</span> [? ? ? ? <span class="id" title="var">Hm12</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; [<span class="id" title="var">done</span> | .. | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">change</span> (<span class="id" title="var">m2</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">ol</span> <span class="id" title="var">s_a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#received_in_messages"><span class="id" title="lemma">received_in_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">ol</span> <span class="id" title="var">s_a</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">l</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_prev"><span class="id" title="lemma">local_equivocators_simple_prev</span></a>, <span class="id" title="var">IHHlefo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_iff_simple" class="idref" href="#local_equivocators_iff_simple"><span class="id" title="lemma">local_equivocators_iff_simple</span></a> (<a id="s:237" class="idref" href="#s:237"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:237"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:238" class="idref" href="#a:238"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#local_equivocators"><span class="id" title="record">local_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:237"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:238"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:237"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:238"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">lceqv_ob1</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">lceqv_ob2</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_obs_msg"><span class="id" title="lemma">reachable_obs_msg</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">les_obs_m1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> <span class="id" title="var">Hm1</span>], <span class="id" title="var">les_obs_m2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l2</span> <span class="id" title="var">Hm2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">les_m1</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">les_m2</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_obs_msg"><span class="id" title="lemma">reachable_obs_msg</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_iff_full" class="idref" href="#local_equivocators_iff_full"><span class="id" title="lemma">local_equivocators_iff_full</span></a> (<a id="s:239" class="idref" href="#s:239"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> (<span class="id" title="keyword">fun</span> <a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a> <a id="m:241" class="idref" href="#m:241"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:241"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:241"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:239"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:242" class="idref" href="#a:242"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#local_equivocators"><span class="id" title="record">local_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:239"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:242"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:239"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:242"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_iff_simple"><span class="id" title="lemma">local_equivocators_iff_simple</span></a><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a> |]<br/>
&nbsp;&nbsp;; <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The <span class="inlinecode"><span class="id" title="var">msg_valid_full</span></span> predicate holds for any reachable state,
  even though it is only explicitly checked when receiving messages.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_reachable_msg_valid_full" class="idref" href="#ELMO_reachable_msg_valid_full"><span class="id" title="lemma">ELMO_reachable_msg_valid_full</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:243" class="idref" href="#s:243"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:243"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:243"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hi</span>]%<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hvalid</span>]; [| <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">Hi</span>)..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; [| <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#MVF_recv"><span class="id" title="constructor">MVF_recv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHs</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_full_node_for_all_messages" class="idref" href="#reachable_full_node_for_all_messages"><span class="id" title="lemma">reachable_full_node_for_all_messages</span></a> <a id="i':244" class="idref" href="#i':244"><span class="id" title="binder">i'</span></a> (<a id="s:245" class="idref" href="#s:245"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':244"><span class="id" title="variable">i'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:246" class="idref" href="#m:246"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:246"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:246"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]%<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [-&gt;|<span class="id" title="var">Hm</span>%<span class="id" title="var">IHHs</span>]%<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="constructor">submseteq_cons</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="constructor">submseteq_cons</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_sent_messages_reachable" class="idref" href="#reachable_sent_messages_reachable"><span class="id" title="lemma">reachable_sent_messages_reachable</span></a> <a id="i':247" class="idref" href="#i':247"><span class="id" title="binder">i'</span></a> (<a id="s:248" class="idref" href="#s:248"><span class="id" title="binder">s</span></a> <a id="ms:249" class="idref" href="#ms:249"><span class="id" title="binder">ms</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':247"><span class="id" title="variable">i'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:248"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ms:249"><span class="id" title="variable">ms</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:248"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':247"><span class="id" title="variable">i'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ms:249"><span class="id" title="variable">ms</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hadr</span>]%<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="var">Hms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; [| | <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hms</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages_addObservation"><span class="id" title="lemma">elem_of_sentMessages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hms</span> <span class="id" title="keyword">as</span> [[[= -&gt;] <span class="id" title="var">_</span>] | <span class="id" title="var">Hms</span>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_sent_messages_adr" class="idref" href="#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> (<a id="s:250" class="idref" href="#s:250"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:251" class="idref" href="#m:251"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:251"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:251"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_reachable"><span class="id" title="lemma">reachable_sent_messages_reachable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_messages_are_msg_valid" class="idref" href="#reachable_messages_are_msg_valid"><span class="id" title="lemma">reachable_messages_are_msg_valid</span></a> (<a id="s:252" class="idref" href="#s:252"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:253" class="idref" href="#m:253"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:252"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:253"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:252"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:253"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hadr</span>]%<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hadr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_elem_of_messages_ind"><span class="id" title="lemma">UMO_reachable_elem_of_messages_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 2].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_msg_valid_full"><span class="id" title="lemma">ELMO_reachable_msg_valid_full</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocators_of_msg_subset_of_recv" class="idref" href="#equivocators_of_msg_subset_of_recv"><span class="id" title="lemma">equivocators_of_msg_subset_of_recv</span></a> (<a id="s:254" class="idref" href="#s:254"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:255" class="idref" href="#m:255"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:255"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:256" class="idref" href="#a:256"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:255"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:256"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:255"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:256"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfull</span> <span class="id" title="var">a</span> []; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ms</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">forall</span> <a id="x:258" class="idref" href="#x:258"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#x:257"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">ms</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#x:257"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple"><span class="id" title="record">local_equivocators_simple</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocation_limit_recv_ok_msg_ok" class="idref" href="#equivocation_limit_recv_ok_msg_ok"><span class="id" title="lemma">equivocation_limit_recv_ok_msg_ok</span></a> (<a id="s:259" class="idref" href="#s:259"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:260" class="idref" href="#m:260"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:259"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:260"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:259"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:260"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:259"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:260"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:259"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:260"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:260"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfull</span> <span class="id" title="var">Hno_self</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hms</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#incl_equivocating_validators_equivocation_fault"><span class="id" title="lemma">incl_equivocating_validators_equivocation_fault</span></a>, <a class="idref" href="VLSM.Lib.FinSetExtras.html#filter_subprop"><span class="id" title="lemma">filter_subprop</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#equivocators_of_msg_subset_of_recv"><span class="id" title="lemma">equivocators_of_msg_subset_of_recv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_msg_valid_prefix" class="idref" href="#ELMO_msg_valid_prefix"><span class="id" title="lemma">ELMO_msg_valid_prefix</span></a> (<a id="m:261" class="idref" href="#m:261"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="ob:262" class="idref" href="#ob:262"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:261"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:262"><span class="id" title="variable">ob</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:261"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hobs</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">m</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_Message"><span class="id" title="lemma">eq_Message</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">m</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_Message"><span class="id" title="lemma">eq_Message</span></a>; <span class="id" title="var">done</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="adr_neq_no_self_equiv" class="idref" href="#adr_neq_no_self_equiv"><span class="id" title="lemma">adr_neq_no_self_equiv</span></a> (<a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:264" class="idref" href="#m:264"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:264"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:264"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#no_self_equiv"><span class="id" title="definition">no_self_equiv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_prefix" class="idref" href="#full_node_prefix"><span class="id" title="lemma">full_node_prefix</span></a> <a id="s:265" class="idref" href="#s:265"><span class="id" title="binder">s</span></a> <a id="m:266" class="idref" href="#m:266"><span class="id" title="binder">m</span></a> <a id="ob:267" class="idref" href="#ob:267"><span class="id" title="binder">ob</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:265"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:266"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:267"><span class="id" title="variable">ob</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:265"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:266"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#submseteq_tail_l"><span class="id" title="lemma">submseteq_tail_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_msg_valid_full_Send_inv" class="idref" href="#ELMO_msg_valid_full_Send_inv"><span class="id" title="lemma">ELMO_msg_valid_full_Send_inv</span></a><br/>
&nbsp;&nbsp;(<a id="P:268" class="idref" href="#P:268"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="m:269" class="idref" href="#m:269"><span class="id" title="binder">m</span></a> <a id="om:270" class="idref" href="#om:270"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:269"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:270"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:268"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:269"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:270"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:271" class="idref" href="#m:271"><span class="id" title="binder">m</span></a> <a id="om:272" class="idref" href="#om:272"><span class="id" title="binder">om</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:271"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:272"><span class="id" title="variable">om</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:268"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:271"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:272"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">m</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hobs</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_Message"><span class="id" title="lemma">eq_Message</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incomparable_iff" class="idref" href="#incomparable_iff"><span class="id" title="lemma">incomparable_iff</span></a> (<a id="m1:273" class="idref" href="#m1:273"><span class="id" title="binder">m1</span></a> <a id="m2:274" class="idref" href="#m2:274"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:273"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:274"><span class="id" title="variable">m2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:273"><span class="id" title="variable">m1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:274"><span class="id" title="variable">m2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:273"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:274"><span class="id" title="variable">m2</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:273"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:274"><span class="id" title="variable">m2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m2:274"><span class="id" title="variable">m2</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m1:273"><span class="id" title="variable">m1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hadr</span> <span class="id" title="var">Hnot</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Hnot</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hadr</span> &amp; <span class="id" title="var">Hneq</span> &amp; <span class="id" title="var">Hnot_m12</span> &amp; <span class="id" title="var">Hnot_m21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [| <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> [] | <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> []].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocation_limit_recv_msg_prefix_ok" class="idref" href="#equivocation_limit_recv_msg_prefix_ok"><span class="id" title="lemma">equivocation_limit_recv_msg_prefix_ok</span></a> (<a id="v:275" class="idref" href="#v:275"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:276" class="idref" href="#m:276"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) <a id="ob:277" class="idref" href="#ob:277"><span class="id" title="binder">ob</span></a><br/>
&nbsp;&nbsp;(<a id="m':278" class="idref" href="#m':278"><span class="id" title="binder">m'</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:277"><span class="id" title="variable">ob</span></a>)<br/>
&nbsp;&nbsp;(<a id="v':279" class="idref" href="#v':279"><span class="id" title="binder">v'</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':278"><span class="id" title="variable">m'</span></a>)<br/>
&nbsp;&nbsp;(<a id="v'':280" class="idref" href="#v'':280"><span class="id" title="binder">v''</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':278"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':278"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:277"><span class="id" title="variable">ob</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:276"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hadrs</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hfresh_m'</span> <span class="id" title="var">Hfresh_m</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#incl_equivocating_validators_equivocation_fault"><span class="id" title="lemma">incl_equivocating_validators_equivocation_fault</span></a>, <a class="idref" href="VLSM.Lib.FinSetExtras.html#filter_subprop"><span class="id" title="lemma">filter_subprop</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">v''</span> <span class="id" title="var">m'</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_alt"><span class="id" title="lemma">lefo_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span> <span class="id" title="keyword">as</span> [(-&gt; &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">u</span> &amp; <span class="id" title="var">Hu</span> &amp; <span class="id" title="var">Hincomp</span>) |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_prev"><span class="id" title="constructor">lefo_prev</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_last"><span class="id" title="constructor">lefo_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m'</span> <span class="id" title="var">u</span> <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#incomparable_iff"><span class="id" title="lemma">incomparable_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincomp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hadr</span> &amp; <span class="id" title="var">Hneq</span> &amp; <span class="id" title="var">H_m1_m2</span> &amp; <span class="id" title="var">H_m2_m1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#incomparable_iff"><span class="id" title="lemma">incomparable_iff</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> &lt;- | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hfresh_m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#not_adr_received"><span class="id" title="lemma">not_adr_received</span></a>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a> <span class="id" title="keyword">with</span> (1 := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_mv_no_self_equiv"><span class="id" title="projection">ELMO_mv_no_self_equiv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_full_node_for_all_messages"><span class="id" title="lemma">reachable_full_node_for_all_messages</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[-&gt; <span class="id" title="var">Hob</span>] |]%<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages_addObservation"><span class="id" title="lemma">elem_of_sentMessages_addObservation</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ob</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">om</span>], <span class="id" title="var">Hob</span>, <span class="id" title="var">Hneq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full"><span class="id" title="inductive">ELMO_msg_valid_full</span></a> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmv</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmv</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_Message"><span class="id" title="lemma">eq_Message</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span><br/>
&nbsp;&nbsp;<span class="id" title="var">equivocation_limit_recv_msg_prefix_ok</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">ELMO_hints</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span><br/>
&nbsp;&nbsp;<span class="id" title="var">full_node_prefix</span><br/>
&nbsp;&nbsp;<span class="id" title="var">adr_neq_no_self_equiv</span><br/>
&nbsp;&nbsp;<span class="id" title="var">ELMO_msg_valid_prefix</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">ELMO_hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_recv_valid_prefix" class="idref" href="#ELMO_recv_valid_prefix"><span class="id" title="lemma">ELMO_recv_valid_prefix</span></a> <a id="s:281" class="idref" href="#s:281"><span class="id" title="binder">s</span></a> (<a id="m:282" class="idref" href="#m:282"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="ob:283" class="idref" href="#ob:283"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:282"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:283"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:282"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:282"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:282"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ob:283"><span class="id" title="variable">ob</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:282"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> 4; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hrecv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hrecv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfull</span> <span class="id" title="var">Hno_self</span> <span class="id" title="var">Hmsg</span> <span class="id" title="var">Hlimit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ELMO_hints</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">ELMO_recv_valid_prefix</span> : <span class="id" title="var">ELMO_hints</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reachable_received_messages_reachable" class="idref" href="#reachable_received_messages_reachable"><span class="id" title="lemma">reachable_received_messages_reachable</span></a> (<a id="s:284" class="idref" href="#s:284"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:285" class="idref" href="#m:285"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:285"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i':286" class="idref" href="#i':286"><span class="id" title="binder">i'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:285"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':286"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':286"><span class="id" title="variable">i'</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:285"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_reachable"><span class="id" title="lemma">reachable_sent_messages_reachable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> -&gt;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">apply</span> (<span class="id" title="definition">inj</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a>); <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#self_messages_sent"><span class="id" title="lemma">self_messages_sent</span></a>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hadr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hvalid</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHs</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>%<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages_addObservation"><span class="id" title="lemma">elem_of_receivedMessages_addObservation</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>, <span class="id" title="var">Hadr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[&lt;- []] |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <span class="id" title="var">s</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHs</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hadr</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ms</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ms</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation_ind"><span class="id" title="lemma">addObservation_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <span class="id" title="var">ms</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <span class="id" title="var">ob</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hadr</span> <span class="id" title="var">Hrecv_m'</span> <span class="id" title="var">Hfresh'</span> <span class="id" title="var">Hadr_neq</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hadr_ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrecv_if_fresh</span> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid_prefix"><span class="id" title="lemma">ELMO_recv_valid_prefix</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>) <span class="id" title="var">ob</span>); [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hms</span> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i'</span>) <span class="id" title="var">ms</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <span class="id" title="var">s</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hs</span> <span class="id" title="var">IHms</span> <span class="id" title="var">Hadr</span> <span class="id" title="var">Hadr_ms</span> <span class="id" title="var">Hadr_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 | <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">Hms</span> <span class="id" title="var">_</span>] |]%<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages_addObservation"><span class="id" title="lemma">elem_of_receivedMessages_addObservation</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hms</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hms</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ob</span> <span class="id" title="keyword">as</span> [[] [<span class="id" title="var">os</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_recv"><span class="id" title="constructor">reach_recv</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrecv_m'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfull_s_m'</span> <span class="id" title="var">Hself</span> <span class="id" title="var">Hmvf_m'</span> <span class="id" title="var">Hlimit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmvf_m'</span> <span class="id" title="keyword">as</span> [| | ? ? <span class="id" title="var">Hfull_m_os</span> <span class="id" title="var">Hself_os</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Heqmo</span>]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">mo</span> <span class="id" title="var">Heqmo</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_messages_are_msg_valid"><span class="id" title="lemma">reachable_messages_are_msg_valid</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">Hfull_s_m'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_submseteq</span>, <span class="id" title="constructor">elem_of_list_here</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#equivocation_limit_recv_ok_msg_ok"><span class="id" title="lemma">equivocation_limit_recv_ok_msg_ok</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlimit</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; <span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_recv"><span class="id" title="constructor">reach_recv</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">Hms</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; <span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrecv_m'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmvf</span> <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmvf</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">os</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ms</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_send"><span class="id" title="constructor">reach_send</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="receivable_messages_reachable" class="idref" href="#receivable_messages_reachable"><span class="id" title="lemma">receivable_messages_reachable</span></a> (<a id="ms:287" class="idref" href="#ms:287"><span class="id" title="binder">ms</span></a> <a id="s:288" class="idref" href="#s:288"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) <a id="i':289" class="idref" href="#i':289"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ms:287"><span class="id" title="variable">ms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':289"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:288"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_recv_valid"><span class="id" title="record">ELMO_recv_valid</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:288"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ms:287"><span class="id" title="variable">ms</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i':289"><span class="id" title="variable">i'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ms:287"><span class="id" title="variable">ms</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hram</span> <span class="id" title="var">Hrv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">ms</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_received_messages_reachable"><span class="id" title="lemma">reachable_received_messages_reachable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">ms</span>))<br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">constructor</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hram</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#reach_recv"><span class="id" title="constructor">reach_recv</span></a> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ELMOComponentRAMTransition" class="idref" href="#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ecr_valid_receive" class="idref" href="#ecr_valid_receive"><span class="id" title="constructor">ecr_valid_receive</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:292" class="idref" href="#s1:292"><span class="id" title="binder">s1</span></a> <a id="s2:293" class="idref" href="#s2:293"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:294" class="idref" href="#m:294"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:292"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:294"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:293"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition:290"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:292"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:293"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:294"><span class="id" title="variable">m</span></a><br/>
| <a id="ecr_valid_send" class="idref" href="#ecr_valid_send"><span class="id" title="constructor">ecr_valid_send</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:295" class="idref" href="#s1:295"><span class="id" title="binder">s1</span></a> <a id="s2:296" class="idref" href="#s2:296"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:297" class="idref" href="#m:297"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:295"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:296"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:297"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition:290"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:295"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:296"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:297"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_input_valid_transition_iff" class="idref" href="#ELMOComponent_input_valid_transition_iff"><span class="id" title="lemma">ELMOComponent_input_valid_transition_iff</span></a><br/>
&nbsp;&nbsp;(<a id="l:298" class="idref" href="#l:298"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s:299" class="idref" href="#s:299"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om:300" class="idref" href="#om:300"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':301" class="idref" href="#s':301"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="om':302" class="idref" href="#om':302"><span class="id" title="binder">om'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:299"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:300"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':301"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':302"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:303" class="idref" href="#m:303"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:300"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:303"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':302"><span class="id" title="variable">om'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:299"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':301"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:303"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:304" class="idref" href="#m:304"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om':302"><span class="id" title="variable">om'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:304"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#om:300"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:299"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':301"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:304"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [(-&gt; &amp; ? &amp; -&gt; &amp; -&gt; &amp; <span class="id" title="var">Hm</span>) | (-&gt; &amp; ? &amp; -&gt; &amp; -&gt; &amp; <span class="id" title="var">Hm</span>)]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>);  <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span>.. |]; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span>.. |]; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_elem_of_ram_trace" class="idref" href="#ELMOComponent_elem_of_ram_trace"><span class="id" title="lemma">ELMOComponent_elem_of_ram_trace</span></a><br/>
&nbsp;&nbsp;[<a id="s:305" class="idref" href="#s:305"><span class="id" title="binder">s</span></a> <a id="tr:306" class="idref" href="#tr:306"><span class="id" title="binder">tr</span></a>] (<a id="Htr:307" class="idref" href="#Htr:307"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:305"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:306"><span class="id" title="variable">tr</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:308" class="idref" href="#item:308"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:308"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:306"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s:309" class="idref" href="#s:309"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:310" class="idref" href="#m:310"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:308"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:309"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:308"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:310"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:309"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:308"><span class="id" title="variable">item</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">intros</span> [-&gt; | <span class="id" title="var">Hitem</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_receivedMessages_of_ram_trace" class="idref" href="#ELMOComponent_receivedMessages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_receivedMessages_of_ram_trace</span></a><br/>
&nbsp;&nbsp;[<a id="s:311" class="idref" href="#s:311"><span class="id" title="binder">s</span></a> <a id="s':312" class="idref" href="#s':312"><span class="id" title="binder">s'</span></a> <a id="tr:313" class="idref" href="#tr:313"><span class="id" title="binder">tr</span></a>] (<a id="Htr:314" class="idref" href="#Htr:314"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:311"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':312"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:313"><span class="id" title="variable">tr</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:315" class="idref" href="#item:315"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:315"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:313"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:316" class="idref" href="#m:316"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:316"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:315"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:316"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':312"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hitem</span> | -&gt;]; [<span class="id" title="tactic">right</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHtr</span> | <span class="id" title="tactic">left</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_sentMessages_of_ram_trace" class="idref" href="#ELMOComponent_sentMessages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_sentMessages_of_ram_trace</span></a><br/>
&nbsp;&nbsp;[<a id="s:317" class="idref" href="#s:317"><span class="id" title="binder">s</span></a> <a id="s':318" class="idref" href="#s':318"><span class="id" title="binder">s'</span></a> <a id="tr:319" class="idref" href="#tr:319"><span class="id" title="binder">tr</span></a>] (<a id="Htr:320" class="idref" href="#Htr:320"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:317"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':318"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:319"><span class="id" title="variable">tr</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:321" class="idref" href="#item:321"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:321"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:319"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:322" class="idref" href="#m:322"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:322"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:321"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:322"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':318"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ei"><span class="id" title="variable">Ei</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_step_update"><span class="id" title="lemma">has_been_sent_step_update</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hitem</span> | -&gt;]; [<span class="id" title="tactic">right</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHtr</span> | <span class="id" title="tactic">left</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_sizeState_of_ram_trace_output" class="idref" href="#ELMOComponent_sizeState_of_ram_trace_output"><span class="id" title="lemma">ELMOComponent_sizeState_of_ram_trace_output</span></a><br/>
&nbsp;&nbsp;[<a id="s:323" class="idref" href="#s:323"><span class="id" title="binder">s</span></a> <a id="tr:324" class="idref" href="#tr:324"><span class="id" title="binder">tr</span></a>] (<a id="Htr:325" class="idref" href="#Htr:325"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:324"><span class="id" title="variable">tr</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:326" class="idref" href="#item:326"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:326"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:324"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:327" class="idref" href="#m:327"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:327"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:326"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:327"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hitem</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="var">etransitivity</span>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHtr</span>]; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#addObservation_size"><span class="id" title="lemma">addObservation_size</span></a>; <span class="id" title="var">lia</span> | ..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_messages_of_ram_trace" class="idref" href="#ELMOComponent_messages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_messages_of_ram_trace</span></a><br/>
&nbsp;&nbsp;[<a id="s:328" class="idref" href="#s:328"><span class="id" title="binder">s</span></a> <a id="s':329" class="idref" href="#s':329"><span class="id" title="binder">s'</span></a> <a id="tr:330" class="idref" href="#tr:330"><span class="id" title="binder">tr</span></a>] (<a id="Htr:331" class="idref" href="#Htr:331"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':329"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:330"><span class="id" title="variable">tr</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:332" class="idref" href="#item:332"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:332"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:330"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:333" class="idref" href="#m:333"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:333"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:332"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:333"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':329"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? [|]; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_receivedMessages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_receivedMessages_of_ram_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_sentMessages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_sentMessages_of_ram_trace</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOComponent_Lemmas"><span class="id" title="section">ELMOComponent_Lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ELMO.sec_TraceableVLSM_ELMOComponent" class="idref" href="#ELMO.sec_TraceableVLSM_ELMOComponent"><span class="id" title="section">sec_TraceableVLSM_ELMOComponent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="i:334" class="idref" href="#i:334"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ei:335" class="idref" href="#Ei:335"><span class="id" title="binder">Ei</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:334"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ri:336" class="idref" href="#Ri:336"><span class="id" title="binder">Ri</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Ei:335"><span class="id" title="variable">Ei</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMOComponent_state_destructor" class="idref" href="#ELMOComponent_state_destructor"><span class="id" title="definition">ELMOComponent_state_destructor</span></a> (<a id="s:337" class="idref" href="#s:337"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMOComponentType"><span class="id" title="instance">ELMOComponentType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="adr:338" class="idref" href="#adr:338"><span class="id" title="binder">adr</span></a> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:337"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:337"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
| <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">msg</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ob</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="source:339" class="idref" href="#source:339"><span class="id" title="binder">source</span></a> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">obs</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#adr:338"><span class="id" title="variable">adr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:337"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">msg</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#source:339"><span class="id" title="variable">source</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
| <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">msg</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ob</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="source:340" class="idref" href="#source:340"><span class="id" title="binder">source</span></a> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">obs</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#adr:338"><span class="id" title="variable">adr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">msg</span>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:337"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#source:340"><span class="id" title="variable">source</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_state_destructor_initial" class="idref" href="#ELMOComponent_state_destructor_initial"><span class="id" title="lemma">ELMOComponent_state_destructor_initial</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s':341" class="idref" href="#s':341"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':341"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':341"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor"><span class="id" title="definition">ELMOComponent_state_destructor</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':341"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hs''</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs''</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_spec"><span class="id" title="lemma">UMOComponent_initial_state_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs''</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s'</span> <span class="id" title="keyword">as</span> [[| [[] ]] <span class="id" title="var">adr</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="var">done</span>..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMOComponent_state_destructor_input_valid_transition" class="idref" href="#ELMOComponent_state_destructor_input_valid_transition"><span class="id" title="lemma">ELMOComponent_state_destructor_input_valid_transition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s':342" class="idref" href="#s':342"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':342"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:343" class="idref" href="#s:343"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a>) (<a id="item:344" class="idref" href="#item:344"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:344"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:343"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor"><span class="id" title="definition">ELMOComponent_state_destructor</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':342"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ri"><span class="id" title="variable">Ri</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:343"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:344"><span class="id" title="variable">item</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_iff"><span class="id" title="lemma">valid_state_prop_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="keyword">is</span> <span class="id" title="var">His</span>] -&gt;] | (<span class="id" title="var">l</span> &amp; (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) &amp; <span class="id" title="var">om'</span> &amp; <span class="id" title="var">Hpt</span>)].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_spec"><span class="id" title="lemma">UMOComponent_initial_state_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">His</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">pose</span> (<span class="id" title="var">Hpt'</span> := <span class="id" title="var">Hpt</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">s</span>, <span class="id" title="var">om</span>, <span class="id" title="var">Hpt'</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_s</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="TraceableVLSM_ELMOComponent" class="idref" href="#TraceableVLSM_ELMOComponent"><span class="id" title="instance">TraceableVLSM_ELMOComponent</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.TraceableVLSM.html#TraceableVLSM"><span class="id" title="class">TraceableVLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor"><span class="id" title="definition">ELMOComponent_state_destructor</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [[| [[] ?] ?] ?] *; [<span class="id" title="tactic">inversion</span> 1 |..];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor_input_valid_transition"><span class="id" title="lemma">ELMOComponent_state_destructor_input_valid_transition</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor_initial"><span class="id" title="lemma">ELMOComponent_state_destructor_initial</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_latest_observation_Send_state" class="idref" href="#ELMO_latest_observation_Send_state"><span class="id" title="lemma">ELMO_latest_observation_Send_state</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s':345" class="idref" href="#s':345"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':345"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:346" class="idref" href="#s:346"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:347" class="idref" href="#m:347"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':345"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:346"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:347"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:346"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:347"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor_input_valid_transition"><span class="id" title="lemma">ELMOComponent_state_destructor_input_valid_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs'</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> |]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_TraceableVLSM_ELMOComponent"><span class="id" title="section">sec_TraceableVLSM_ELMOComponent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ELMO.sec_MessageDependencies_ELMOComponent" class="idref" href="#ELMO.sec_MessageDependencies_ELMOComponent"><span class="id" title="section">sec_MessageDependencies_ELMOComponent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="i:348" class="idref" href="#i:348"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ei:349" class="idref" href="#Ei:349"><span class="id" title="binder">Ei</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:348"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ri:350" class="idref" href="#Ri:350"><span class="id" title="binder">Ri</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Ei:349"><span class="id" title="variable">Ei</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cannot_resend_message_stepwise_ELMOComponent" class="idref" href="#cannot_resend_message_stepwise_ELMOComponent"><span class="id" title="lemma">cannot_resend_message_stepwise_ELMOComponent</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_MessageDependencies_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? * [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages"><span class="id" title="lemma">elem_of_sentMessages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages_addObservation"><span class="id" title="lemma">receivedMessages_addObservation</span></a>, <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MessageDependencies_ELMOComponent" class="idref" href="#MessageDependencies_ELMOComponent"><span class="id" title="instance">MessageDependencies_ELMOComponent</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="class">MessageDependencies</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_MessageDependencies_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">s'</span> ((<span class="id" title="var">s</span>, <span class="id" title="var">iom</span>) &amp; <span class="id" title="var">l</span> &amp; [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]) <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">o</span> &amp; -&gt; &amp; <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages_addObservation"><span class="id" title="lemma">elem_of_sentMessages_addObservation</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages_addObservation"><span class="id" title="lemma">elem_of_receivedMessages_addObservation</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages"><span class="id" title="lemma">elem_of_sentMessages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[] ?]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_has_trace"><span class="id" title="lemma">can_emit_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Houtput</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#can_emit_from_valid_trace"><span class="id" title="lemma">can_emit_from_valid_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_MessageDependencies_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="msg:352" class="idref" href="#msg:352"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:351"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#lift_preloaded_trace_to_seeded"><span class="id" title="lemma">lift_preloaded_trace_to_seeded</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#cannot_resend_message_stepwise_ELMOComponent"><span class="id" title="lemma">cannot_resend_message_stepwise_ELMOComponent</span></a> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> [<span class="id" title="var">Hrcv</span> <span class="id" title="var">Hnsnd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">dm</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">input</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hnsnd</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrcv'</span> : <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">dm</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">dm_item</span> &amp; <span class="id" title="var">Hdm_item</span> &amp; <span class="id" title="var">Hdm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdm_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdm_item</span> | -&gt;]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_examine_one_trace"><span class="id" title="lemma">has_been_received_examine_one_trace</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_MessageDependencies_ELMOComponent.Ei"><span class="id" title="variable">Ei</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv'</span>; <span class="id" title="var">cycle</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.sec_MessageDependencies_ELMOComponent"><span class="id" title="section">sec_MessageDependencies_ELMOComponent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ELMO.ELMOProtocol" class="idref" href="#ELMO.ELMOProtocol"><span class="id" title="section">ELMOProtocol</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a id="H9:353" class="idref" href="#H9:353"><span class="id" title="binder">Inhabited</span></a> <a id="H9:353" class="idref" href="#H9:353"><span class="id" title="binder">index</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab237"></a><h2 class="section">Protocol</h2>


<div class="paragraph"> </div>

  An ELMO protocol is defined as the constrained composition of a collection
  of ELMO components, under a composition constraint that checks that the
  weight of the globally-detectable equivocation is under the threshold.

<div class="paragraph"> </div>

<a id="lab238"></a><h3 class="section">Equivocators</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_global_equivocators" class="idref" href="#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a> (<a id="s:354" class="idref" href="#s:354"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="a:355" class="idref" href="#a:355"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:356" class="idref" href="#m:356"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:356"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:355"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="k:357" class="idref" href="#k:357"><span class="id" title="binder">k</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="l:358" class="idref" href="#l:358"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:354"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:357"><span class="id" title="variable">k</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:358"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:356"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:354"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:356"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rec_obs_exists_dec" class="idref" href="#rec_obs_exists_dec"><span class="id" title="definition">rec_obs_exists_dec</span></a><br/>
&nbsp;&nbsp;(<a id="P:359" class="idref" href="#P:359"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Observation"><span class="id" title="variable">Observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="P_dec:361" class="idref" href="#P_dec:361"><span class="id" title="binder">P_dec</span></a> : <span class="id" title="notation">forall</span> <a id="o:360" class="idref" href="#o:360"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:359"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:360"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;(<a id="s:362" class="idref" href="#s:362"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="class">Decision</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="o:363" class="idref" href="#o:363"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:362"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:363"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P:359"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:363"><span class="id" title="variable">o</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span>; <span class="id" title="keyword">fix</span> <span class="id" title="keyword">rec</span> 1; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ol</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ol</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">ob</span> <span class="id" title="var">ol</span>]<br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">specialize</span> (<span class="id" title="keyword">rec</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">IHob</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="keyword">rec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> (? &amp; <span class="id" title="var">Hrec</span> &amp; ?); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">ol</span> <span class="id" title="var">a</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <span class="id" title="var">ob</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">ol</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqs</span> <span class="id" title="var">ol</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P_dec</span> <span class="id" title="var">ob</span>) <span class="id" title="keyword">as</span> [ | <span class="id" title="var">Hnot_new</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="keyword">using</span> <span class="id" title="var">rec_obs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHol</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">Hnot_prev</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="keyword">using</span> <span class="id" title="var">rec_obs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ob</span> <span class="id" title="keyword">as</span> [[] [<span class="id" title="var">os</span>]]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHob</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hnot_recv</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="keyword">using</span> <span class="id" title="var">rec_obs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> (? &amp; <span class="id" title="var">Hrec</span> &amp; ?); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrec</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> (? &amp; <span class="id" title="var">Hrec</span> &amp; ?); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrec</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="ELMO_global_equivocators_dec" class="idref" href="#ELMO_global_equivocators_dec"><span class="id" title="instance">ELMO_global_equivocators_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="k:366" class="idref" href="#k:366"><span class="id" title="binder">k</span></a> <a id="o:367" class="idref" href="#o:367"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:364"><span class="id" title="variable">k</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:365"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:365"><span class="id" title="variable">o</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#o:365"><span class="id" title="variable">o</span></a>)))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hequ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hequ</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span> &amp; [<span class="id" title="var">l</span> <span class="id" title="var">m</span>] &amp; <span class="id" title="var">Hk</span> &amp; [<span class="id" title="var">Hadr</span> <span class="id" title="var">Hsuff</span>]); <span class="id" title="tactic">eauto</span> 6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hequ</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hadr</span> &amp; (<span class="id" title="var">k</span> &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">Hrec_obs</span>) &amp; <span class="id" title="var">Hnot_sent</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="VLSM.Core.ELMO.ELMO.html#rec_obs_exists_dec"><span class="id" title="definition">rec_obs_exists_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-cannot-define-projection".<br/>
<span class="id" title="keyword">Record</span> <a id="global_equivocators_simple" class="idref" href="#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a id="s:368" class="idref" href="#s:368"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="a:369" class="idref" href="#a:369"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="ges_m" class="idref" href="#ges_m"><span class="id" title="projection">ges_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>;<br/>
&nbsp;&nbsp;<a id="ges_adr" class="idref" href="#ges_adr"><span class="id" title="projection">ges_adr</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ges_m:371"><span class="id" title="method">ges_m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:369"><span class="id" title="variable">a</span></a>;<br/>
&nbsp;&nbsp;<a id="ges_recv" class="idref" href="#ges_recv"><span class="id" title="projection">ges_recv</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:368"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ges_m:371"><span class="id" title="method">ges_m</span></a>;<br/>
&nbsp;&nbsp;<a id="ges_not_sent" class="idref" href="#ges_not_sent"><span class="id" title="projection">ges_not_sent</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:368"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ges_m:371"><span class="id" title="method">ges_m</span></a>)<br/>
}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "cannot-define-projection".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_global_equivocation" class="idref" href="#ELMO_global_equivocation"><span class="id" title="definition">ELMO_global_equivocation</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Ca"><span class="id" title="variable">Ca</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_dec"><span class="id" title="method">is_equivocating_dec</span></a> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_dec"><span class="id" title="instance">ELMO_global_equivocators_dec</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> (<span class="id" title="definition">list_to_set</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)));<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_not_heavy" class="idref" href="#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> (1 := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocation"><span class="id" title="definition">ELMO_global_equivocation</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_equivocating_validators" class="idref" href="#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Ca"><span class="id" title="variable">Ca</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> (1 := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocation"><span class="id" title="definition">ELMO_global_equivocation</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_global_constraint" class="idref" href="#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:375" class="idref" href="#l:375"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:376" class="idref" href="#som:376"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:375"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s':378" class="idref" href="#s':378"><span class="id" title="binder">s'</span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:375"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#som:376"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':378"><span class="id" title="variable">s'</span></a><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> =&gt; <span class="id" title="notation">True</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMOProtocol" class="idref" href="#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="FreeELMO" class="idref" href="#FreeELMO"><span class="id" title="definition">FreeELMO</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>.<br/>

<br/>
</div>

<div class="doc">
  To talk about reachabile composite states for the ELMOProtocol we also name
  the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a></span> version of the <span class="inlinecode"><span class="id" title="var">free_composition</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="ReachELMO" class="idref" href="#ReachELMO"><span class="id" title="definition">ReachELMO</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#FreeELMO"><span class="id" title="definition">FreeELMO</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_ram_state_prop" class="idref" href="#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a><br/>
&nbsp;&nbsp;{<a id="message:379" class="idref" href="#message:379"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision2:380" class="idref" href="#EqDecision2:380"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision2:380" class="idref" href="#EqDecision2:380"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:381" class="idref" href="#IM:381"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#message:379"><span class="id" title="variable">message</span></a>) (<a id="s:382" class="idref" href="#s:382"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#IM:381"><span class="id" title="variable">IM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#IM:381"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:382"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_initial_state_equivocating_validators" class="idref" href="#ELMO_initial_state_equivocating_validators"><span class="id" title="lemma">ELMO_initial_state_equivocating_validators</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:383" class="idref" href="#s:383"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:383"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:383"><span class="id" title="variable">s</span></a> <span class="id" title="notation">≡</span> <span class="id" title="notation">∅</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_equiv_empty</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="tactic">intros</span> [(<span class="id" title="var">m</span> &amp; <span class="id" title="var">_</span> &amp; [(<span class="id" title="var">k</span> &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">Hobs</span>) <span class="id" title="var">_</span>]) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">k</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_spec"><span class="id" title="lemma">UMOComponent_initial_state_spec</span></a>, <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hobs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_initial_state_not_heavy" class="idref" href="#ELMO_initial_state_not_heavy"><span class="id" title="lemma">ELMO_initial_state_not_heavy</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:384" class="idref" href="#s:384"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:384"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:384"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> 0%<span class="id" title="var">R</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.RIneq.html#Rge_le"><span class="id" title="lemma">Rge_le</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a>; <span class="id" title="tactic">replace</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elements_empty_iff</span>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_initial_state_equivocating_validators"><span class="id" title="lemma">ELMO_initial_state_equivocating_validators</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_not_heavy_send_message" class="idref" href="#ELMO_not_heavy_send_message"><span class="id" title="lemma">ELMO_not_heavy_send_message</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="sigma:385" class="idref" href="#sigma:385"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="i:386" class="idref" href="#i:386"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:385"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:385"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:386"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:385"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:386"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:385"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:386"><span class="id" title="variable">i</span></a>)))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>; <span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [(<span class="id" title="var">msg</span> &amp; ? &amp; (<span class="id" title="var">k</span> &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">Hmsh</span>) &amp; <span class="id" title="var">Hnsent</span>) <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>, <span class="id" title="var">l</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmsh</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">contradict</span> <span class="id" title="var">Hnsent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">left</span> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">Hnsent</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [<span class="id" title="tactic">right</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_not_heavy_receive_observed_message" class="idref" href="#ELMO_not_heavy_receive_observed_message"><span class="id" title="lemma">ELMO_not_heavy_receive_observed_message</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="sigma:387" class="idref" href="#sigma:387"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="m:388" class="idref" href="#m:388"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="i:389" class="idref" href="#i:389"><span class="id" title="binder">i</span></a> <a id="i_m:390" class="idref" href="#i_m:390"><span class="id" title="binder">i_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:387"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:390"><span class="id" title="variable">i_m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:390"><span class="id" title="variable">i_m</span></a>) (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:387"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:390"><span class="id" title="variable">i_m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:388"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:387"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:387"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:389"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:387"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:389"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:388"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hfull</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>; <span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [(<span class="id" title="var">msg</span> &amp; ? &amp; (<span class="id" title="var">k</span> &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">Hmsh</span>) &amp; <span class="id" title="var">Hnsent</span>) <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">Hnsent</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.MO.html#rec_obs_addObservation_iff"><span class="id" title="lemma">rec_obs_addObservation_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsh</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprev</span> | <span class="id" title="var">Hmsh</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsh</span> <span class="id" title="keyword">as</span> [[= <span class="id" title="var">_</span> -&gt;] | [<span class="id" title="var">_</span> <span class="id" title="var">Hmsh</span>]]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#messages_hb_transitive"><span class="id" title="lemma">messages_hb_transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#happensBefore_msg_dep"><span class="id" title="lemma">happensBefore_msg_dep</span></a>, <a class="idref" href="VLSM.Core.FinSetMessageDependencies.html#fin_set_full_message_dependencies_happens_before"><span class="id" title="method">fin_set_full_message_dependencies_happens_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_rec_obs_fn_1"><span class="id" title="lemma">elem_of_rec_obs_fn_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_map</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_valid_state_not_heavy" class="idref" href="#ELMO_valid_state_not_heavy"><span class="id" title="lemma">ELMO_valid_state_not_heavy</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:391" class="idref" href="#s:391"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:391"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:391"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_initial_state_not_heavy"><span class="id" title="lemma">ELMO_initial_state_not_heavy</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> []];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy_send_message"><span class="id" title="lemma">ELMO_not_heavy_send_message</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ELMO_state_to_minimal_equivocation_trace" class="idref" href="#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a><br/>
&nbsp;&nbsp;(<a id="s:392" class="idref" href="#s:392"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="Hs:393" class="idref" href="#Hs:393"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:392"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.TraceableVLSM.MinimalEquivocationTrace.html#state_to_minimal_equivocation_trace"><span class="id" title="definition">state_to_minimal_equivocation_trace</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_state_destructor"><span class="id" title="definition">ELMOComponent_state_destructor</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:392"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs:393"><span class="id" title="variable">Hs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_state_to_minimal_equivocation_trace_reachable" class="idref" href="#ELMO_state_to_minimal_equivocation_trace_reachable"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_reachable</span></a><br/>
&nbsp;&nbsp;(<a id="s:394" class="idref" href="#s:394"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="Hs:395" class="idref" href="#Hs:395"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:394"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:396" class="idref" href="#is:396"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="tr:397" class="idref" href="#tr:397"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:394"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs:395"><span class="id" title="variable">Hs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:396"><span class="id" title="variable">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:397"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:396"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:394"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:397"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.TraceableVLSM.html#reachable_composite_state_to_trace"><span class="id" title="lemma">reachable_composite_state_to_trace</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.TraceableVLSM.MinimalEquivocationTrace.html#minimal_equivocation_choice_is_choosing_well"><span class="id" title="lemma">minimal_equivocation_choice_is_choosing_well</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_has_been_directly_observed_sizeState" class="idref" href="#ELMO_has_been_directly_observed_sizeState"><span class="id" title="lemma">ELMO_has_been_directly_observed_sizeState</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:398" class="idref" href="#i:398"><span class="id" title="binder">i</span></a> <a id="si:399" class="idref" href="#si:399"><span class="id" title="binder">si</span></a> <a id="m:400" class="idref" href="#m:400"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:398"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:399"><span class="id" title="variable">si</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:400"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:400"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:399"><span class="id" title="variable">si</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hreceived</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_sentMessages"><span class="id" title="lemma">elem_of_sentMessages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceived</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_composite_observed_before_send_sizeState_Proper" class="idref" href="#ELMO_composite_observed_before_send_sizeState_Proper"><span class="id" title="lemma">ELMO_composite_observed_before_send_sizeState_Proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send_iff"><span class="id" title="lemma">composite_observed_before_send_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxy</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">si</span> &amp; <span class="id" title="var">itemi</span> &amp; [[(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">Hy</span> <span class="id" title="var">Hobsxitem</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">itemi</span>, <span class="id" title="var">l</span>, <span class="id" title="var">input</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hobsxitem</span> <span class="id" title="keyword">as</span> [? ? ? <span class="id" title="var">Hobsx</span> | |]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hobsxitem</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hobsx</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_has_been_directly_observed_sizeState"><span class="id" title="lemma">ELMO_has_been_directly_observed_sizeState</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_has_been_directly_observed_sizeState"><span class="id" title="lemma">ELMO_has_been_directly_observed_sizeState</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_full_dependencies_sizeState"><span class="id" title="lemma">Message_full_dependencies_sizeState</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.FinSetMessageDependencies.html#fin_set_full_message_dependencies_happens_before"><span class="id" title="method">fin_set_full_message_dependencies_happens_before</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="ELMOComponent_tc_composite_observed_before_send_irreflexive" class="idref" href="#ELMOComponent_tc_composite_observed_before_send_irreflexive"><span class="id" title="instance">ELMOComponent_tc_composite_observed_before_send_irreflexive</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.RelationClasses.html#Irreflexive"><span class="id" title="class">Irreflexive</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#tc_composite_observed_before_send"><span class="id" title="definition">tc_composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#Proper_reflects_Irreflexive"><span class="id" title="lemma">Proper_reflects_Irreflexive</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">(&lt;)</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#Proper_tc"><span class="id" title="lemma">Proper_tc</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_composite_observed_before_send_sizeState_Proper"><span class="id" title="lemma">ELMO_composite_observed_before_send_sizeState_Proper</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_channel_authentication_prop" class="idref" href="#ELMO_channel_authentication_prop"><span class="id" title="lemma">ELMO_channel_authentication_prop</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMO_A"><span class="id" title="definition">ELMO_A</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a>) <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> ((<span class="id" title="var">s</span>, []) &amp; [] &amp; <span class="id" title="var">s'</span> &amp; [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMO_A_inv"><span class="id" title="lemma">ELMO_A_inv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_state_to_minimal_equivocation_trace_equivocation_monotonic" class="idref" href="#ELMO_state_to_minimal_equivocation_trace_equivocation_monotonic"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_equivocation_monotonic</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:401" class="idref" href="#s:401"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="Hs:402" class="idref" href="#Hs:402"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:401"><span class="id" title="variable">s</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="is:403" class="idref" href="#is:403"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="tr:404" class="idref" href="#tr:404"><span class="id" title="binder">tr</span></a> :<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:401"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs:402"><span class="id" title="variable">Hs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:403"><span class="id" title="variable">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:404"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="pre:405" class="idref" href="#pre:405"><span class="id" title="binder">pre</span></a> <a id="suf:406" class="idref" href="#suf:406"><span class="id" title="binder">suf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="item:407" class="idref" href="#item:407"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:404"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#pre:405"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:407"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#suf:406"><span class="id" title="variable">suf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="v:408" class="idref" href="#v:408"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:403"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#pre:405"><span class="id" title="variable">pre</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:408"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:407"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#v:408"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.TraceableVLSM.MinimalEquivocationTrace.html#state_to_minimal_equivocation_trace_equivocation_monotonic"><span class="id" title="lemma">state_to_minimal_equivocation_trace_equivocation_monotonic</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#MessageDependencies_ELMOComponent"><span class="id" title="instance">MessageDependencies_ELMOComponent</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_channel_authentication_prop"><span class="id" title="lemma">ELMO_channel_authentication_prop</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The shallow and deeper version of <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#global_equivocators"><span class="id" title="record">global_equivocators</span></a></span> agree on
    states which are reachable in <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_global_equivocators_iff_simple" class="idref" href="#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:409" class="idref" href="#s:409"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="a:410" class="idref" href="#a:410"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:409"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:409"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:410"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:409"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:410"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">forall</span> <a id="k:412" class="idref" href="#k:412"><span class="id" title="binder">k</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:411"><span class="id" title="variable">k</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hequiv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hequiv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hadr</span> &amp; (<span class="id" title="var">k</span> &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">Hrobs</span>) &amp; <span class="id" title="var">Hnot_sent</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>;[| <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">contradict</span> <span class="id" title="var">Hnot_sent</span> |]; <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hequiv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hadr</span> [<span class="id" title="var">i_rec</span> <span class="id" title="var">Hrecv</span>] <span class="id" title="var">Hnot_sent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>;<span class="id" title="tactic">split</span>;[<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i_rec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#received_in_messages"><span class="id" title="lemma">received_in_messages</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
   <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a></span> is equivalent to an instance
   of the generic definition <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating"><span class="id" title="definition">full_node_is_globally_equivocating</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="global_equivocators_simple_iff_full_node_equivocation" class="idref" href="#global_equivocators_simple_iff_full_node_equivocation"><span class="id" title="lemma">global_equivocators_simple_iff_full_node_equivocation</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:413" class="idref" href="#s:413"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="a:414" class="idref" href="#a:414"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating"><span class="id" title="definition">full_node_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:413"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:414"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:413"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:414"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [? [?%<span class="id" title="instance">Some_inj</span>]]; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [? &lt;- ]; <span class="id" title="tactic">econstructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a></span> can be related to
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a></span>,
  but the proof is more complicated because
  it also needs to translate between <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a></span>
  and <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a></span>

<div class="paragraph"> </div>

  We use a <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a></span> hypothesis so we can convert
  through claims about <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">∈</span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a></span> <span class="inlinecode">(<a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> <span class="inlinecode"><span class="id" title="var">k</span>)</span> rather
  than directly relating <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a></span> and
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a></span>.
 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

  It might be possible to use something weaker than <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a></span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a></span>
  to prove
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a></span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a></span> <span class="inlinecode">(<span class="id" title="definition">elements</span></span> <span class="inlinecode">∘</span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>)</span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span></span>
  <span class="inlinecode">&lt;-&gt;</span> <span class="inlinecode">∃</span> <span class="inlinecode">(<span class="id" title="var">k</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">index</span>)</span> <span class="inlinecode">(<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#label"><span class="id" title="projection">label</span></a>),</span> <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a></span> <span class="inlinecode">(<a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> <span class="inlinecode"><span class="id" title="var">k</span>)</span> <span class="inlinecode">(<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a></span> <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span>)</span>
  but <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a></span> can recurse into sent or received messages
  and <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a></span> only into received messages so we need some deep structural
  assumption about what <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a></span> observations are allowed, even recursively
  within observations of observations.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ELMO_CHBO_in_messages" class="idref" href="#ELMO_CHBO_in_messages"><span class="id" title="lemma">ELMO_CHBO_in_messages</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:415" class="idref" href="#s:415"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="k:416" class="idref" href="#k:416"><span class="id" title="binder">k</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:415"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:416"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:417" class="idref" href="#m:417"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:415"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:417"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">(</span></a><a id="k:418" class="idref" href="#k:418"><span class="id" title="binder">k</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:417"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:415"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:418"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hobs</span>|<span class="id" title="var">m'</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hdepth</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hobs</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">m'</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">m</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.:::x_'&lt;hb'_x"><span class="id" title="notation">hb</span></a> <span class="id" title="var">m'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#messages_hb_transitive"><span class="id" title="lemma">messages_hb_transitive</span></a>;<span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hdepth</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">tc_congruence</span> (<span class="id" title="keyword">fun</span> <a id="m:420" class="idref" href="#m:420"><span class="id" title="binder">m</span></a>=&gt;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:419"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#immediate_dependency"><span class="id" title="definition">immediate_dependency</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hdep</span>; <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>, <span class="id" title="lemma">elem_of_list_to_set</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdep</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hm</span>%<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_global_equivocators_iff_msg_dep_equivocation" class="idref" href="#ELMO_global_equivocators_iff_msg_dep_equivocation"><span class="id" title="lemma">ELMO_global_equivocators_iff_msg_dep_equivocation</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:421" class="idref" href="#s:421"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="a:422" class="idref" href="#a:422"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:421"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:421"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:422"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">elements</span> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>) <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:421"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:422"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.Morphisms_Prop.html#ex_iff_morphism"><span class="id" title="instance">Morphisms_Prop.ex_iff_morphism</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">forall</span> <a id="k:424" class="idref" href="#k:424"><span class="id" title="binder">k</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node"><span class="id" title="definition">full_node</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#k:423"><span class="id" title="variable">k</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded_to_preloaded"><span class="id" title="lemma">valid_state_project_preloaded_to_preloaded</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>;[| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_CHBO_in_messages"><span class="id" title="lemma">ELMO_CHBO_in_messages</span></a>;[| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;firstorder&nbsp;works&nbsp;here&nbsp;but&nbsp;is&nbsp;slow&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">cbv</span>; <span class="id" title="tactic">f_equal</span> | .. | <span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> |]; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_global_equivocators_iff_simple_by_generic" class="idref" href="#ELMO_global_equivocators_iff_simple_by_generic"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple_by_generic</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:425" class="idref" href="#s:425"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="a:426" class="idref" href="#a:426"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:425"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators"><span class="id" title="definition">ELMO_global_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:425"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:426"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:425"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:426"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_msg_dep_equivocation"><span class="id" title="lemma">ELMO_global_equivocators_iff_msg_dep_equivocation</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_iff_full_node_equivocation"><span class="id" title="lemma">global_equivocators_simple_iff_full_node_equivocation</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_message_dependencies_full_node_condition"><span class="id" title="lemma">ELMOComponent_message_dependencies_full_node_condition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating_iff"><span class="id" title="lemma">full_node_is_globally_equivocating_iff</span></a>;[| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> is a reachable state in E where the state of component <span class="inlinecode"><span class="id" title="var">i</span></span> has the form <span class="inlinecode"><span class="id" title="var">si'</span></span> <span class="inlinecode">&lt;+&gt;</span> <span class="inlinecode">(<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>,</span> <span class="inlinecode"><span class="id" title="var">m</span>)</span>,
  let <span class="inlinecode"><span class="id" title="var">s'</span></span> be the composite state which has component <span class="inlinecode"><span class="id" title="var">i</span></span> equal to <span class="inlinecode"><span class="id" title="var">si'</span></span> and the other components
  the same as those of <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span>. If all global equivocators of <span class="inlinecode"><span class="id" title="var">s'</span></span> are also
  global equivocators in <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> then <span class="inlinecode"><span class="id" title="var">s'</span></span> is also reachable in E and also
  it is a valid transition in E to go from <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> to <span class="inlinecode"><span class="id" title="var">s'</span></span> with
  label <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a></span> from the new observation and either sending or receiving <span class="inlinecode"><span class="id" title="var">m</span></span>
  as <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a></span> says.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_state_to_minimal_equivocation_equivocating_validators" class="idref" href="#ELMO_state_to_minimal_equivocation_equivocating_validators"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_equivocating_validators</span></a><br/>
&nbsp;&nbsp;(<a id="s:427" class="idref" href="#s:427"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs_pre:428" class="idref" href="#Hs_pre:428"><span class="id" title="binder">Hs_pre</span></a> :  <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:427"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:429" class="idref" href="#is:429"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:430" class="idref" href="#tr:430"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>))<br/>
&nbsp;&nbsp;(<a id="Heqtr_min:431" class="idref" href="#Heqtr_min:431"><span class="id" title="binder">Heqtr_min</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs_pre:428"><span class="id" title="variable">Hs_pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:429"><span class="id" title="variable">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:430"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:432" class="idref" href="#item:432"><span class="id" title="binder">item</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:432"><span class="id" title="variable">item</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:427"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:430"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace_equivocation_monotonic"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_equivocation_monotonic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqtr_min</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace_reachable"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_reachable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqtr_min</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr_min</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtr_min</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_min</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_singleton</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_origin"><span class="id" title="lemma">input_valid_transition_origin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr_min</span>; [| <span class="id" title="tactic">intros</span> * -&gt;; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hall</span>; <span class="id" title="var">simplify_list_eq</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#filter_subprop"><span class="id" title="lemma">filter_subprop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_msg_dep_equivocation"><span class="id" title="lemma">ELMO_global_equivocators_iff_msg_dep_equivocation</span></a>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_min</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_state_to_minimal_equivocation_trace_valid" class="idref" href="#ELMO_state_to_minimal_equivocation_trace_valid"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_valid</span></a><br/>
&nbsp;&nbsp;(<a id="s:433" class="idref" href="#s:433"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:434" class="idref" href="#Hs:434"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:433"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs_pre:435" class="idref" href="#Hs_pre:435"><span class="id" title="binder">Hs_pre</span></a> := <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs:434"><span class="id" title="variable">Hs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:433"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:436" class="idref" href="#is:436"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:437" class="idref" href="#tr:437"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:433"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#Hs_pre:435"><span class="id" title="variable">Hs_pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:436"><span class="id" title="variable">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:437"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#is:436"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:433"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr:437"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heqtr_min</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_not_heavy</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:439" class="idref" href="#item:439"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:438"><span class="id" title="variable">item</span></a>)) <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_equivocating_validators"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_equivocating_validators</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqtr_min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_valid_state_not_heavy"><span class="id" title="lemma">ELMO_valid_state_not_heavy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hheavy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace_reachable"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_reachable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqtr_min</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr_min</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtr_min</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_input_valid</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:442" class="idref" href="#item:442"><span class="id" title="binder">item</span></a> =&gt; <span class="id" title="notation">forall</span> <a id="m:443" class="idref" href="#m:443"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:440"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:441"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:441"><span class="id" title="variable">m</span></a>) <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">m</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_valid"><span class="id" title="lemma">directly_observed_valid</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.EquivocationProjections.html#VLSM_incl_has_been_directly_observed_reflect"><span class="id" title="lemma">EquivocationProjections.VLSM_incl_has_been_directly_observed_reflect</span></a>; <span class="id" title="var">cycle</span> 3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#preloaded_constraint_free_incl"><span class="id" title="lemma">preloaded_constraint_free_incl</span></a> |..| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">generalize</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>, <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_examine_one_trace"><span class="id" title="lemma">has_been_directly_observed_examine_one_trace</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr_min</span> <span class="id" title="var">Hall_input_valid</span> <span class="id" title="var">Hall_not_heavy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_min</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">rapply</span> @<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_empty"><span class="id" title="constructor">finite_valid_trace_from_to_empty</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">Forall_app</span>, !<span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_not_heavy</span>, <span class="id" title="var">Hall_input_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall_not_heavy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_not_heavy</span> <span class="id" title="var">Hsf_not_heavy</span>],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hall_input_valid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_input_valid</span> <span class="id" title="var">Hmsg_valid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHHtr_min</span> <span class="id" title="var">Hall_not_heavy</span> <span class="id" title="var">Hall_input_valid</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IHHtr</span> <span class="id" title="var">_</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hall_not_heavy</span> <span class="id" title="var">Hall_input_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr_min</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htr_min</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">IHHtr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs_pre</span> &amp; <span class="id" title="var">_</span> &amp; [<span class="id" title="var">Hv</span> <span class="id" title="var">_</span>]) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| | <span class="id" title="var">done</span> | | <span class="id" title="var">done</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsg_valid</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> []]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sf</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab239"></a><h3 class="section">Validators</h3>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  Due to the validity predicate, a transition must have either a non-empty
  input or a non-empty output, the distinction being made by the label.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="ELMOProtocolValidTransition" class="idref" href="#ELMOProtocolValidTransition"><span class="id" title="inductive">ELMOProtocolValidTransition</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ep_valid_receive" class="idref" href="#ep_valid_receive"><span class="id" title="constructor">ep_valid_receive</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:446" class="idref" href="#i:446"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="s1:447" class="idref" href="#s1:447"><span class="id" title="binder">s1</span></a> <a id="s2:448" class="idref" href="#s2:448"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="m:449" class="idref" href="#m:449"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#ValidTransition"><span class="id" title="record">ValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:446"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:447"><span class="id" title="variable">s1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:449"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:448"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocolValidTransition:444"><span class="id" title="inductive">ELMOProtocolValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:446"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:447"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:448"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:449"><span class="id" title="variable">m</span></a><br/>
| <a id="ep_valid_send" class="idref" href="#ep_valid_send"><span class="id" title="constructor">ep_valid_send</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:450" class="idref" href="#i:450"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="s1:451" class="idref" href="#s1:451"><span class="id" title="binder">s1</span></a> <a id="s2:452" class="idref" href="#s2:452"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="m:453" class="idref" href="#m:453"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#ValidTransition"><span class="id" title="record">ValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:450"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:451"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:452"><span class="id" title="variable">s2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:453"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocolValidTransition:444"><span class="id" title="inductive">ELMOProtocolValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:450"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:451"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:452"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:453"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="local_equivocators_full_step_update" class="idref" href="#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a><br/>
&nbsp;&nbsp;(<a id="i:454" class="idref" href="#i:454"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="l:455" class="idref" href="#l:455"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s1:456" class="idref" href="#s1:456"><span class="id" title="binder">s1</span></a> <a id="s2:457" class="idref" href="#s2:457"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:458" class="idref" href="#m:458"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:454"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:455"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:456"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:457"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:458"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:459" class="idref" href="#a:459"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s2:457"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:459"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:456"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:459"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:459"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:458"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:455"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m':460" class="idref" href="#m':460"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':460"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s1:456"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:458"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':460"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [? ? ? [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>] | ? ? ? [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_alt"><span class="id" title="lemma">lefo_alt</span></a>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_equivocators_simple_step_update_send" class="idref" href="#global_equivocators_simple_step_update_send"><span class="id" title="lemma">global_equivocators_simple_step_update_send</span></a><br/>
&nbsp;&nbsp;(<a id="i:461" class="idref" href="#i:461"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:462" class="idref" href="#sigma:462"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':463" class="idref" href="#s':463"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:464" class="idref" href="#m:464"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:461"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:462"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:461"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':463"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:464"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:465" class="idref" href="#a:465"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:462"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:461"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':463"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:465"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:462"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:465"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [| ? ? ? [(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> [<span class="id" title="var">ges_m</span> <span class="id" title="var">ges_adr</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrcv</span>] <span class="id" title="var">ges_not_sent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>[<span class="id" title="var">k</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_equivocators_simple_step_update_send_iff" class="idref" href="#global_equivocators_simple_step_update_send_iff"><span class="id" title="lemma">global_equivocators_simple_step_update_send_iff</span></a><br/>
&nbsp;&nbsp;(<a id="i:466" class="idref" href="#i:466"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:467" class="idref" href="#sigma:467"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':468" class="idref" href="#s':468"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:469" class="idref" href="#m:469"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:466"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:467"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:466"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':468"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:469"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:467"><span class="id" title="variable">sigma</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:466"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:470" class="idref" href="#a:470"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:467"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:466"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':468"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:470"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:467"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:470"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hneqvi</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_send"><span class="id" title="lemma">global_equivocators_simple_step_update_send</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [| ? ? ? [(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ges_m</span> <span class="id" title="var">ges_adr</span> <span class="id" title="var">ges_recv</span> <span class="id" title="var">ges_not_sent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ges_recv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrcv</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">subst</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_equivocators_simple_step_update_receive" class="idref" href="#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a><br/>
&nbsp;&nbsp;(<a id="i:471" class="idref" href="#i:471"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:472" class="idref" href="#sigma:472"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':473" class="idref" href="#s':473"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:474" class="idref" href="#m:474"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:471"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:472"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:471"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':473"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:474"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:475" class="idref" href="#a:475"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:472"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:471"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':473"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:475"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:472"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:475"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:475"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:474"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:472"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:474"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>] |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hvi</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">ges_m</span> <span class="id" title="var">ges_adr</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrcv</span>] <span class="id" title="var">ges_not_sent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrcv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">ges_m</span> <span class="id" title="var">ges_adr</span> <span class="id" title="var">ges_recv</span> <span class="id" title="var">ges_not_sent</span>] | [-&gt; <span class="id" title="var">Hnsnd</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">ges_recv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrcv</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnsnd</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_equivocators_simple_step_update_receive_already_observed" class="idref" href="#global_equivocators_simple_step_update_receive_already_observed"><span class="id" title="lemma">global_equivocators_simple_step_update_receive_already_observed</span></a><br/>
&nbsp;&nbsp;(<a id="i:476" class="idref" href="#i:476"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:477" class="idref" href="#sigma:477"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':478" class="idref" href="#s':478"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:479" class="idref" href="#m:479"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:477"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:476"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:477"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:476"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':478"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:479"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:477"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:479"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:480" class="idref" href="#a:480"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:477"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:476"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':478"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:480"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:477"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:480"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigma</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>]; <span class="id" title="tactic">intros</span> [| [-&gt; <span class="id" title="var">Hnsend</span>]]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hobs</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#full_node_messages_iff_rec_obs"><span class="id" title="lemma">full_node_messages_iff_rec_obs</span></a>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded_to_preloaded"><span class="id" title="lemma">valid_state_project_preloaded_to_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_equivocating_validators_step_update_Send" class="idref" href="#ELMO_equivocating_validators_step_update_Send"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Send</span></a><br/>
&nbsp;&nbsp;(<a id="i:481" class="idref" href="#i:481"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:482" class="idref" href="#sigma:482"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':483" class="idref" href="#s':483"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:484" class="idref" href="#m:484"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:482"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:481"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:482"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:481"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':483"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:484"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:482"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:481"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':483"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:482"><span class="id" title="variable">sigma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigma</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hte</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [| ? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hte</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heqv</span>]; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_send"><span class="id" title="lemma">global_equivocators_simple_step_update_send</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_equivocating_validators_step_update_Receive" class="idref" href="#ELMO_equivocating_validators_step_update_Receive"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Receive</span></a><br/>
&nbsp;&nbsp;(<a id="i:485" class="idref" href="#i:485"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:486" class="idref" href="#sigma:486"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':487" class="idref" href="#s':487"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:488" class="idref" href="#m:488"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:486"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:485"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:486"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:485"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':487"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:488"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:486"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:485"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':487"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:486"><span class="id" title="variable">sigma</span></a> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:488"><span class="id" title="variable">m</span></a>)<span class="id" title="notation">]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigma</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hte</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>] |]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hte</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="method">elem_of_singleton</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heqv</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqv</span> | []];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span> | <span class="id" title="tactic">right</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_equivocating_validators_step_update_Receive_already_Observed" class="idref" href="#ELMO_equivocating_validators_step_update_Receive_already_Observed"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Receive_already_Observed</span></a><br/>
&nbsp;&nbsp;(<a id="i:489" class="idref" href="#i:489"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:490" class="idref" href="#sigma:490"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':491" class="idref" href="#s':491"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:492" class="idref" href="#m:492"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:490"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:490"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:492"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:489"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:490"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:489"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':491"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:492"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:490"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:489"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':491"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:490"><span class="id" title="variable">sigma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigma</span> <span class="id" title="var">Hsent</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hte</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>] |]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hte</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_filter</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heqv</span>]; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive_already_observed"><span class="id" title="lemma">global_equivocators_simple_step_update_receive_already_observed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The following lemmas build towards proving that ELMO components are validating
  for the ELMO protocol.

<div class="paragraph"> </div>

  If the state <code>s</code> is valid in the ELMO protocol, and <code>s</code> can take a valid transition
  involving a message <code>m</code>, then <code>m</code> is a valid message in the ELMO protocol.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_update_state_with_initial" class="idref" href="#ELMO_update_state_with_initial"><span class="id" title="lemma">ELMO_update_state_with_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s:493" class="idref" href="#s:493"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:494" class="idref" href="#Hs:494"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:493"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:495" class="idref" href="#i:495"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Heqv:496" class="idref" href="#Heqv:496"><span class="id" title="binder">Heqv</span></a> : (<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:493"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:495"><span class="id" title="variable">i</span></a><span class="id" title="notation">]}</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">`</span><a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;(<a id="si:497" class="idref" href="#si:497"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsi:498" class="idref" href="#Hsi:498"><span class="id" title="binder">Hsi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:495"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:497"><span class="id" title="variable">si</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:493"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:495"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:497"><span class="id" title="variable">si</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:493"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:495"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:497"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:493"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:495"><span class="id" title="variable">i</span></a><span class="id" title="notation">]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hincl</span> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_min</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace_valid"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_trace_valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_min</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_trace"><span class="id" title="definition">ELMO_state_to_minimal_equivocation_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">is_min</span> <span class="id" title="var">tr_min</span>] <span class="id" title="var">eqn</span>: <span class="id" title="var">Heqtr_min</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htr_min</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_state_to_minimal_equivocation_equivocating_validators"><span class="id" title="lemma">ELMO_state_to_minimal_equivocation_equivocating_validators</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqtr_min</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Heqtr_min</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s_eqvs</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">s_eqvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_min</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hsi0</span> <span class="id" title="var">i</span>), <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_initial_state_equivocating_validators"><span class="id" title="lemma">ELMO_initial_state_equivocating_validators</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">empty_subseteq</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_app</span>, <span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall</span> <span class="id" title="var">Hsf_eqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHHtr_min</span> <span class="id" title="var">Hall</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsisi</span> <span class="id" title="var">Heqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_origin"><span class="id" title="lemma">input_valid_transition_origin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">Hsf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">lj</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; [<span class="id" title="var">Hv</span> <span class="id" title="var">_</span>]) <span class="id" title="var">Ht</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ht_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ht'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_transition"><span class="id" title="definition">UMOComponent_transition</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice_neq"><span class="id" title="lemma">state_update_twice_neq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span>) <span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <span class="id" title="var">sf</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span><span class="id" title="notation">]}</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hsfisi_eqvs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsfisi_eqvs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span>) <span class="id" title="notation">⊆</span> <span class="id" title="var">s_eqvs</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span><span class="id" title="notation">]}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq_l'</span> | <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq_r'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lj</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>; <span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsfisi_eqvs</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_min</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr_min_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsisi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsisi_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a> <span class="id" title="var">si0</span> <span class="id" title="var">sf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>@<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span>) <span class="id" title="var">iom</span> <span class="id" title="var">sf</span> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr_min</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from"><span class="id" title="lemma">extend_right_finite_trace_from</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <span class="id" title="var">Htr_min_pre</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">s</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_min</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre_tisi</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |..| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_tisi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_sfisi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="method">elem_of_singleton</span>, !<span class="id" title="lemma">elem_of_filter</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">ges_m</span> <span class="id" title="var">ges_adr</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hrcv</span>] <span class="id" title="var">ges_not_sent</span>] <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i</span>); [<span class="id" title="tactic">intros</span> -&gt; |]; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span>; <span class="id" title="tactic">replace</span> <span class="id" title="var">si</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hrcv</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">ges_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span>; [| <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i_a</span> &amp; -&gt; &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">ges_not_sent</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_sender_safety"><span class="id" title="lemma">channel_authentication_sender_safety</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_channel_authentication_prop"><span class="id" title="lemma">ELMO_channel_authentication_prop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ges_adr</span>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ELMO_A_inv"><span class="id" title="lemma">ELMO_A_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ges_not_sent</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i_a</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ELMO_valid_states_only_receive_valid_messages" class="idref" href="#ELMO_valid_states_only_receive_valid_messages"><span class="id" title="lemma">ELMO_valid_states_only_receive_valid_messages</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:499" class="idref" href="#s:499"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:499"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:500" class="idref" href="#i:500"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="l:501" class="idref" href="#l:501"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="s':502" class="idref" href="#s':502"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="m:503" class="idref" href="#m:503"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocolValidTransition"><span class="id" title="inductive">ELMOProtocolValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:500"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:501"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:499"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':502"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:503"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:503"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">s'</span> <span class="id" title="var">m</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [? ? ? ? <span class="id" title="var">Hreceive</span> | ? ? ? ? <span class="id" title="var">Hsend</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid"><span class="id" title="lemma">emitted_messages_are_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>), <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsend</span>..].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hincl</span> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ReachELMO"><span class="id" title="definition">ReachELMO</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hnsnd</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_sent_valid"><span class="id" title="lemma">composite_sent_valid</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreceive</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>] <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? <span class="id" title="var">Hrcv</span> |]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm_eqv</span> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">s'</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">i_m</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnsnd</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hs'_eqv</span> : <span class="id" title="notation">forall</span> <a id="a:505" class="idref" href="#a:505"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">s'</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:504"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:504"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:504"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">m</span>); [<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hs_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hs'</span> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_iff"><span class="id" title="lemma">valid_state_prop_iff</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> |..].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H_rcv</span> := <span class="id" title="var">Hrcv</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">H_rcv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full_has_sender"><span class="id" title="lemma">ELMO_msg_valid_full_has_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ELMO_mv_msg_valid_full0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsender</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i_m</span> <span class="id" title="var">Hsender</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heqv</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span><span class="id" title="notation">]}</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">`</span><a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>, <span class="id" title="method">elem_of_union</span>, <span class="id" title="method">elem_of_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[] |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>]; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>, <span class="id" title="var">Hs'_eqv</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">His</span> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i_m</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span>))) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_update_state_with_initial"><span class="id" title="lemma">ELMO_update_state_with_initial</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqv</span> <span class="id" title="var">_</span> <span class="id" title="var">His</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsimis</span> <span class="id" title="var">Hsimis_eqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsi_pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">m</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hm</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receivable_messages_reachable"><span class="id" title="lemma">receivable_messages_reachable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Hsi_pre</span> <span class="id" title="var">Hrcv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">is_m</span> &amp; <span class="id" title="var">tr_m</span> &amp; <span class="id" title="var">Htr_m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_messages_observed</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:508" class="idref" href="#item:508"><span class="id" title="binder">item</span></a> =&gt; <span class="id" title="notation">forall</span> <a id="m:509" class="idref" href="#m:509"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:507"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:506"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:507"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="var">tr_m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i_m</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">dm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_examine_one_trace"><span class="id" title="lemma">has_been_directly_observed_examine_one_trace</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_messages_valid</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:512" class="idref" href="#item:512"><span class="id" title="binder">item</span></a> =&gt; <span class="id" title="notation">forall</span> <a id="m:513" class="idref" href="#m:513"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:511"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:510"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:511"><span class="id" title="variable">m</span></a>) <span class="id" title="var">tr_m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hall_messages_observed</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_valid"><span class="id" title="lemma">directly_observed_valid</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hobs</span>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>]; <span class="id" title="tactic">eexists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heqis_m</span> : <span class="id" title="var">is_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">is_m</span>, <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> []]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_bounded_eqv</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:515" class="idref" href="#item:515"><span class="id" title="binder">item</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:514"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span><span class="id" title="notation">]}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">tr_m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall_reachable</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:517" class="idref" href="#item:517"><span class="id" title="binder">item</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:516"><span class="id" title="variable">item</span></a>))) (<span class="id" title="var">is_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">tr_m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> <span class="id" title="var">Hincl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsimis</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsimis_pre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr_m</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_weak_full_projection_finite_valid_trace_from_to"><span class="id" title="definition">VLSM_weak_full_projection_finite_valid_trace_from_to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_preloaded_free_weak_full_projection"><span class="id" title="lemma">lift_to_preloaded_free_weak_full_projection</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i_m</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs_pre</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hd</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">item</span> &amp; -&gt; &amp; <span class="id" title="var">Hitem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">pre</span> &amp; <span class="id" title="var">suf</span> &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#elem_of_trace_in_futures_left"><span class="id" title="lemma">elem_of_trace_in_futures_left</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_fst"><span class="id" title="lemma">in_futures_valid_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqis_m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsimis_eqvs</span>, <span class="id" title="var">Hsimis</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">state_m</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsender</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsimis_eqvs</span> |- *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqstate_m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsender</span>, <span class="id" title="var">Hsimis_eqvs</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr_m</span> <span class="id" title="var">Hsimis_eqvs</span> <span class="id" title="var">Hall_reachable</span> <span class="id" title="var">Hall_messages_observed</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hs_pre</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_reachable</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_reachable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_reachable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_reachable</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_reachable</span> <span class="id" title="var">Hsf_reachable</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsf_reachable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_messages_observed</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_messages_observed</span> <span class="id" title="var">Hlast_obs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast_obs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr_m</span> <span class="id" title="var">Hsimis_eqvs</span> <span class="id" title="var">Hall_messages_observed</span> <span class="id" title="var">Hall_reachable</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsis0_pre</span> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_reachable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hall_reachable</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">last_Some_elem_of</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Lib.StdppExtras.html#last_last_error"><span class="id" title="lemma">StdppExtras.last_last_error</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#unlock_finite_trace_last"><span class="id" title="lemma">unlock_finite_trace_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hall_reachable</span> <span class="id" title="var">Hall_messages_observed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsis0_eqvs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)<span class="id" title="notation">]}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr</span> <span class="id" title="var">tr'</span> <span class="id" title="var">lst</span> <span class="id" title="var">Heq</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtr_m</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHtr_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>) <span class="id" title="var">i_m</span> <span class="id" title="var">sf</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">H_v</span>) <span class="id" title="var">H_t</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H_v</span> <span class="id" title="keyword">as</span> [? ? [] |]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H_t</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)<span class="id" title="notation">]}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">union_subseteq_l'</span>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators_step_update_Send"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Send</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq_r'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m0</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmm0</span> | <span class="id" title="var">Hnmm0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)<span class="id" title="notation">]}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmm0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators_step_update_Receive"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Receive</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq_r'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm0_obs</span> : <span class="id" title="var">m0</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">Hlast_obs</span>; <span class="id" title="tactic">left</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∪</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)<span class="id" title="notation">]}</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">union_subseteq_r'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">union_subseteq_l'</span>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators_step_update_Receive_already_Observed"><span class="id" title="lemma">ELMO_equivocating_validators_step_update_Receive_already_Observed</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0_obs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heqv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm0_not_sent</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">m0</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hm0</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#adr_of_sentMessages"><span class="id" title="lemma">adr_of_sentMessages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnmm0</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Hnmm0</span>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqv</span> | [-&gt; <span class="id" title="var">Hnsent</span>]]; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="method">elem_of_singleton</span>, <span class="id" title="lemma">elem_of_filter</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0_obs</span> <span class="id" title="keyword">as</span> [] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i_m0</span> <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i_m0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="var">contradict</span> <span class="id" title="var">Hm0_not_sent</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnsent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i_m0</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsis0_eqvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_equivocating_validators"><span class="id" title="definition">ELMO_equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_filter</span>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_m_lift</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> <span class="id" title="var">is_m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i_m</span>) (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tr_m</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqsm</span> <span class="id" title="var">Hrcv</span> <span class="id" title="var">Hm_eqv</span> <span class="id" title="var">Hs'_eqv</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Heqis_m</span> <span class="id" title="var">Hall_messages_observed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">using</span>  <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span>, <span class="id" title="var">Hsi</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_messages_valid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_messages_valid</span> <span class="id" title="var">H_lst_msg_valid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_bounded_eqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall_bounded_eqv</span> <span class="id" title="var">Hsf_bounded_eqv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_lst_msg_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsf_bounded_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr_m</span>| <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht0</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs0</span> &amp;  <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv0</span>) <span class="id" title="var">Ht0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a>, <span class="id" title="var">IHHtr_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_lst_msg_valid</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> []; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>, <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a>, <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht0</span> |- *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht0</span>, <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsf_bounded_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_transition"><span class="id" title="definition">UMOComponent_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sf</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i_m</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i_m</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;); [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_out"><span class="id" title="lemma">input_valid_transition_out</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m_lift</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Let si be a reachable state in (ELMOComponent i) and
  m a message such that
  ELMOComponentValid Receive si (Some m) in (ELMOComponent i),
  adr m ≠ i and adr m ∉ local_equivocators_full si, and
  also there is no message m' ∈ received_messages(si) with m' ⊥ m.

<div class="paragraph"> </div>

  Suppose σ is a valid state in ELMOProtocol such that σ i = si,
  having messages(si) = messages(σ),
  local_equivocators_full(si) = global_equivocators(σ),
  and components of σ other than i may only have a
  Send observation as their latest observation,
  and also m ∉ sent_messages(σ).

<div class="paragraph"> </div>

  Then there exists a state σ' in the future of σ such that
  σ' i = si, messages(σ') = messages(si), and
  global_equivocators(σ') = global_equivocators(σ),
  components of σ' other than i and adr(m) may only
  have a Send observation as their latest observation.
  Finally, σ'(adr(m)) = m
  (So m can be emitted immediately from σ').

<div class="paragraph"> </div>

  This is stronger than the previous message by showing,
  at least in these conditions, that a message that
  can be validly received by a component in a valid
  ELMOProtocol state can be validly emitted not just
  in some unrelated ELMOProtocol trace, but also
  in a trace continuing from the current state.
  (We will build from this towards proving ELMOComponents
  are validating for ELMOProtocol by showing how to
  construct such an ELMOProtocol state embedding
  given an ELMOComponent state and receivable message)

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="latest_observation_Send" class="idref" href="#latest_observation_Send"><span class="id" title="definition">latest_observation_Send</span></a> (<a id="s:518" class="idref" href="#s:518"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:518"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s':519" class="idref" href="#s':519"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:520" class="idref" href="#m:520"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:518"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':519"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:520"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="component_reflects_composite_messages" class="idref" href="#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a> (<a id="s:521" class="idref" href="#s:521"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="i:522" class="idref" href="#i:522"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:523" class="idref" href="#m:523"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="j:524" class="idref" href="#j:524"><span class="id" title="binder">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:523"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:521"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:524"><span class="id" title="variable">j</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:523"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:521"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:522"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="component_reflects_composite_equivocators" class="idref" href="#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a> (<a id="s:525" class="idref" href="#s:525"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="i:526" class="idref" href="#i:526"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:527" class="idref" href="#a:527"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:525"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:527"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:525"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:526"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:527"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="component_reflects_composite" class="idref" href="#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> (<a id="s:528" class="idref" href="#s:528"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) (<a id="i:529" class="idref" href="#i:529"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="component_sees_messages" class="idref" href="#component_sees_messages"><span class="id" title="projection">component_sees_messages</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:528"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:529"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="component_sees_equivocators" class="idref" href="#component_sees_equivocators"><span class="id" title="projection">component_sees_equivocators</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:528"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:529"><span class="id" title="variable">i</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="other_components_after_send" class="idref" href="#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a><br/>
&nbsp;&nbsp;(<a id="P_allowed:533" class="idref" href="#P_allowed:533"><span class="id" title="binder">P_allowed</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="s:534" class="idref" href="#s:534"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:535" class="idref" href="#i:535"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#P_allowed:533"><span class="id" title="variable">P_allowed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:535"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#latest_observation_Send"><span class="id" title="definition">latest_observation_Send</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:534"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:535"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="non_equivocating_received_message_continues_trace" class="idref" href="#non_equivocating_received_message_continues_trace"><span class="id" title="lemma">non_equivocating_received_message_continues_trace</span></a><br/>
&nbsp;&nbsp;(<a id="i:536" class="idref" href="#i:536"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="si:537" class="idref" href="#si:537"><span class="id" title="binder">si</span></a> <a id="si':538" class="idref" href="#si':538"><span class="id" title="binder">si'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="m:539" class="idref" href="#m:539"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:540" class="idref" href="#Ht:540"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:537"><span class="id" title="variable">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si':538"><span class="id" title="variable">si'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnot_local_equivocator':541" class="idref" href="#Hnot_local_equivocator':541"><span class="id" title="binder">Hnot_local_equivocator'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si':538"><span class="id" title="variable">si'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;(<a id="i_m:542" class="idref" href="#i_m:542"><span class="id" title="binder">i_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hi_m:543" class="idref" href="#Hi_m:543"><span class="id" title="binder">Hi_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:542"><span class="id" title="variable">i_m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hadr_neq:544" class="idref" href="#Hadr_neq:544"><span class="id" title="binder">Hadr_neq</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="sigma:545" class="idref" href="#sigma:545"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hcomponent:546" class="idref" href="#Hcomponent:546"><span class="id" title="binder">Hcomponent</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:537"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsigma:547" class="idref" href="#Hsigma:547"><span class="id" title="binder">Hsigma</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm_not_sent_yet:548" class="idref" href="#Hm_not_sent_yet:548"><span class="id" title="binder">Hm_not_sent_yet</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hspecial:549" class="idref" href="#Hspecial:549"><span class="id" title="binder">Hspecial</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="H_not_i_paused:551" class="idref" href="#H_not_i_paused:551"><span class="id" title="binder">H_not_i_paused</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a> (<span class="id" title="keyword">fun</span> <a id="j:550" class="idref" href="#j:550"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:550"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:536"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr_m:552" class="idref" href="#tr_m:552"><span class="id" title="binder">tr_m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:542"><span class="id" title="variable">i_m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:545"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:542"><span class="id" title="variable">i_m</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:539"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:552"><span class="id" title="variable">tr_m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsigma_no_junk</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="j:555" class="idref" href="#j:555"><span class="id" title="binder">j</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:553"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="mj:556" class="idref" href="#mj:556"><span class="id" title="binder">mj</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#mj:554"><span class="id" title="variable">mj</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> (<span class="id" title="var">sigma</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:553"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#mj:554"><span class="id" title="variable">mj</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <span class="id" title="var">si</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hni</span> <span class="id" title="var">mj</span> <span class="id" title="var">Hmj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hmj_adr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">mj</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hmji</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmji</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hni</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj</span> <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hspecial</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i_m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">contradict</span> <span class="id" title="var">Hadr_neq</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i_m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsigma</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsi_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_unique_trace_segments"><span class="id" title="lemma">ELMO_unique_trace_segments</span></a> <span class="id" title="var">i_m</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">tr</span> []]; [..| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Hsi_m</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receivable_messages_reachable"><span class="id" title="lemma">receivable_messages_reachable</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">H_not_i_paused</span> <span class="id" title="var">i_m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | (<span class="id" title="var">sim</span> &amp; <span class="id" title="var">lst_im</span> &amp; <span class="id" title="var">Hsnd</span>)]; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#state_suffix_empty_minimum"><span class="id" title="lemma">state_suffix_empty_minimum</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)); <span class="id" title="var">itauto</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; [| <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_latest_observation_Send_state"><span class="id" title="lemma">ELMO_latest_observation_Send_state</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i_m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsim</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcmp</span> : <a class="idref" href="VLSM.Core.ELMO.UMO.html#sent_comparable"><span class="id" title="inductive">sent_comparable</span></a> <span class="id" title="var">m</span> <span class="id" title="var">lst_im</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.UMO.html#sent_comparable"><span class="id" title="inductive">sent_comparable</span></a> <span class="id" title="var">m</span> <span class="id" title="var">lst_im</span>)); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnot_local_equivocator'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lst_im</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsigma_no_junk</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="var">i_m</span>); [| <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>)); [<span class="id" title="tactic">congruence</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsnd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcmp</span> <span class="id" title="keyword">as</span> [| ? ? [] | ? ? <span class="id" title="var">Hbefore</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hm_not_sent_yet</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i_m</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">contradict</span> <span class="id" title="var">Hm_not_sent_yet</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i_m</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#self_messages_sent"><span class="id" title="lemma">self_messages_sent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_no_self_equiv_reachable"><span class="id" title="lemma">ELMO_no_self_equiv_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#messages_hb_transitive"><span class="id" title="lemma">messages_hb_transitive</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">lst_im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#was_sent_before_characterization_1"><span class="id" title="lemma">was_sent_before_characterization_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbefore</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="var">itauto</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i_m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Hsi_m</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receivable_messages_reachable"><span class="id" title="lemma">receivable_messages_reachable</span></a>; [<span class="id" title="tactic">congruence</span> |..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_intermediary_transitions_are_receive" class="idref" href="#all_intermediary_transitions_are_receive"><span class="id" title="lemma">all_intermediary_transitions_are_receive</span></a><br/>
&nbsp;&nbsp;(<a id="i:557" class="idref" href="#i:557"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="si:558" class="idref" href="#si:558"><span class="id" title="binder">si</span></a> <a id="si':559" class="idref" href="#si':559"><span class="id" title="binder">si'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:557"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="m:560" class="idref" href="#m:560"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:561" class="idref" href="#Ht:561"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:557"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:558"><span class="id" title="variable">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:560"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si':559"><span class="id" title="variable">si'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="i_m:562" class="idref" href="#i_m:562"><span class="id" title="binder">i_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hi_m:563" class="idref" href="#Hi_m:563"><span class="id" title="binder">Hi_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:560"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:562"><span class="id" title="variable">i_m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hadr_neq:564" class="idref" href="#Hadr_neq:564"><span class="id" title="binder">Hadr_neq</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:560"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:557"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnot_local_equivocator:565" class="idref" href="#Hnot_local_equivocator:565"><span class="id" title="binder">Hnot_local_equivocator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:558"><span class="id" title="variable">si</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:560"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;(<a id="sigma:566" class="idref" href="#sigma:566"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsigma:567" class="idref" href="#Hsigma:567"><span class="id" title="binder">Hsigma</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#composite_ram_state_prop"><span class="id" title="definition">composite_ram_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:566"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hcomponent:568" class="idref" href="#Hcomponent:568"><span class="id" title="binder">Hcomponent</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:566"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:557"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:558"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hspecial:569" class="idref" href="#Hspecial:569"><span class="id" title="binder">Hspecial</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:566"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:557"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr_m:570" class="idref" href="#tr_m:570"><span class="id" title="binder">tr_m</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr_m:571" class="idref" href="#Htr_m:571"><span class="id" title="binder">Htr_m</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:562"><span class="id" title="variable">i_m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:566"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:562"><span class="id" title="variable">i_m</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:560"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:570"><span class="id" title="variable">tr_m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="item:572" class="idref" href="#item:572"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:572"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:570"><span class="id" title="variable">tr_m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_elem_of_ram_trace"><span class="id" title="lemma">ELMOComponent_elem_of_ram_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H_item</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_item</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">s_m0</span> &amp; <span class="id" title="var">m0</span> &amp; <span class="id" title="var">Hs_m0</span> &amp; <span class="id" title="var">H_item</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_input_valid_transition_iff"><span class="id" title="lemma">ELMOComponent_input_valid_transition_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_item</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[] | (<span class="id" title="var">Hl</span> &amp; <span class="id" title="var">m_0</span> &amp; <span class="id" title="var">Houtput</span> &amp; <span class="id" title="var">Hinput</span> &amp; <span class="id" title="var">H_item</span>)]; [<span class="id" title="var">done</span> | <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H_item</span> <span class="id" title="keyword">as</span> [| ? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>]]; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H_item</span> <span class="id" title="var">Hvi</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnot_local_equivocator</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hspecial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_sentMessages_of_ram_trace"><span class="id" title="lemma">ELMOComponent_sentMessages_of_ram_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hm0</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hm0_adr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">s_m0</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">s_m0</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? [] |]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsnd</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded_to_preloaded"><span class="id" title="lemma">valid_state_project_preloaded_to_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reachable_sent_messages_adr"><span class="id" title="lemma">reachable_sent_messages_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsnd_adr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded_to_preloaded"><span class="id" title="lemma">valid_state_project_preloaded_to_preloaded</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm0_adr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd_adr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd_adr</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent_sizeState_of_ram_trace_output"><span class="id" title="lemma">ELMOComponent_sizeState_of_ram_trace_output</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <span class="id" title="var">s_m0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">s_m0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">s_m0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages_sizeState"><span class="id" title="lemma">messages_sizeState</span></a>, <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_receive_trace" class="idref" href="#lift_receive_trace"><span class="id" title="lemma">lift_receive_trace</span></a><br/>
&nbsp;&nbsp;(<a id="sigma:573" class="idref" href="#sigma:573"><span class="id" title="binder">sigma</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsigma:574" class="idref" href="#Hsigma:574"><span class="id" title="binder">Hsigma</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:575" class="idref" href="#m:575"><span class="id" title="binder">m</span></a>: <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>)<br/>
&nbsp;&nbsp;(<a id="i_m:576" class="idref" href="#i_m:576"><span class="id" title="binder">i_m</span></a>: <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr_m:577" class="idref" href="#tr_m:577"><span class="id" title="binder">tr_m</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr_m:578" class="idref" href="#Htr_m:578"><span class="id" title="binder">Htr_m</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:575"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:577"><span class="id" title="variable">tr_m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr_m_receive:580" class="idref" href="#Htr_m_receive:580"><span class="id" title="binder">Htr_m_receive</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="item:579" class="idref" href="#item:579"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:579"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:577"><span class="id" title="variable">tr_m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr_m_inputs_in_sigma:583" class="idref" href="#Htr_m_inputs_in_sigma:583"><span class="id" title="binder">Htr_m_inputs_in_sigma</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="item:581" class="idref" href="#item:581"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>) (<a id="msg:582" class="idref" href="#msg:582"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:581"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:577"><span class="id" title="variable">tr_m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:581"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:582"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:582"><span class="id" title="variable">msg</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:575"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_label"><span class="id" title="definition">lift_to_composite_label</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#tr_m:577"><span class="id" title="variable">tr_m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:584" class="idref" href="#a:584"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:576"><span class="id" title="variable">i_m</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:575"><span class="id" title="variable">m</span></a>)) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:584"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:573"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:584"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">si_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sm</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqsm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heqsi_m</span> <span class="id" title="var">Htr_m_inputs_in_sigma</span> <span class="id" title="var">Htr_m_receive</span> <span class="id" title="var">tr</span> <span class="id" title="var">Heqtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m_receive</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr_m_receive</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">H_l</span> <span class="id" title="var">_</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_l</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm0</span> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">m0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htr_m_inputs_in_sigma</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> |]; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IHHtr_m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hall</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[..| <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span> |] |]].<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Htr_m_inputs_in_sigma</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_add_last"><span class="id" title="lemma">finite_valid_trace_from_add_last</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsigma'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_directly_observed_valid"><span class="id" title="lemma">composite_directly_observed_valid</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#in_futures_preserving_oracle_from_stepwise"><span class="id" title="lemma">in_futures_preserving_oracle_from_stepwise</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">composite_has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_in_futures"><span class="id" title="lemma">VLSM_incl_in_futures</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>)); <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i_m0</span> <span class="id" title="var">Hm0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy_receive_observed_message"><span class="id" title="lemma">ELMO_not_heavy_receive_observed_message</span></a>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_full_node_reachable"><span class="id" title="lemma">ELMO_full_node_reachable</span></a>, <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_valid_state_not_heavy"><span class="id" title="lemma">ELMO_valid_state_not_heavy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsigma'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#in_futures_preserving_oracle_from_stepwise"><span class="id" title="lemma">in_futures_preserving_oracle_from_stepwise</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">composite_has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_in_futures"><span class="id" title="lemma">VLSM_incl_in_futures</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a>)); <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s</span>) <span class="id" title="var">a</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sigma_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">sigma_s</span> <span class="id" title="var">i_m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma_s</span> <span class="id" title="var">i_m</span> (<span class="id" title="var">sigma_s</span> <span class="id" title="var">i_m</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">m0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| [-&gt; <span class="id" title="var">Hnsnd</span>]]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm0</span> <span class="id" title="keyword">as</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="special_receivable_messages_emittable_in_future" class="idref" href="#special_receivable_messages_emittable_in_future"><span class="id" title="lemma">special_receivable_messages_emittable_in_future</span></a><br/>
&nbsp;&nbsp;(<a id="i:585" class="idref" href="#i:585"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="si:586" class="idref" href="#si:586"><span class="id" title="binder">si</span></a> <a id="si':587" class="idref" href="#si':587"><span class="id" title="binder">si'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="m:588" class="idref" href="#m:588"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:589" class="idref" href="#Ht:589"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:586"><span class="id" title="variable">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#si':587"><span class="id" title="variable">si'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="i_m:590" class="idref" href="#i_m:590"><span class="id" title="binder">i_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hi_m:591" class="idref" href="#Hi_m:591"><span class="id" title="binder">Hi_m</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:590"><span class="id" title="variable">i_m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hadr_neq:592" class="idref" href="#Hadr_neq:592"><span class="id" title="binder">Hadr_neq</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnot_local_equivocator:593" class="idref" href="#Hnot_local_equivocator:593"><span class="id" title="binder">Hnot_local_equivocator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:586"><span class="id" title="variable">si</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Hnot_local_equivocator':594" class="idref" href="#Hnot_local_equivocator':594"><span class="id" title="binder">Hnot_local_equivocator'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si':587"><span class="id" title="variable">si'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;(<a id="sigma:595" class="idref" href="#sigma:595"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsigma:596" class="idref" href="#Hsigma:596"><span class="id" title="binder">Hsigma</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hcomponent:597" class="idref" href="#Hcomponent:597"><span class="id" title="binder">Hcomponent</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:586"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hspecial:598" class="idref" href="#Hspecial:598"><span class="id" title="binder">Hspecial</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="H_not_i_paused:600" class="idref" href="#H_not_i_paused:600"><span class="id" title="binder">H_not_i_paused</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a> (<span class="id" title="keyword">fun</span> <a id="j:599" class="idref" href="#j:599"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:599"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm_not_sent_yet:601" class="idref" href="#Hm_not_sent_yet:601"><span class="id" title="binder">Hm_not_sent_yet</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="sigma':602" class="idref" href="#sigma':602"><span class="id" title="binder">sigma'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:595"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma':602"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma':602"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:586"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma':602"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma':602"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:590"><span class="id" title="variable">i_m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:588"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a> (<span class="id" title="keyword">fun</span> <a id="j:603" class="idref" href="#j:603"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:603"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:585"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:603"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i_m:590"><span class="id" title="variable">i_m</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma':602"><span class="id" title="variable">sigma'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hiim</span> : <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i_m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">contradict</span> <span class="id" title="var">Hadr_neq</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hai_m</span> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i_m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#non_equivocating_received_message_continues_trace"><span class="id" title="lemma">non_equivocating_received_message_continues_trace</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">tr_m</span> <span class="id" title="var">Htr_m</span>]; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_m_receive</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:605" class="idref" href="#item:605"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:604"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <span class="id" title="var">tr_m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#all_intermediary_transitions_are_receive"><span class="id" title="lemma">all_intermediary_transitions_are_receive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-4, 6-8: <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">constraint</span> := <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_m_inputs_in_sigma</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="item:608" class="idref" href="#item:608"><span class="id" title="binder">item</span></a> <a id="msg:609" class="idref" href="#msg:609"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:606"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">tr_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#item:606"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:607"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#msg:607"><span class="id" title="variable">msg</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Hinput</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? []|]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">i_m</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>, <span class="id" title="lemma">elem_of_submseteq</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_complete_left"><span class="id" title="lemma">finite_valid_trace_from_to_complete_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_m</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hlst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_examine_one_trace"><span class="id" title="lemma">has_been_received_examine_one_trace</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lift_receive_trace"><span class="id" title="lemma">lift_receive_trace</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htrsigma_m'</span> <span class="id" title="var">Heqv</span>]; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i_m</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">split_and</span>!.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state"><span class="id" title="definition">lift_to_composite_state</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">m0</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hm0</span>]; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hspecial</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? []|]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_submseteq</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">a</span>); [<span class="id" title="tactic">apply</span> <span class="id" title="var">Heqv</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hspecial</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hnk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Logic.Decidable.html#not_or"><span class="id" title="lemma">Decidable.not_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnk</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_not_i_paused</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="component_reflects_composite_messages_step_update" class="idref" href="#component_reflects_composite_messages_step_update"><span class="id" title="lemma">component_reflects_composite_messages_step_update</span></a><br/>
&nbsp;&nbsp;(<a id="i:610" class="idref" href="#i:610"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="l:611" class="idref" href="#l:611"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="sigma:612" class="idref" href="#sigma:612"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="s':613" class="idref" href="#s':613"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="m:614" class="idref" href="#m:614"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a> ) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:610"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:611"><span class="id" title="variable">l</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:612"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:610"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':613"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:614"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:612"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:610"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:612"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:610"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':613"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:610"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hmsgs</span> <span class="id" title="var">m'</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">s'</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">l</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>]; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsgs</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>] | ? ? ? [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="receiving_already_sent_global_local_equivocators" class="idref" href="#receiving_already_sent_global_local_equivocators"><span class="id" title="lemma">receiving_already_sent_global_local_equivocators</span></a><br/>
&nbsp;&nbsp;(<a id="i:615" class="idref" href="#i:615"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:616" class="idref" href="#sigma:616"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="m:617" class="idref" href="#m:617"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':618" class="idref" href="#s':618"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:619" class="idref" href="#Ht:619"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:615"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:616"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:615"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:617"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':618"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:620" class="idref" href="#Hreflects:620"><span class="id" title="binder">Hreflects</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:616"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:615"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:621" class="idref" href="#Hm:621"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:616"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:617"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="a:622" class="idref" href="#a:622"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:616"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:615"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':618"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:622"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':618"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:622"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreflects</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmessages</span> <span class="id" title="var">Heqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmessages</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a>, (<span class="id" title="var">Heqvs</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [| [-&gt; <span class="id" title="var">Hsome</span>]]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span> ? ? [] | <span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">m'</span> &amp; <span class="id" title="var">Hm'</span> &amp; [<span class="id" title="var">Heqadr</span> <span class="id" title="var">Hcmp</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <span class="id" title="var">m'</span> <span class="id" title="var">m</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmessages</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="receiving_already_equivocating_global_local_equivocators" class="idref" href="#receiving_already_equivocating_global_local_equivocators"><span class="id" title="lemma">receiving_already_equivocating_global_local_equivocators</span></a><br/>
&nbsp;&nbsp;(<a id="i:623" class="idref" href="#i:623"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:624" class="idref" href="#sigma:624"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="m:625" class="idref" href="#m:625"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':626" class="idref" href="#s':626"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:627" class="idref" href="#Ht:627"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:623"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:624"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:623"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:625"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':626"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:628" class="idref" href="#Hreflects:628"><span class="id" title="binder">Hreflects</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:624"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:623"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Heqv:629" class="idref" href="#Heqv:629"><span class="id" title="binder">Heqv</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:624"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:623"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:625"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="a:630" class="idref" href="#a:630"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:624"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:623"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':626"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:630"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':626"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:630"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreflects</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmessages</span> <span class="id" title="var">Heqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a>, (<span class="id" title="var">Heqvs</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> []; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |]; <span class="id" title="var">destruct_and</span>!; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="receiving_not_already_equivocating_global_local_equivocators" class="idref" href="#receiving_not_already_equivocating_global_local_equivocators"><span class="id" title="lemma">receiving_not_already_equivocating_global_local_equivocators</span></a><br/>
&nbsp;&nbsp;(<a id="i:631" class="idref" href="#i:631"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="sigma:632" class="idref" href="#sigma:632"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a>) (<a id="m:633" class="idref" href="#m:633"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a>) (<a id="s':634" class="idref" href="#s':634"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>)<br/>
&nbsp;&nbsp;(<a id="Ht:635" class="idref" href="#Ht:635"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:631"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:632"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:631"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:633"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':634"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:636" class="idref" href="#Hreflects:636"><span class="id" title="binder">Hreflects</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:632"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:631"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hneqv:637" class="idref" href="#Hneqv:637"><span class="id" title="binder">Hneqv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:632"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:631"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:633"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Heqv:638" class="idref" href="#Heqv:638"><span class="id" title="binder">Heqv</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':634"><span class="id" title="variable">s'</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:633"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="a:639" class="idref" href="#a:639"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Address"><span class="id" title="variable">Address</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#sigma:632"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:631"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':634"><span class="id" title="variable">s'</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:639"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':634"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#a:639"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreflects</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmessages</span> <span class="id" title="var">Heqvs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m':641" class="idref" href="#m':641"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':640"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> <span class="id" title="var">m</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m':640"><span class="id" title="variable">m'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [| (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hrcv</span>)];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| | <span class="id" title="tactic">constructor</span> 1]; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a>, (<span class="id" title="var">Heqvs</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> []; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_and</span>!; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hneqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_simple_iff_full"><span class="id" title="lemma">local_equivocators_simple_iff_full</span></a>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_view"><span class="id" title="lemma">ELMO_reachable_view</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span> ? ? [] | <span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m'</span> &amp; <span class="id" title="var">Hm'</span> &amp; <span class="id" title="var">Heqadr</span> &amp; <span class="id" title="var">Hcmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <span class="id" title="var">m'</span> <span class="id" title="var">m</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmessages</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hneqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The following lemma shows that for any reachable state in an (ELMOComponent i)
  there is a valid state in <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a></span> where component <code>i</code> meets most of the
  conditions of the previous lemma.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="reflecting_composite_for_reachable_component" class="idref" href="#reflecting_composite_for_reachable_component"><span class="id" title="lemma">reflecting_composite_for_reachable_component</span></a><br/>
&nbsp;&nbsp;(<a id="i:642" class="idref" href="#i:642"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a>) (<a id="si:643" class="idref" href="#si:643"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hreachable:644" class="idref" href="#Hreachable:644"><span class="id" title="binder">Hreachable</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#ram_state_prop"><span class="id" title="definition">ram_state_prop</span></a> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:643"><span class="id" title="variable">si</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:645" class="idref" href="#s:645"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:643"><span class="id" title="variable">si</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a> (<span class="id" title="keyword">fun</span> <a id="j:646" class="idref" href="#j:646"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:646"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s_prev:647" class="idref" href="#s_prev:647"><span class="id" title="binder">s_prev</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.State"><span class="id" title="variable">State</span></a>) (<a id="l:648" class="idref" href="#l:648"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a>) (<a id="m:649" class="idref" href="#m:649"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#si:643"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s_prev:647"><span class="id" title="variable">s_prev</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:648"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:649"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s':650" class="idref" href="#s':650"><span class="id" title="binder">s'</span></a> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s_prev:647"><span class="id" title="variable">s_prev</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':650"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocolValidTransition"><span class="id" title="inductive">ELMOProtocolValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:642"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#l:648"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s':650"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#s:645"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#m:649"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hreachable</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHreachable</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sigma</span> &amp; &lt;- &amp; <span class="id" title="var">Hsigma</span> &amp; <span class="id" title="var">Hreflects</span> &amp; <span class="id" title="var">Hsend</span> &amp; <span class="id" title="var">Hall</span>), <span class="id" title="var">l</span>; <span class="id" title="var">cycle</span> 1].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.UMO.html#UMOComponent_initial_state_spec"><span class="id" title="lemma">UMOComponent_initial_state_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="notation">`</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a><span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">firstorder</span>.. | <span class="id" title="tactic">inversion</span> 1].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> (<span class="id" title="var">sigma'</span> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htsigma</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>))<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> |]; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htsigma</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsigma'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span> | <span class="id" title="tactic">split</span> | ..]; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hnj</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s_prev</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">constructor</span>] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>; [<span class="id" title="tactic">destruct</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">j</span>) |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>]; <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreflects</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">a</span>); [<span class="id" title="tactic">split</span> |]; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hreflects</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#lefo_alt"><span class="id" title="lemma">lefo_alt</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">right</span> | <span class="id" title="tactic">intros</span> [|]; [<span class="id" title="var">destruct_and</span>! |]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [? &lt;- ]; <span class="id" title="var">esplit</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ges_recv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrecv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrecv</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrecv</span> <span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsent</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_step_update"><span class="id" title="lemma">has_been_sent_step_update</span></a>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> []; <span class="id" title="var">esplit</span>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ges_recv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hrecv</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hsnd</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">ges_not_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsnd</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Classes.RelationClasses.html#irreflexivity"><span class="id" title="definition">irreflexivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a>) (<span class="id" title="var">x</span> := <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">j</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">sigma</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">j</span>))) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#messages_sizeState"><span class="id" title="lemma">messages_sizeState</span></a>, <span class="id" title="var">Hreflects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ges_recv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j'</span> <span class="id" title="var">Hrecv</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages"><span class="id" title="lemma">elem_of_messages</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> (<span class="id" title="var">Hti</span> := <span class="id" title="var">Ht</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Hti</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? [? ? ? <span class="id" title="var">Hlocal_ok</span>] |]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">om'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_msg_valid_full_has_sender"><span class="id" title="lemma">ELMO_msg_valid_full_has_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ELMO_mv_msg_valid_full0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="gamma:653" class="idref" href="#gamma:653"><span class="id" title="binder">gamma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> <span class="id" title="var">sigma</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#gamma:651"><span class="id" title="variable">gamma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#gamma:651"><span class="id" title="variable">gamma</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite"><span class="id" title="record">component_reflects_composite</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#gamma:651"><span class="id" title="variable">gamma</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ELMO.ELMO.html#other_components_after_send"><span class="id" title="definition">other_components_after_send</span></a> (<span class="id" title="keyword">fun</span> <a id="j:654" class="idref" href="#j:654"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.ELMO.ELMO.html#j:652"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>) <a class="idref" href="VLSM.Core.ELMO.ELMO.html#gamma:651"><span class="id" title="variable">gamma</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">gamma</span> &amp; <span class="id" title="var">Hfutures</span> &amp; <span class="id" title="var">Heq_i</span> &amp; [<span class="id" title="var">Hsigma'_messages</span> <span class="id" title="var">Hsigma'_eqvs</span>] &amp; <span class="id" title="var">Hgamma_send</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">sigma'</span> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">gamma</span> <span class="id" title="var">i</span> <span class="id" title="var">s'</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvtsigma</span> : <a class="idref" href="VLSM.Core.VLSM.html#ValidTransition"><span class="id" title="record">ValidTransition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) <span class="id" title="var">gamma</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">sigma'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_i</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocation_limit_ok"><span class="id" title="definition">local_equivocation_limit_ok</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlocal_ok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_not_heavy"><span class="id" title="definition">ELMO_not_heavy</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#filter_subprop"><span class="id" title="lemma">filter_subprop</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq_i</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsigma'_eqvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsigma'_eqvs</span>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_equivocators_iff_simple"><span class="id" title="lemma">ELMO_global_equivocators_iff_simple</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) (<span class="id" title="var">s</span> := <span class="id" title="var">gamma</span>) (<span class="id" title="var">om</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">om'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_snd"><span class="id" title="lemma">in_futures_valid_snd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_in_futures"><span class="id" title="lemma">VLSM_incl_in_futures</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a>) (<span class="id" title="var">s</span> := <span class="id" title="var">gamma</span>) (<span class="id" title="var">om</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">om'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>); <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_snd"><span class="id" title="lemma">in_futures_valid_snd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_valid_states_only_receive_valid_messages"><span class="id" title="lemma">ELMO_valid_states_only_receive_valid_messages</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_snd"><span class="id" title="lemma">in_futures_valid_snd</span></a> | <span class="id" title="tactic">constructor</span> 1].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvtsigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hnj</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hgamma_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s_prev</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>, <a class="idref" href="VLSM.Core.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">gamma</span> <span class="id" title="var">i</span>); <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_snd"><span class="id" title="lemma">in_futures_valid_snd</span></a> | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hnot_sent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_refl"><span class="id" title="lemma">in_futures_refl</span></a> | <span class="id" title="var">done</span> | <span class="id" title="tactic">split</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages_step_update"><span class="id" title="lemma">component_reflects_composite_messages_step_update</span></a>, <span class="id" title="var">Hreflects</span>; <span class="id" title="tactic">constructor</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receiving_already_sent_global_local_equivocators"><span class="id" title="lemma">receiving_already_sent_global_local_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hm_not_by_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnot_sent</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_mv_no_self_equiv"><span class="id" title="projection">ELMO_mv_no_self_equiv</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.idx"><span class="id" title="variable">idx</span></a> <span class="id" title="var">i</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_reachable_adr"><span class="id" title="lemma">ELMO_reachable_adr</span></a>, <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneqv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_refl"><span class="id" title="lemma">in_futures_refl</span></a> | <span class="id" title="var">done</span> | <span class="id" title="tactic">split</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages_step_update"><span class="id" title="lemma">component_reflects_composite_messages_step_update</span></a>, <span class="id" title="var">Hreflects</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receiving_already_equivocating_global_local_equivocators"><span class="id" title="lemma">receiving_already_equivocating_global_local_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full"><span class="id" title="definition">local_equivocators_full</span></a> <span class="id" title="var">s'</span> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hneqv'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_refl"><span class="id" title="lemma">in_futures_refl</span></a> | <span class="id" title="var">done</span> | <span class="id" title="tactic">split</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages_step_update"><span class="id" title="lemma">component_reflects_composite_messages_step_update</span></a>, <span class="id" title="var">Hreflects</span>; <span class="id" title="tactic">constructor</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_messages"><span class="id" title="definition">component_reflects_composite_messages</span></a>, <a class="idref" href="VLSM.Core.ELMO.ELMO.html#component_reflects_composite_equivocators"><span class="id" title="definition">component_reflects_composite_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#receiving_not_already_equivocating_global_local_equivocators"><span class="id" title="lemma">receiving_not_already_equivocating_global_local_equivocators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsender</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i_m</span> <span class="id" title="var">Hsender</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#special_receivable_messages_emittable_in_future"><span class="id" title="lemma">special_receivable_messages_emittable_in_future</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Hm_not_by_i</span> <span class="id" title="var">Hneqv</span> <span class="id" title="var">Hneqv'</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsigma</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Hreflects</span> <span class="id" title="var">Hsend</span> <span class="id" title="var">Hnot_sent</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">chi</span> &amp; <span class="id" title="var">Hfutures</span> &amp; <span class="id" title="var">Heqi</span> &amp; [<span class="id" title="var">Hchi_messages</span> <span class="id" title="var">Hchi_eqvs</span>] &amp; <span class="id" title="var">Heqi_m</span> &amp; <span class="id" title="var">Hchi_send</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">sigma'</span> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">chi</span> <span class="id" title="var">i_m</span> (<span class="id" title="var">chi</span> <span class="id" title="var">i_m</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m</span>)); <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hti_m</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i_m</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">chi</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sigma'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#in_futures_valid_snd"><span class="id" title="lemma">in_futures_valid_snd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqi_m</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">i_m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">contradict</span> <span class="id" title="var">Hm_not_by_i</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponentRAMTransition"><span class="id" title="inductive">ELMOComponentRAMTransition</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<span class="id" title="var">sigma'</span> <span class="id" title="var">i</span>) (<span class="id" title="var">sigma</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [..| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sigma'</span>; <span class="id" title="var">split_and</span>!; <span class="id" title="var">cycle</span> 3; [.. | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i_m</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hchi_send</span>; <span class="id" title="var">itauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">etransitivity</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_in_futures"><span class="id" title="lemma">input_valid_transition_in_futures</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqi</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>]; <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i_m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span> <span class="id" title="keyword">as</span> []; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hchi_messages</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hchi_messages</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple"><span class="id" title="record">global_equivocators_simple</span></a> <span class="id" title="var">chi</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_receive"><span class="id" title="lemma">global_equivocators_simple_step_update_receive</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#global_equivocators_simple_step_update_send_iff"><span class="id" title="lemma">global_equivocators_simple_step_update_send_iff</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_project_active"><span class="id" title="lemma">input_valid_transition_project_active</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hti_m</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hneqv</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>, &lt;- <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hchi_eqvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| [<span class="id" title="var">_</span> <span class="id" title="var">Hnsnd</span>]]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hnsnd</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i_m</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hchi_eqvs</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a>; [<span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#local_equivocators_full_step_update"><span class="id" title="lemma">local_equivocators_full_step_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [| [-&gt; ]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Every <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a></span> is a validator for <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOProtocol"><span class="id" title="definition">ELMOProtocol</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="ELMOComponents_validating" class="idref" href="#ELMOComponents_validating"><span class="id" title="lemma">ELMOComponents_validating</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:655" class="idref" href="#i:655"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection_validator_prop"><span class="id" title="definition">component_projection_validator_prop</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO_global_constraint"><span class="id" title="definition">ELMO_global_constraint</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#i:655"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">li</span> <span class="id" title="var">si</span> <span class="id" title="var">om</span> <span class="id" title="var">Hvti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_iff"><span class="id" title="lemma">input_valid_transition_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvti</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">Hvti</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hvti'</span> := <span class="id" title="var">Hvti</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvti'</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvi</span>) <span class="id" title="var">Hti</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvti</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsi'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#reflecting_composite_for_reachable_component"><span class="id" title="lemma">reflecting_composite_for_reachable_component</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsi'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s'</span> &amp; &lt;- &amp; <span class="id" title="var">Hs'</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Htransitions</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htransitions</span> <span class="id" title="var">si</span> <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMOComponent"><span class="id" title="definition">ELMOComponent</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvi</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqs'i</span>]; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'i</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Htransitions</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqs'i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvs'0</span> <span class="id" title="var">Hvt0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvt0</span> <span class="id" title="keyword">as</span> [? ? ? ? <span class="id" title="var">Hvt</span> | ? ? ? ? <span class="id" title="var">Hvt</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvt</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_received_valid"><span class="id" title="lemma">composite_received_valid</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs'</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a>; [| <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvt</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO.ELMOProtocol"><span class="id" title="section">ELMOProtocol</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.ELMO.ELMO.html#ELMO"><span class="id" title="section">ELMO</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
