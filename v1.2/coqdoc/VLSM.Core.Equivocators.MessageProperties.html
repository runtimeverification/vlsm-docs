<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Cdcl</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Itauto</span>. #[<span class="id" title="var">local</span>] <span class="id" title="keyword">Tactic</span> <span class="id" title="keyword">Notation</span> "itauto" := <span class="id" title="var">itauto</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">StdppListSet</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#"><span class="id" title="library">ListSetExtras</span></a> <a class="idref" href="VLSM.Lib.FinExtras.html#"><span class="id" title="library">FinExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#"><span class="id" title="library">Equivocators.Equivocators</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#"><span class="id" title="library">Equivocators.EquivocatorsProjections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab179"></a><h1 class="section">VLSM Message Properties</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties" class="idref" href="#equivocator_vlsm_message_properties"><span class="id" title="section">equivocator_vlsm_message_properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab180"></a><h2 class="section">Lifting properties about sent messages to the equivocators</h2>


<div class="paragraph"> </div>

  In this section we first prove some general properties about sent messages
  being preserved and reflected by the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>, and then we show
  that the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span> and the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="record">ComputableSentMessages</span></a></span>
  can be lifted (each separately) from the original machine to the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:2" class="idref" href="#X:2"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocator_vlsm:3" class="idref" href="#equivocator_vlsm:3"><span class="id" title="binder">equivocator_vlsm</span></a> := <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#X:2"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="MachineDescriptor:4" class="idref" href="#MachineDescriptor:4"><span class="id" title="binder">MachineDescriptor</span></a> := <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#MachineDescriptor"><span class="id" title="inductive">MachineDescriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#X:2"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  If a projection of an <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> trace <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a></span>s a message, then
  the original trace must do so too.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_vlsm_trace_project_output_reflecting" class="idref" href="#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a><br/>
&nbsp;&nbsp;(<a id="tr:5" class="idref" href="#tr:5"><span class="id" title="binder">tr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="trX:6" class="idref" href="#trX:6"><span class="id" title="binder">trX</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;(<a id="j:7" class="idref" href="#j:7"><span class="id" title="binder">j</span></a> <a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a>)<br/>
&nbsp;&nbsp;(<a id="HtrX:9" class="idref" href="#HtrX:9"><span class="id" title="binder">HtrX</span></a>: <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:5"><span class="id" title="variable">tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#j:7"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#trX:6"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:8"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hjbs:11" class="idref" href="#Hjbs:11"><span class="id" title="binder">Hjbs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:10"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#trX:6"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:10"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:5"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">trX</span> <span class="id" title="var">i</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">Hjbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HtrX</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjbs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">tr</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">trX'</span>, <span class="id" title="var">i'</span>)|]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqn</span>:<span class="id" title="var">Htr</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtr</span> <span class="id" title="var">trX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">item'</span>|] <span class="id" title="var">i''</span>]|]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqn</span>:<span class="id" title="var">Hitem'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HtrX</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_transition_item_project_inv_messages"><span class="id" title="lemma">equivocator_transition_item_project_inv_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ha</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjbs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocator_vlsm_trace_project_valid_item_new_machine" class="idref" href="#preloaded_equivocator_vlsm_trace_project_valid_item_new_machine"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid_item_new_machine</span></a><br/>
&nbsp;&nbsp;(<a id="bs:12" class="idref" href="#bs:12"><span class="id" title="binder">bs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="btr:13" class="idref" href="#btr:13"><span class="id" title="binder">btr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hbtr:14" class="idref" href="#Hbtr:14"><span class="id" title="binder">Hbtr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bs:12"><span class="id" title="variable">bs</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:13"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="bitem:15" class="idref" href="#bitem:15"><span class="id" title="binder">bitem</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem:16" class="idref" href="#Hitem:16"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:13"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="sn:17" class="idref" href="#sn:17"><span class="id" title="binder">sn</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnew:18" class="idref" href="#Hnew:18"><span class="id" title="binder">Hnew</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Spawn"><span class="id" title="constructor">Spawn</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#sn:17"><span class="id" title="variable">sn</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="d:19" class="idref" href="#d:19"><span class="id" title="binder">d</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#d:19"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#NewMachine"><span class="id" title="constructor">NewMachine</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#sn:17"><span class="id" title="variable">sn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bprefix</span> [<span class="id" title="var">bsuffix</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">btr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbtr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbprefix</span> <span class="id" title="var">Hbsuffix</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbsuffix</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span> <span class="id" title="var">tl</span> <span class="id" title="var">bitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_valid_transition_project_inv5_new_machine"><span class="id" title="lemma">equivocator_valid_transition_project_inv5_new_machine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">lst</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Ht</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">VLSM.l</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpitem</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">lst_i</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpitem</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsndl</span> <span class="id" title="var">Hiom</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  For any <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a></span> in a valid trace segment of an
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> there exists a projection of that trace containing
  the projection of the item.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocator_vlsm_trace_project_valid_item" class="idref" href="#preloaded_equivocator_vlsm_trace_project_valid_item"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid_item</span></a><br/>
&nbsp;&nbsp;(<a id="bs:20" class="idref" href="#bs:20"><span class="id" title="binder">bs</span></a> <a id="bf:21" class="idref" href="#bf:21"><span class="id" title="binder">bf</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="btr:22" class="idref" href="#btr:22"><span class="id" title="binder">btr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hbtr:23" class="idref" href="#Hbtr:23"><span class="id" title="binder">Hbtr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bf:21"><span class="id" title="variable">bf</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:22"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="bitem:24" class="idref" href="#bitem:24"><span class="id" title="binder">bitem</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem:25" class="idref" href="#Hitem:25"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:24"><span class="id" title="variable">bitem</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:22"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="idl:26" class="idref" href="#idl:26"><span class="id" title="binder">idl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hlbitem:27" class="idref" href="#Hlbitem:27"><span class="id" title="binder">Hlbitem</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_label_descriptor"><span class="id" title="definition">equivocator_label_descriptor</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:24"><span class="id" title="variable">bitem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#idl:26"><span class="id" title="variable">idl</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="item:28" class="idref" href="#item:28"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="d:29" class="idref" href="#d:29"><span class="id" title="binder">d</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bitem:24"><span class="id" title="variable">bitem</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#d:29"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:28"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#idl:26"><span class="id" title="variable">idl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="tr:30" class="idref" href="#tr:30"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:28"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:30"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="dfinal:31" class="idref" href="#dfinal:31"><span class="id" title="binder">dfinal</span></a> <a id="dfirst:32" class="idref" href="#dfirst:32"><span class="id" title="binder">dfirst</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#dfirst:32"><span class="id" title="variable">dfirst</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_descriptor"><span class="id" title="definition">existing_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#dfinal:31"><span class="id" title="variable">dfinal</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:22"><span class="id" title="variable">btr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#btr:22"><span class="id" title="variable">btr</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#dfinal:31"><span class="id" title="variable">dfinal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:30"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#dfirst:32"><span class="id" title="variable">dfirst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#preloaded_equivocator_vlsm_valid_trace_project_inv2"><span class="id" title="lemma">preloaded_equivocator_vlsm_valid_trace_project_inv2</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">bs</span> <span class="id" title="var">bf</span> <span class="id" title="var">btr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinv2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv2</span>. { <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv2</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bprefix</span> [<span class="id" title="var">bsuffix</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">btr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbtr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbprefix</span> <span class="id" title="var">Hbsuffix</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbsuffix</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span> <span class="id" title="var">f</span> <span class="id" title="var">bitem</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_valid_transition_project_inv5"><span class="id" title="lemma">equivocator_valid_transition_project_inv5</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">lst</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">VLSM.l</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hpitem</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlbitem</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">si</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">itemx</span> <span class="id" title="var">Hitemx</span>]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#preloaded_equivocator_vlsm_trace_project_valid_inv"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">suffix</span> <span class="id" title="var">Hsuffix</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemx</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hitemx</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">dsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <span class="id" title="var">iom</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">bitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project_app_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_app_inv</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">bitem</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">bsuffix</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">idl</span>) <span class="id" title="var">dsuffix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">itemx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">suffix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hsuffix'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsuffix'</span>. { <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hitemx</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">dsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsuffix'</span> <span class="id" title="var">Hsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">bitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_valid_transition_project_inv2"><span class="id" title="lemma">equivocator_valid_transition_project_inv2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">lst</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hitemx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_i</span> [<span class="id" title="var">_Hdsuffix</span> [<span class="id" title="var">s_i</span> [<span class="id" title="var">_Hi</span> <span class="id" title="var">Hd'</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">_Hdsuffix</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Hdsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_i'</span> [<span class="id" title="var">_Heq</span> [<span class="id" title="var">lst_i'</span> [<span class="id" title="var">id</span> [<span class="id" title="var">Hex</span> [<span class="id" title="var">_Hitemx</span> [<span class="id" title="var">Hvs'</span> <span class="id" title="var">Hts'</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">_Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">_i'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#preloaded_equivocator_vlsm_trace_project_valid"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hbprefix</span> <span class="id" title="var">idl</span> <span class="id" title="var">_</span> <span class="id" title="var">id</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">dfirst</span> [<span class="id" title="var">Hprefix</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project_app_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_app_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hprefix</span> <span class="id" title="var">Hsuffix'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">itemx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suffix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinv2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">bfi</span> [<span class="id" title="var">Hdfinal</span> <span class="id" title="var">Hdinitial</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [..|<span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hdinitial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">dfirst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">j</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdinitial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdinitial</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bsj</span> [<span class="id" title="var">Hdinitial</span> <span class="id" title="var">_</span>]]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">bsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">remember</span> (<span class="id" title="var">bprefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">btr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_inv</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">btr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv</span>. { <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">bprefix</span>; <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinv</span> <span class="id" title="var">bs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lst_i</span> <span class="id" title="var">Hlst_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If an <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>'s valid trace segment <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a></span>s a message, then
  one of its projections must do so too.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_vlsm_trace_project_output_reflecting_inv" class="idref" href="#equivocator_vlsm_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting_inv</span></a><br/>
&nbsp;&nbsp;(<a id="is:33" class="idref" href="#is:33"><span class="id" title="binder">is</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:34" class="idref" href="#tr:34"><span class="id" title="binder">tr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:35" class="idref" href="#Htr:35"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:36" class="idref" href="#m:36"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbbs:37" class="idref" href="#Hbbs:37"><span class="id" title="binder">Hbbs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:36"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:38" class="idref" href="#j:38"><span class="id" title="binder">j</span></a> <a id="i:39" class="idref" href="#i:39"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:40" class="idref" href="#Hi:40"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:39"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hj:41" class="idref" href="#Hj:41"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_descriptor"><span class="id" title="definition">existing_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#j:38"><span class="id" title="variable">j</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="trX:42" class="idref" href="#trX:42"><span class="id" title="binder">trX</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HtrX:43" class="idref" href="#HtrX:43"><span class="id" title="binder">HtrX</span></a>: <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#j:38"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#trX:42"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:39"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:36"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#trX:42"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbbs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Houtput</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_label_descriptor"><span class="id" title="definition">equivocator_label_descriptor</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsndl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsndl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#preloaded_equivocator_vlsm_trace_project_valid_item_new_machine"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid_item_new_machine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hcontra</span> <span class="id" title="var">_</span>]]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#preloaded_equivocator_vlsm_trace_project_valid_item"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_valid_item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsndl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">itemx</span> [[<span class="id" title="var">d</span> <span class="id" title="var">Hitemx</span>] [<span class="id" title="var">trx</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">ifinal</span> [<span class="id" title="var">ifirst</span> [<span class="id" title="var">Hifirst</span> [<span class="id" title="var">Hifinal</span> <span class="id" title="var">Htrx</span>]]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ifinal</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">ifirst</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">trx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htrx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">itemx</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_transition_item_project_inv_messages"><span class="id" title="lemma">equivocator_transition_item_project_inv_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hitemx</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.oracle_lifting" class="idref" href="#equivocator_vlsm_message_properties.oracle_lifting"><span class="id" title="section">oracle_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;<a id="selector:44" class="idref" href="#selector:44"><span class="id" title="binder">selector</span></a><br/>
&nbsp;&nbsp;(<a id="Hselector_io:52" class="idref" href="#Hselector_io:52"><span class="id" title="binder">Hselector_io</span></a> : <span class="id" title="notation">forall</span> <a id="l1:45" class="idref" href="#l1:45"><span class="id" title="binder">l1</span></a> <a id="l2:46" class="idref" href="#l2:46"><span class="id" title="binder">l2</span></a> <a id="s1:47" class="idref" href="#s1:47"><span class="id" title="binder">s1</span></a> <a id="s2:48" class="idref" href="#s2:48"><span class="id" title="binder">s2</span></a> <a id="im:49" class="idref" href="#im:49"><span class="id" title="binder">im</span></a> <a id="om:50" class="idref" href="#om:50"><span class="id" title="binder">om</span></a> <a id="m:51" class="idref" href="#m:51"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#selector:44"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:51"><span class="id" title="variable">m</span></a>  {| <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>:= <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#l1:45"><span class="id" title="variable">l1</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#im:49"><span class="id" title="variable">im</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s1:47"><span class="id" title="variable">s1</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#om:50"><span class="id" title="variable">om</span></a> |} <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#selector:44"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:51"><span class="id" title="variable">m</span></a>  {| <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>:= <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#l2:46"><span class="id" title="variable">l2</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#im:49"><span class="id" title="variable">im</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s2:48"><span class="id" title="variable">s2</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#om:50"><span class="id" title="variable">om</span></a> |})<br/>
&nbsp;&nbsp;<a id="oracle:53" class="idref" href="#oracle:53"><span class="id" title="binder">oracle</span></a><br/>
&nbsp;&nbsp;(<a id="Hdec:54" class="idref" href="#Hdec:54"><span class="id" title="binder">Hdec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#oracle:53"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstepwise:55" class="idref" href="#Hstepwise:55"><span class="id" title="binder">Hstepwise</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#selector:44"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#oracle:53"><span class="id" title="variable">oracle</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="equivocator_selector" class="idref" href="#equivocator_selector"><span class="id" title="definition">equivocator_selector</span></a><br/>
&nbsp;&nbsp;(<a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:57" class="idref" href="#item:57"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:57"><span class="id" title="variable">item</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Spawn"><span class="id" title="constructor">Spawn</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> | <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#ForkWith"><span class="id" title="constructor">ForkWith</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:56"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> := <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:57"><span class="id" title="variable">item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_zero"><span class="id" title="definition">equivocator_state_zero</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:57"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#item:57"><span class="id" title="variable">item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
  We define <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as being the oracle for any
  of the internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_oracle" class="idref" href="#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a><br/>
&nbsp;&nbsp;(<a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:59" class="idref" href="#m:59"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:60" class="idref" href="#i:60"><span class="id" title="binder">i</span></a> <a id="si:61" class="idref" href="#si:61"><span class="id" title="binder">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:60"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#si:61"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#si:61"><span class="id" title="variable">si</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:59"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_oracle_dec" class="idref" href="#equivocator_oracle_dec"><span class="id" title="lemma">equivocator_oracle_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:64" class="idref" href="#i:64"><span class="id" title="binder">i</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">from_option</span> (<span class="id" title="keyword">fun</span> <a id="si:65" class="idref" href="#si:65"><span class="id" title="binder">si</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#si:63"><span class="id" title="variable">si</span></a> <span class="id" title="var">m</span>) <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:62"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">si</span> &amp; <span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">Hi</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Lib.FinExtras.html#up_to_n_full"><span class="id" title="lemma">up_to_n_full</span></a>, <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hi</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>); [<span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">Exists_dec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>); [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hdec"><span class="id" title="variable">Hdec</span></a> | <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_oracle_stepwise_props" class="idref" href="#equivocator_oracle_stepwise_props"><span class="id" title="lemma">equivocator_oracle_stepwise_props</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_selector"><span class="id" title="definition">equivocator_selector</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hstepwise"><span class="id" title="variable">Hstepwise</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn</span> <span class="id" title="var">His</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_singleton_state"><span class="id" title="definition">is_singleton_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> [<span class="id" title="var">sj</span> [<span class="id" title="var">Hsj</span> <span class="id" title="var">Hmbrj</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hltj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsj</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">oracle_no_inits</span>  <span class="id" title="var">_</span> <span class="id" title="var">His</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sdesc</span> | <span class="id" title="var">idesc</span> <span class="id" title="var">l</span> | <span class="id" title="var">idesc</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hisdesc</span> <span class="id" title="var">Him</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Him</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">ins</span> [<span class="id" title="var">sins</span> [<span class="id" title="var">Hsins</span> <span class="id" title="var">Hir</span>]]]. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_extend_project</span> <span class="id" title="var">s</span> <span class="id" title="var">sdesc</span> <span class="id" title="var">ins</span> <span class="id" title="var">Hins</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">ins</span>, <span class="id" title="var">sins</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsins</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">oracle_no_inits</span> <span class="id" title="var">_</span> <span class="id" title="var">Hisdesc</span> <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">H</span> | [<span class="id" title="var">ins</span> [<span class="id" title="var">sins</span> [<span class="id" title="var">Hsins</span> <span class="id" title="var">Hir</span>]]]]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ins</span>, <span class="id" title="var">sins</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_extend_project_1"><span class="id" title="lemma">equivocator_state_extend_project_1</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <span class="id" title="var">idesc</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">sidesc</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hidesc</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sidesc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">im</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">sidesc'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Htx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">oracle_step_update</span> <span class="id" title="var">l</span> <span class="id" title="var">sidesc</span> <span class="id" title="var">im</span> <span class="id" title="var">sidesc'</span> <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">oracle_step_update</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [..| <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_message_valid_initial_state_message"><span class="id" title="lemma">pre_loaded_with_all_messages_message_valid_initial_state_message</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) | <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#preloaded_equivocator_state_project_valid_state"><span class="id" title="lemma">preloaded_equivocator_state_project_valid_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_false_label_equivocator_state_project_not_same"><span class="id" title="lemma">existing_false_label_equivocator_state_project_not_same</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hnot_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_false_label_equivocator_state_project_same"><span class="id" title="lemma">existing_false_label_equivocator_state_project_same</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hom</span> <span class="id" title="var">Hsame</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">om'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_false_label_equivocator_transition_size"><span class="id" title="lemma">existing_false_label_equivocator_transition_size</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht_size</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">oracle_step_update</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> [<span class="id" title="var">s'i</span> [<span class="id" title="var">Hs'i</span> <span class="id" title="var">Hbri</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">idesc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--  <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs'i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">oracle_step_update</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbri</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbri</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">Hbri</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hselector_io"><span class="id" title="variable">Hselector_io</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <span class="id" title="var">s'i</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs'i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span> <span class="id" title="var">Hlti'</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oracle_step_update</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hidesc</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hltidesc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq_im</span> | [<span class="id" title="var">ins</span> [<span class="id" title="var">sins</span> [<span class="id" title="var">Hsins</span> <span class="id" title="var">Hbri</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_selector"><span class="id" title="definition">equivocator_selector</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hselector_io"><span class="id" title="variable">Hselector_io</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l2</span> := <span class="id" title="var">l</span>) (<span class="id" title="var">s2</span> := <span class="id" title="var">sidesc'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">oracle_step_update</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#or_introl"><span class="id" title="constructor">or_introl</span></a> <span class="id" title="var">Heq_im</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">idesc</span>, <span class="id" title="var">sidesc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span>  <span class="id" title="var">s'</span> <span class="id" title="var">idesc</span> <span class="id" title="var">_sidesc'</span> <span class="id" title="var">Hlst</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsins</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hltins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">idesc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ins</span>)). <span class="id" title="tactic">subst</span> <span class="id" title="var">idesc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsins</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hidesc</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hidesc</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sidesc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">oracle_step_update</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#or_intror"><span class="id" title="constructor">or_intror</span></a> <span class="id" title="var">Hbri</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ins</span>, <span class="id" title="var">sidesc'</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span> <span class="id" title="var">s'</span> <span class="id" title="var">ins</span> <span class="id" title="var">_sidesc'</span> <span class="id" title="var">Hins</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exists</span> <span class="id" title="var">ins</span>, <span class="id" title="var">sins</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span> <span class="id" title="var">ins</span>. <span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="var">spec</span> <span class="id" title="var">Hnot_same</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsins</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span> <span class="id" title="var">s'</span> <span class="id" title="var">ins</span> <span class="id" title="var">_sins</span> <span class="id" title="var">Hins</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_same</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <span class="id" title="var">idesc</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">sidesc</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hidesc</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sidesc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">im</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">sidesc'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Htx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">oracle_step_update</span> <span class="id" title="var">l</span> <span class="id" title="var">sidesc</span> <span class="id" title="var">im</span> <span class="id" title="var">sidesc'</span> <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">oracle_step_update</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [..| <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_message_valid_initial_state_message"><span class="id" title="lemma">pre_loaded_with_all_messages_message_valid_initial_state_message</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) | <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#preloaded_equivocator_state_project_valid_state"><span class="id" title="lemma">preloaded_equivocator_state_project_valid_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_true_label_equivocator_state_project_not_last"><span class="id" title="lemma">existing_true_label_equivocator_state_project_not_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hnot_last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_true_label_equivocator_state_project_last"><span class="id" title="lemma">existing_true_label_equivocator_state_project_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hom</span> <span class="id" title="var">Hlast</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">om'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#existing_true_label_equivocator_transition_size"><span class="id" title="lemma">existing_true_label_equivocator_transition_size</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">Hidesc</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht_size</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">oracle_step_update</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> [<span class="id" title="var">s'i</span> [<span class="id" title="var">Hs'i</span> <span class="id" title="var">Hbri</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_n"><span class="id" title="definition">equivocator_state_n</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--  <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs'i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">oracle_step_update</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbri</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbri</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">Hbri</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hselector_io"><span class="id" title="variable">Hselector_io</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <span class="id" title="var">s'i</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_last</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_last</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs'i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span> <span class="id" title="var">Hlti'</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oracle_step_update</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq_im</span> | [<span class="id" title="var">ins</span> [<span class="id" title="var">sins</span> [<span class="id" title="var">Hsins</span> <span class="id" title="var">Hbri</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_selector"><span class="id" title="definition">equivocator_selector</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting.Hselector_io"><span class="id" title="variable">Hselector_io</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l2</span> := <span class="id" title="var">l</span>) (<span class="id" title="var">s2</span> := <span class="id" title="var">sidesc'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">oracle_step_update</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#or_introl"><span class="id" title="constructor">or_introl</span></a> <span class="id" title="var">Heq_im</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_n"><span class="id" title="definition">equivocator_state_n</span></a> <span class="id" title="var">s</span>), <span class="id" title="var">sidesc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span>  <span class="id" title="var">s'</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_n"><span class="id" title="definition">equivocator_state_n</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">_sidesc'</span> <span class="id" title="var">Hlst</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsins</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hltins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnot_last</span> <span class="id" title="var">ins</span>. <span class="id" title="var">spec</span> <span class="id" title="var">Hnot_last</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsins</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ins</span>, <span class="id" title="var">sins</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_equivocator_state_project</span> <span class="id" title="var">s'</span> <span class="id" title="var">ins</span> <span class="id" title="var">_sins</span> <span class="id" title="var">Hltins'</span>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_last</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.oracle_lifting"><span class="id" title="section">oracle_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.has_been_received_lifting" class="idref" href="#equivocator_vlsm_message_properties.has_been_received_lifting"><span class="id" title="section">has_been_received_lifting</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab181"></a><h2 class="section">Lifting the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">message</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  We define <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as being received by any
  of the internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_has_been_received" class="idref" href="#equivocator_has_been_received"><span class="id" title="definition">equivocator_has_been_received</span></a>  := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="equivocator_has_been_received_dec" class="idref" href="#equivocator_has_been_received_dec"><span class="id" title="instance">equivocator_has_been_received_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_received"><span class="id" title="definition">equivocator_has_been_received</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle_dec"><span class="id" title="lemma">equivocator_oracle_dec</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_has_been_received_stepwise_props" class="idref" href="#equivocator_has_been_received_stepwise_props"><span class="id" title="lemma">equivocator_has_been_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_received"><span class="id" title="definition">equivocator_has_been_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props_change_selector"><span class="id" title="lemma">oracle_stepwise_props_change_selector</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle_stepwise_props"><span class="id" title="lemma">equivocator_oracle_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3:<span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Him</span>) <span class="id" title="var">_</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Him</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally we define the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>. 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="equivocator_HasBeenReceivedCapability" class="idref" href="#equivocator_HasBeenReceivedCapability"><span class="id" title="instance">equivocator_HasBeenReceivedCapability</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_received_dec"><span class="id" title="instance">equivocator_has_been_received_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_received_stepwise_props"><span class="id" title="lemma">equivocator_has_been_received_stepwise_props</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.has_been_received_lifting"><span class="id" title="section">has_been_received_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.has_been_sent_lifting" class="idref" href="#equivocator_vlsm_message_properties.has_been_sent_lifting"><span class="id" title="section">has_been_sent_lifting</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab182"></a><h2 class="section">Lifting the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">message</span></a> <a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  We define <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as being sent by any
  of the internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_has_been_sent" class="idref" href="#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>  := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle"><span class="id" title="definition">equivocator_oracle</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="equivocator_has_been_sent_dec" class="idref" href="#equivocator_has_been_sent_dec"><span class="id" title="instance">equivocator_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle_dec"><span class="id" title="lemma">equivocator_oracle_dec</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_has_been_sent_stepwise_props" class="idref" href="#equivocator_has_been_sent_stepwise_props"><span class="id" title="lemma">equivocator_has_been_sent_stepwise_props</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props_change_selector"><span class="id" title="lemma">oracle_stepwise_props_change_selector</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_oracle_stepwise_props"><span class="id" title="lemma">equivocator_oracle_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3:<span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally we define the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>. 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="equivocator_HasBeenSentCapability" class="idref" href="#equivocator_HasBeenSentCapability"><span class="id" title="instance">equivocator_HasBeenSentCapability</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent_dec"><span class="id" title="instance">equivocator_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent_stepwise_props"><span class="id" title="lemma">equivocator_has_been_sent_stepwise_props</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.has_been_sent_lifting"><span class="id" title="section">has_been_sent_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.ComputableSentMessages_lifting" class="idref" href="#equivocator_vlsm_message_properties.ComputableSentMessages_lifting"><span class="id" title="section">ComputableSentMessages_lifting</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab183"></a><h2 class="section">Lifting the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="record">ComputableSentMessages</span></a></span> property</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:68" class="idref" href="#ComputableSentMessages0:68"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:68" class="idref" href="#ComputableSentMessages0:68"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:68" class="idref" href="#ComputableSentMessages0:68"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`(<a id="EqDecision0:69" class="idref" href="#EqDecision0:69"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:69" class="idref" href="#EqDecision0:69"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  We define the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="projection">sent_messages_set</span></a></span> for the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as the
  union of all <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="projection">sent_messages_set</span></a></span> for its internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_sent_messages_set" class="idref" href="#equivocator_sent_messages_set"><span class="id" title="definition">equivocator_sent_messages_set</span></a><br/>
&nbsp;&nbsp;(<a id="s:70" class="idref" href="#s:70"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:71" class="idref" href="#i:71"><span class="id" title="binder">i</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s:70"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#i:71"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">si</span> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="method">sent_messages_set</span></a> <span class="id" title="var">si</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.FinExtras.html#up_to_n_listing"><span class="id" title="definition">up_to_n_listing</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_n"><span class="id" title="definition">equivocator_state_n</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s:70"><span class="id" title="variable">s</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_elem_of_sent_messages_set" class="idref" href="#equivocator_elem_of_sent_messages_set"><span class="id" title="lemma">equivocator_elem_of_sent_messages_set</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) (<a id="m:73" class="idref" href="#m:73"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s:72"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:73"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#m:73"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_sent_messages_set"><span class="id" title="definition">equivocator_sent_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#s:72"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">si</span> &amp; <span class="id" title="var">Hsi</span> &amp; <span class="id" title="var">Hbs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>, <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_sent_messages_set"><span class="id" title="lemma">elem_of_sent_messages_set</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Lib.FinExtras.html#up_to_n_full"><span class="id" title="lemma">up_to_n_full</span></a>, <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>, <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">senti</span> &amp; <span class="id" title="var">Hsenti</span> &amp; <span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsenti</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span> &amp; -&gt; &amp; <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinExtras.html#up_to_n_full"><span class="id" title="lemma">up_to_n_full</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project"><span class="id" title="definition">equivocator_state_project</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsi</span>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <span class="id" title="var">si</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_sent_messages_set"><span class="id" title="lemma">elem_of_sent_messages_set</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocator_ComputableSentMessages" class="idref" href="#equivocator_ComputableSentMessages"><span class="id" title="lemma">equivocator_ComputableSentMessages</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="class">ComputableSentMessages</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_sent_messages_set"><span class="id" title="definition">equivocator_sent_messages_set</span></a>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_elem_of_sent_messages_set"><span class="id" title="lemma">equivocator_elem_of_sent_messages_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent_stepwise_props"><span class="id" title="lemma">equivocator_has_been_sent_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_elem_of_sent_messages_set"><span class="id" title="lemma">equivocator_elem_of_sent_messages_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_has_been_sent_stepwise_props"><span class="id" title="lemma">equivocator_has_been_sent_stepwise_props</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.ComputableSentMessages_lifting"><span class="id" title="section">ComputableSentMessages_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties"><span class="id" title="section">equivocator_vlsm_message_properties</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
