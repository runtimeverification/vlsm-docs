<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Cdcl</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Itauto</span>. #[<span class="id" title="var">local</span>] <span class="id" title="keyword">Tactic</span> <span class="id" title="keyword">Notation</span> "itauto" := <span class="id" title="var">itauto</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">StdppListSet</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.Validator.html#"><span class="id" title="library">Validator</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a> <a class="idref" href="VLSM.Core.EquivocationProjections.html#"><span class="id" title="library">EquivocationProjections</span></a> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#"><span class="id" title="library">Equivocation.NoEquivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab138"></a><h1 class="section">VLSM Subcomposition</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition" class="idref" href="#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">finite.Finite</span></a> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:5" class="idref" href="#IM:5"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_list:6" class="idref" href="#sub_index_list:6"><span class="id" title="binder">sub_index_list</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index_prop" class="idref" href="#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a id="i:7" class="idref" href="#i:7"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:7"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="sub_index_prop_dec" class="idref" href="#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a><br/>
&nbsp;&nbsp;(<a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:8"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="definition">decide_rel</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index" class="idref" href="#sub_index"><span class="id" title="definition">sub_index</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="definition">dsig</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM" class="idref" href="#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;(<a id="ei:9" class="idref" href="#ei:9"><span class="id" title="binder">ei</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#ei:9"><span class="id" title="variable">ei</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_pi" class="idref" href="#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a><br/>
&nbsp;&nbsp;{<a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:11" class="idref" href="#s:11"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="e1:12" class="idref" href="#e1:12"><span class="id" title="binder">e1</span></a> <a id="e2:13" class="idref" href="#e2:13"><span class="id" title="binder">e2</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:11"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e1:12"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:11"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e2:13"><span class="id" title="variable">e2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">dexist</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="lemma">bool_decide_pack</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>) <span class="id" title="keyword">with</span> (<span class="id" title="lemma">bool_decide_pack</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">proof_irrel</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_update_eq" class="idref" href="#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a><br/>
&nbsp;&nbsp;(<a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:15" class="idref" href="#s:15"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="si:16" class="idref" href="#si:16"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:14"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="e1:17" class="idref" href="#e1:17"><span class="id" title="binder">e1</span></a> <a id="e2:18" class="idref" href="#e2:18"><span class="id" title="binder">e2</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:14"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:15"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e1:17"><span class="id" title="variable">e1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si:16"><span class="id" title="variable">si</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e2:18"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si:16"><span class="id" title="variable">si</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="notation">forall</span> <a id="be1:21" class="idref" href="#be1:21"><span class="id" title="binder">be1</span></a> <a id="be2:22" class="idref" href="#be2:22"><span class="id" title="binder">be2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be1:19"><span class="id" title="variable">be1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be2:20"><span class="id" title="variable">be2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be1:19"><span class="id" title="variable">be1</span></a>) <span class="id" title="var">si</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be2:20"><span class="id" title="variable">be2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">si</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">proof_irrel</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_update_neq" class="idref" href="#sub_IM_state_update_neq"><span class="id" title="lemma">sub_IM_state_update_neq</span></a><br/>
&nbsp;&nbsp;(<a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:24" class="idref" href="#i:24"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="ei:25" class="idref" href="#ei:25"><span class="id" title="binder">ei</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:24"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="si:26" class="idref" href="#si:26"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:24"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="j:27" class="idref" href="#j:27"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="ej:28" class="idref" href="#ej:28"><span class="id" title="binder">ej</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:27"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:24"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:27"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:23"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:24"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#ei:25"><span class="id" title="variable">ei</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si:26"><span class="id" title="variable">si</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:27"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#ej:28"><span class="id" title="variable">ej</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:23"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:27"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#ej:28"><span class="id" title="variable">ej</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; <span class="id" title="tactic">inversion</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_vlsm_composition" class="idref" href="#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="seeded_free_sub_composition" class="idref" href="#seeded_free_sub_composition"><span class="id" title="definition">seeded_free_sub_composition</span></a><br/>
&nbsp;&nbsp;(<a id="messageSet:29" class="idref" href="#messageSet:29"><span class="id" title="binder">messageSet</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m:30" class="idref" href="#m:30"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#messageSet:29"><span class="id" title="variable">messageSet</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:30"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:30"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_state_sub_projection" class="idref" href="#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="subi:32" class="idref" href="#subi:32"><span class="id" title="binder">subi</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>) =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:31"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#subi:32"><span class="id" title="variable">subi</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#subi:32"><span class="id" title="variable">subi</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_initial_state_sub_projection" class="idref" href="#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:33" class="idref" href="#s:33"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:34" class="idref" href="#Hs:34"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:33"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:33"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>, <span class="id" title="var">Hi</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_label_sub_projection" class="idref" href="#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="l:35" class="idref" href="#l:35"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:35"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;(<a id="e:37" class="idref" href="#e:37"><span class="id" title="binder">e</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e:37"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:35"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_label" class="idref" href="#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a><br/>
&nbsp;&nbsp;(<a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:38"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:38"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_state_to" class="idref" href="#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a><br/>
&nbsp;&nbsp;(<a id="s0:39" class="idref" href="#s0:39"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:40" class="idref" href="#s:40"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="i:41" class="idref" href="#i:41"><span class="id" title="binder">i</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> @<span class="id" title="definition">decide</span>  (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:41"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:41"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:40"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:41"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:39"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:41"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_state" class="idref" href="#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> (<span class="id" title="keyword">fun</span> (<a id="n:42" class="idref" href="#n:42"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#n:42"><span class="id" title="variable">n</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_eq" class="idref" href="#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a><br/>
&nbsp;&nbsp;(<a id="s0:43" class="idref" href="#s0:43"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:44" class="idref" href="#s:44"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hi:46" class="idref" href="#Hi:46"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:45"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:43"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:44"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:45"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:44"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:45"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hi:46"><span class="id" title="variable">Hi</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_neq" class="idref" href="#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a><br/>
&nbsp;&nbsp;(<a id="s0:47" class="idref" href="#s0:47"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:49" class="idref" href="#i:49"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hni:50" class="idref" href="#Hni:50"><span class="id" title="binder">Hni</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:49"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:47"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:49"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:47"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:49"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>; <span class="id" title="var">case_decide</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_state_sub_projection_lift_to" class="idref" href="#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a><br/>
&nbsp;&nbsp;(<a id="s0:51" class="idref" href="#s0:51"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:52" class="idref" href="#s:52"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:51"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:52"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:52"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hi</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_neq_state_update" class="idref" href="#lift_sub_state_to_neq_state_update"><span class="id" title="lemma">lift_sub_state_to_neq_state_update</span></a><br/>
&nbsp;&nbsp;(<a id="s0:53" class="idref" href="#s0:53"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:55" class="idref" href="#i:55"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hni:56" class="idref" href="#Hni:56"><span class="id" title="binder">Hni</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:55"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;<a id="si':57" class="idref" href="#si':57"><span class="id" title="binder">si'</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:53"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:54"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:55"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si':57"><span class="id" title="variable">si'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:53"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:55"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si':57"><span class="id" title="variable">si'</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:54"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">case_decide</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_neq"><span class="id" title="lemma">sub_IM_state_update_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq_state_update"><span class="id" title="lemma">lift_sub_state_to_neq_state_update</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.sec_induced_sub_projection" class="idref" href="#sub_composition.sec_induced_sub_projection"><span class="id" title="section">sec_induced_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:58" class="idref" href="#constraint:58"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:59" class="idref" href="#X:59"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:58"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_label_sub_projection_option" class="idref" href="#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;(<a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:60"><span class="id" title="variable">l</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">i_in</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:60"><span class="id" title="variable">l</span></a> <span class="id" title="var">i_in</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
  By restricting the components of a composition to a subset we obtain a
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator"><span class="id" title="definition">projection_induced_validator</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="pre_induced_sub_projection" class="idref" href="#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Validator.html#pre_projection_induced_validator"><span class="id" title="definition">pre_projection_induced_validator</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_consistency_None" class="idref" href="#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#weak_projection_transition_consistency_None"><span class="id" title="definition">weak_projection_transition_consistency_None</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">HlX</span> <span class="id" title="var">sX</span> <span class="id" title="var">om</span> <span class="id" title="var">s'X</span> <span class="id" title="var">om'</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">intros</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_label_sub_projection_option_lift" class="idref" href="#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Validator.html#induced_validator_label_lift_prop"><span class="id" title="definition">induced_validator_label_lift_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">sub_i</span> <span class="id" title="var">li</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">f_equal</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_sigT_eq"><span class="id" title="lemma">dec_sig_sigT_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:61"><span class="id" title="variable">i</span></a>))).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_state_sub_projection_lift" class="idref" href="#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Validator.html#induced_validator_state_lift_prop"><span class="id" title="definition">induced_validator_state_lift_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_trace_sub_projection_lift" class="idref" href="#composite_trace_sub_projection_lift"><span class="id" title="lemma">composite_trace_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;(<a id="tr:63" class="idref" href="#tr:63"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>))<br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:63"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:63"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Validator.html#induced_validator_trace_lift"><span class="id" title="lemma">induced_validator_trace_lift</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_consistency_Some" class="idref" href="#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Validator.html#induced_validator_transition_consistency_Some"><span class="id" title="definition">induced_validator_transition_consistency_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX1</span> <span class="id" title="var">lX2</span> <span class="id" title="var">lY</span> <span class="id" title="var">HlX1_pr</span> <span class="id" title="var">HlX2_pr</span> <span class="id" title="var">sX1</span> <span class="id" title="var">sX2</span> <span class="id" title="var">HsXeq_pr</span> <span class="id" title="var">iom</span> <span class="id" title="var">sX1'</span> <span class="id" title="var">oom1</span> <span class="id" title="var">Ht1</span> <span class="id" title="var">sX2'</span> <span class="id" title="var">oom2</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">lXi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>. <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_i</span>, <span class="id" title="var">_lXi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>. <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H_i</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_sigT_eq_rev"><span class="id" title="lemma">dec_sig_sigT_eq_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:64"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal_dep</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HsXeq_pri</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pri</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht1</span>, <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HsXeq_pri</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal_dep</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">sub_j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a></span> is actually a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a></span> of the
  original composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_is_projection" class="idref" href="#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator_is_projection"><span class="id" title="lemma">projection_induced_validator_is_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_valid_projection" class="idref" href="#induced_sub_projection_valid_projection"><span class="id" title="lemma">induced_sub_projection_valid_projection</span></a> <a id="l:66" class="idref" href="#l:66"><span class="id" title="binder">l</span></a> <a id="s:67" class="idref" href="#s:67"><span class="id" title="binder">s</span></a> <a id="om:68" class="idref" href="#om:68"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:69" class="idref" href="#Hv:69"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:66"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:67"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:68"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:70" class="idref" href="#i:70"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:70"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:71" class="idref" href="#l:71"><span class="id" title="binder">l</span></a> <a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:70"><span class="id" title="variable">i</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:71"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:72"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:68"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lX</span> &amp; <span class="id" title="var">sX</span> &amp; [<span class="id" title="var">HlX</span> <span class="id" title="var">Heqs</span> (<span class="id" title="var">HsX</span> &amp; <span class="id" title="var">Hom</span> &amp; <span class="id" title="var">Hv</span>)]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">_li</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_li</span>, (<span class="id" title="var">sX</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_valid_state"><span class="id" title="definition">VLSM_projection_valid_state</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.constraint"><span class="id" title="variable">constraint</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_is_composite" class="idref" href="#induced_sub_projection_transition_is_composite"><span class="id" title="lemma">induced_sub_projection_transition_is_composite</span></a> <a id="l:73" class="idref" href="#l:73"><span class="id" title="binder">l</span></a> <a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> <a id="om:75" class="idref" href="#om:75"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:74"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:75"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:74"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:75"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hi</span>); <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_k</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> <span class="id" title="var">Heqsub_k</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection"><span class="id" title="section">sec_induced_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.induced_sub_projection_subsumption" class="idref" href="#sub_composition.induced_sub_projection_subsumption"><span class="id" title="section">induced_sub_projection_subsumption</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint1:76" class="idref" href="#constraint1:76"><span class="id" title="binder">constraint1</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="constraint2:77" class="idref" href="#constraint2:77"><span class="id" title="binder">constraint2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_constraint_subsumption_incl" class="idref" href="#induced_sub_projection_constraint_subsumption_incl"><span class="id" title="lemma">induced_sub_projection_constraint_subsumption_incl</span></a><br/>
&nbsp;&nbsp;(<a id="Hsubsumption:78" class="idref" href="#Hsubsumption:78"><span class="id" title="binder">Hsubsumption</span></a> : <a class="idref" href="VLSM.Core.Composition.html#input_valid_constraint_subsumption"><span class="id" title="definition">input_valid_constraint_subsumption</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint1"><span class="id" title="variable">constraint1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint2"><span class="id" title="variable">constraint2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint1"><span class="id" title="variable">constraint1</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint2"><span class="id" title="variable">constraint2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator_incl"><span class="id" title="lemma">projection_induced_validator_incl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption"><span class="id" title="section">induced_sub_projection_subsumption</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="from_sub_projection" class="idref" href="#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_sub_projection" class="idref" href="#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) :=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.sub_projection_with_no_equivocation_constraints" class="idref" href="#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:79" class="idref" href="#constraint:79"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;`{<a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">forall</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">i</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">:</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">index</span></a><a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">,</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">(</span></a><a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">(</span></a><a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">IM</span></a> <a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">i</span></a><a id="H0:81" class="idref" href="#H0:81"><span class="id" title="binder">))</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:82" class="idref" href="#Free:82"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Sub_Free:83" class="idref" href="#Sub_Free:83"><span class="id" title="binder">Sub_Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:84" class="idref" href="#X:84"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:79"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="Pre:85" class="idref" href="#Pre:85"><span class="id" title="binder">Pre</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="sub_index_list_annotate" class="idref" href="#sub_index_list_annotate"><span class="id" title="definition">sub_index_list_annotate</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="stdpp_finite_sub_index" class="idref" href="#stdpp_finite_sub_index"><span class="id" title="instance">stdpp_finite_sub_index</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">finite.Finite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">remove_dups</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_list_annotate"><span class="id" title="definition">sub_index_list_annotate</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_remove_dups</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">sub_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_remove_dups</span>, <a class="idref" href="VLSM.Lib.StdppExtras.html#elem_of_list_annotate"><span class="id" title="lemma">elem_of_list_annotate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_x</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Heqsub_x</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_sub_projection_app" class="idref" href="#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a><br/>
&nbsp;&nbsp;(<a id="tr1:86" class="idref" href="#tr1:86"><span class="id" title="binder">tr1</span></a> <a id="tr2:87" class="idref" href="#tr2:87"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:86"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:87"><span class="id" title="variable">tr2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:86"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:87"><span class="id" title="variable">tr2</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project_app"><span class="id" title="definition">pre_VLSM_projection_finite_trace_project_app</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:86"><span class="id" title="variable">tr1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:87"><span class="id" title="variable">tr2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="X_incl_Pre" class="idref" href="#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_last_state" class="idref" href="#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a><br/>
&nbsp;&nbsp;(<a id="start:88" class="idref" href="#start:88"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="transitions:89" class="idref" href="#transitions:89"><span class="id" title="binder">transitions</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:90" class="idref" href="#Htr:90"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:88"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:89"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstx:91" class="idref" href="#lstx:91"><span class="id" title="binder">lstx</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:88"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:89"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstj:92" class="idref" href="#lstj:92"><span class="id" title="binder">lstj</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:88"><span class="id" title="variable">start</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:89"><span class="id" title="variable">transitions</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lstj:92"><span class="id" title="variable">lstj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lstx:91"><span class="id" title="variable">lstx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_trace_last"><span class="id" title="definition">VLSM_projection_finite_trace_last</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_sub_projection" class="idref" href="#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:93" class="idref" href="#l:93"><span class="id" title="binder">l</span></a> <a id="s:94" class="idref" href="#s:94"><span class="id" title="binder">s</span></a> <a id="om:95" class="idref" href="#om:95"><span class="id" title="binder">om</span></a> <a id="s':96" class="idref" href="#s':96"><span class="id" title="binder">s'</span></a> <a id="om':97" class="idref" href="#om':97"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:98" class="idref" href="#Ht:98"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:93"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:94"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:95"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':96"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':97"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:99" class="idref" href="#Hsub:99"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:93"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">dexist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:93"><span class="id" title="variable">l</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hsub:99"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:93"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:94"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:95"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':96"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':97"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">omi'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">omi'</span> <span class="id" title="var">s'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <span class="id" title="var">_</span>) := ?<span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_sub_projection" class="idref" href="#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> <a id="s:101" class="idref" href="#s:101"><span class="id" title="binder">s</span></a> <a id="om:102" class="idref" href="#om:102"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:103" class="idref" href="#Hv:103"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:100"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:101"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:102"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:104" class="idref" href="#Hsub:104"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:100"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">dexist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:100"><span class="id" title="variable">l</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hsub:104"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:100"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:101"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:102"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="seed:105" class="idref" href="#seed:105"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="sub_constraint:106" class="idref" href="#sub_constraint:106"><span class="id" title="binder">sub_constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Xj:107" class="idref" href="#Xj:107"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:105"><span class="id" title="variable">seed</span></a> )<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Xj_incl_Pre_Sub_Free" class="idref" href="#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Xj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#preloaded_constraint_subsumption_incl"><span class="id" title="lemma">preloaded_constraint_subsumption_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_pre_loaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_pre_loaded</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="m:109" class="idref" href="#m:109"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="notation">True</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#pre_loaded_vlsm_incl"><span class="id" title="lemma">pre_loaded_vlsm_incl</span></a> <span class="id" title="var">v</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> (<span class="id" title="keyword">fun</span> <a id="m:111" class="idref" href="#m:111"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="notation">True</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_incl_iff"><span class="id" title="lemma">VLSM_eq_incl_iff</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Property of a composite trace requiring that every message received in an
  transition involving a machine in the chosen subset must either belong to
  the set specified by <span class="inlinecode"><span class="id" title="var">seed</span></span>, or it must <span class="inlinecode"><span class="id" title="var">have_been_sent</span></span> by some machine
  in the chosen subset (prior to it being received).

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="trace_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="tr:112" class="idref" href="#tr:112"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="pre:113" class="idref" href="#pre:113"><span class="id" title="binder">pre</span></a> <a id="item:114" class="idref" href="#item:114"><span class="id" title="binder">item</span></a> <a id="suf:115" class="idref" href="#suf:115"><span class="id" title="binder">suf</span></a> <a id="m:116" class="idref" href="#m:116"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:112"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre:113"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:114"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#suf:115"><span class="id" title="variable">suf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:114"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:116"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:114"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:116"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="pre_item:117" class="idref" href="#pre_item:117"><span class="id" title="binder">pre_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:117"><span class="id" title="variable">pre_item</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre:113"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:117"><span class="id" title="variable">pre_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:116"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:117"><span class="id" title="variable">pre_item</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:118" class="idref" href="#s:118"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">forall</span> <a id="is:119" class="idref" href="#is:119"><span class="id" title="binder">is</span></a> <a id="tr:120" class="idref" href="#tr:120"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#is:119"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:120"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:120"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_sub_projection" class="idref" href="#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:121" class="idref" href="#s:121"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:122" class="idref" href="#tr:122"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hmsg:123" class="idref" href="#Hmsg:123"><span class="id" title="binder">Hmsg</span></a> :  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:122"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:124" class="idref" href="#Htr:124"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:121"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:122"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:121"><span class="id" title="variable">s</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:122"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hisp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> <span class="id" title="var">suf</span> <span class="id" title="var">m</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> (<span class="id" title="var">suf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hmsg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>); [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtr</span>; <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlx</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="definition">finite_valid_trace_singleton</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hlx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hlx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htj</span>, <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_Some"><span class="id" title="lemma">option_valid_message_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <span class="id" title="var">Hlx</span> <span class="id" title="var">IHtr</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">tr</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">at</span> 1, <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmsg</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]<br/>
    ; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>); <span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IHtr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project_is_Some"><span class="id" title="lemma">pre_VLSM_projection_transition_item_project_is_Some</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">item</span> <span class="id" title="var">Hsub_item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> <span class="id" title="var">HitemX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hmsg</span> <span class="id" title="var">Sub_Free</span> <span class="id" title="var">Hlst</span> <span class="id" title="var">His</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">at</span> 1, <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">tr</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmsg</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst_pre</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>) <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">s</span>), (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsome</span>: <span class="id" title="definition">is_Some</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">item</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project_is_Some"><span class="id" title="lemma">pre_VLSM_projection_transition_item_project_is_Some</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">is_Some_proj</span> <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hproj</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">contradict</span> <span class="id" title="var">Hsome</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">is_Some_None</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hproj</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_sub_projection" class="idref" href="#valid_state_sub_projection"><span class="id" title="lemma">valid_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:126" class="idref" href="#Hs:126"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:125"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:127" class="idref" href="#Hps:127"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:125"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:125"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hps</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hptr</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_from_sub_projection" class="idref" href="#finite_valid_trace_from_sub_projection"><span class="id" title="lemma">finite_valid_trace_from_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:128" class="idref" href="#s:128"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:129" class="idref" href="#tr:129"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="lst:130" class="idref" href="#lst:130"><span class="id" title="binder">lst</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:128"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:129"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmsg:131" class="idref" href="#Hmsg:131"><span class="id" title="binder">Hmsg</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lst:130"><span class="id" title="variable">lst</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:132" class="idref" href="#Htr:132"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:128"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:129"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:128"><span class="id" title="variable">s</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:129"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_complete_left"><span class="id" title="lemma">finite_valid_trace_from_complete_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpre_lst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">lst</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_initial" class="idref" href="#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s:133" class="idref" href="#s:133"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:134" class="idref" href="#Hs:134"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:133"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:133"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hs</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_initial" class="idref" href="#lift_sub_state_to_initial"><span class="id" title="lemma">lift_sub_state_to_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s0:135" class="idref" href="#s0:135"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs0:136" class="idref" href="#Hs0:136"><span class="id" title="binder">Hs0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:135"><span class="id" title="variable">s0</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:138" class="idref" href="#Hs:138"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:137"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:135"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:137"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hs</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_message_initial" class="idref" href="#lift_sub_message_initial"><span class="id" title="lemma">lift_sub_message_initial</span></a><br/>
&nbsp;&nbsp;(<a id="m:139" class="idref" href="#m:139"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:140" class="idref" href="#Hm:140"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:139"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:139"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_valid" class="idref" href="#lift_sub_valid"><span class="id" title="lemma">lift_sub_valid</span></a> <a id="l:141" class="idref" href="#l:141"><span class="id" title="binder">l</span></a> <a id="s:142" class="idref" href="#s:142"><span class="id" title="binder">s</span></a> <a id="om:143" class="idref" href="#om:143"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:144" class="idref" href="#Hv:144"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:141"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:142"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:143"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:141"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:142"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:143"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">_Hi</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> <span class="id" title="var">_Hi</span> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_transition" class="idref" href="#lift_sub_transition"><span class="id" title="lemma">lift_sub_transition</span></a> <a id="l:145" class="idref" href="#l:145"><span class="id" title="binder">l</span></a> <a id="s:146" class="idref" href="#s:146"><span class="id" title="binder">s</span></a> <a id="om:147" class="idref" href="#om:147"><span class="id" title="binder">om</span></a> <a id="s':148" class="idref" href="#s':148"><span class="id" title="binder">s'</span></a> <a id="om':149" class="idref" href="#om':149"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:150" class="idref" href="#Ht:150"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:145"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:147"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':148"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':149"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:145"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:147"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':148"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':149"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">_Hi</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> <span class="id" title="var">_Hi</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">_Hi</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>); <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">case_decide</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_neq"><span class="id" title="lemma">sub_IM_state_update_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq_state_update"><span class="id" title="lemma">lift_sub_state_to_neq_state_update</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="comment">(*&nbsp;make&nbsp;initial&nbsp;arguments&nbsp;of&nbsp;lift_sub_transition&nbsp;not&nbsp;maximally&nbsp;inserted,<br/>
&nbsp;&nbsp;&nbsp;so&nbsp;tactics&nbsp;like&nbsp;rapply&nbsp;lift_sub_transition<br/>
&nbsp;&nbsp;&nbsp;do&nbsp;not&nbsp;try&nbsp;to&nbsp;guess&nbsp;those&nbsp;arguments&nbsp;before&nbsp;looking&nbsp;at&nbsp;the&nbsp;goal,<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;always&nbsp;write&nbsp;rapply&nbsp;@lift_sub_transition.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_transition"><span class="id" title="lemma">lift_sub_transition</span></a> [<span class="id" title="var">message</span> <span class="id" title="var">index</span>]%<span class="id" title="var">type_scope</span> {<span class="id" title="var">EqDecision0</span>} <span class="id" title="var">IM</span>%<span class="id" title="var">function_scope</span><br/>
&nbsp;&nbsp;<span class="id" title="var">sub_index_list</span>%<span class="id" title="var">list_scope</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab139"></a><h2 class="section">Lifting a trace from a sub-composition to the full composition</h2>


<div class="paragraph"> </div>

  In this section we first show that given a valid state for a composition of
  all nodes we can reset some of its state-components to initial states for those
  components without losing the valid state property.

<div class="paragraph"> </div>

  The set of nodes for which the reset operation will happen is <code>equivocators</code>.

<div class="paragraph"> </div>

  We then show that a similar result holds for replacing the equivocator
  components with the components corresponding to any valid state of the
  composition of just the equivocators.

<div class="paragraph"> </div>

  We proving those results for compositions pre-loaded with all messages
  (Lemmas <span class="inlinecode"><span class="id" title="var">reset_equivocating_transitions_preloaded_projection</span></span> and
  <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a></span>).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="lift_sub_state_to_preloaded" class="idref" href="#lift_sub_state_to_preloaded"><span class="id" title="section">lift_sub_state_to_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:151" class="idref" href="#message:151"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:154" class="idref" href="#H:154"><span class="id" title="binder">finite.Finite</span></a> <a id="H:154" class="idref" href="#H:154"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:155" class="idref" href="#IM:155"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:152"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:151"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocators:156" class="idref" href="#equivocators:156"><span class="id" title="binder">equivocators</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:152"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:157" class="idref" href="#Free:157"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:155"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreFree:158" class="idref" href="#PreFree:158"><span class="id" title="binder">PreFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Free:157"><span class="id" title="variable">Free</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocating_IM:159" class="idref" href="#equivocating_IM:159"><span class="id" title="binder">equivocating_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:155"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#equivocators:156"><span class="id" title="variable">equivocators</span></a> )<br/>
&nbsp;&nbsp;(<a id="SubFree:160" class="idref" href="#SubFree:160"><span class="id" title="binder">SubFree</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:151"><span class="id" title="variable">message</span></a> :=  <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#equivocating_IM:159"><span class="id" title="variable">equivocating_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreSubFree:161" class="idref" href="#PreSubFree:161"><span class="id" title="binder">PreSubFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#SubFree:160"><span class="id" title="variable">SubFree</span></a>)<br/>
&nbsp;&nbsp;(<a id="base_s:162" class="idref" href="#base_s:162"><span class="id" title="binder">base_s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:155"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbase_s:163" class="idref" href="#Hbase_s:163"><span class="id" title="binder">Hbase_s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreFree:158"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#base_s:162"><span class="id" title="variable">base_s</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
A partial label projection function which only keeps non-equivocating transitions. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="remove_equivocating_label_project" class="idref" href="#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a id="l:164" class="idref" href="#l:164"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:164"><span class="id" title="variable">l</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:164"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
Replaces the state components of the given state with those of <code>eqv_is</code>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="remove_equivocating_state_project" class="idref" href="#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a id="eqv_is:165" class="idref" href="#eqv_is:165"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="s:166" class="idref" href="#s:166"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:165"><span class="id" title="variable">eqv_is</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_valid_preservation" class="idref" href="#remove_equivocating_strong_projection_valid_preservation"><span class="id" title="lemma">remove_equivocating_strong_projection_valid_preservation</span></a> <a id="eqv_is:167" class="idref" href="#eqv_is:167"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_valid_preservation"><span class="id" title="definition">strong_projection_valid_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:167"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">lY</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span> | <span class="id" title="var">done</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_transition_preservation_Some" class="idref" href="#remove_equivocating_strong_projection_transition_preservation_Some"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_preservation_Some</span></a> <a id="eqv_is:168" class="idref" href="#eqv_is:168"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_transition_preservation_Some"><span class="id" title="definition">strong_projection_transition_preservation_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:168"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">lY</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_transition_consistency_None" class="idref" href="#remove_equivocating_strong_projection_transition_consistency_None"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_consistency_None</span></a> <a id="eqv_is:169" class="idref" href="#eqv_is:169"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_transition_consistency_None"><span class="id" title="definition">strong_projection_transition_consistency_None</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:169"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_full_projection_initial_state_preservation" class="idref" href="#remove_equivocating_strong_full_projection_initial_state_preservation"><span class="id" title="lemma">remove_equivocating_strong_full_projection_initial_state_preservation</span></a> <a id="eqv_is:170" class="idref" href="#eqv_is:170"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;(<a id="Heqv_is:171" class="idref" href="#Heqv_is:171"><span class="id" title="binder">Heqv_is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:170"><span class="id" title="variable">eqv_is</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_initial_state_preservation"><span class="id" title="definition">strong_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:170"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Heqv_is</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">s0</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given any valid trace for the composition of all nodes and an initial state
  for the composition of just the equivocators, the trace obtained by resetting
  the components corresponding to the equivocators to those of the given initial
  state and removing the transitions corresponding to the equivocators is
  still a valid trace.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_transitions_preloaded_projection" class="idref" href="#remove_equivocating_transitions_preloaded_projection"><span class="id" title="lemma">remove_equivocating_transitions_preloaded_projection</span></a> <a id="eqv_is:172" class="idref" href="#eqv_is:172"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;(<a id="Heqv_is:173" class="idref" href="#Heqv_is:173"><span class="id" title="binder">Heqv_is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:172"><span class="id" title="variable">eqv_is</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:172"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#basic_VLSM_projection_preloaded"><span class="id" title="lemma">basic_VLSM_projection_preloaded</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_valid_preservation"><span class="id" title="lemma">remove_equivocating_strong_projection_valid_preservation</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_transition_preservation_Some"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_preservation_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_transition_consistency_None"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_consistency_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_full_projection_initial_state_preservation"><span class="id" title="lemma">remove_equivocating_strong_full_projection_initial_state_preservation</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_lift_sub_state_to_initial_state" class="idref" href="#preloaded_lift_sub_state_to_initial_state"><span class="id" title="lemma">preloaded_lift_sub_state_to_initial_state</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#weak_projection_initial_state_preservation"><span class="id" title="definition">weak_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbase_s</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eqv_is</span> <span class="id" title="var">Heqv_is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_transitions_preloaded_projection"><span class="id" title="lemma">remove_equivocating_transitions_preloaded_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Heqv_is</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_to_valid" class="idref" href="#lift_sub_to_valid"><span class="id" title="lemma">lift_sub_to_valid</span></a> <a id="l:174" class="idref" href="#l:174"><span class="id" title="binder">l</span></a> <a id="s:175" class="idref" href="#s:175"><span class="id" title="binder">s</span></a> <a id="om:176" class="idref" href="#om:176"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:177" class="idref" href="#Hv:177"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:174"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:175"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:176"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:174"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:175"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:176"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">equivocating_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_to_transition" class="idref" href="#lift_sub_to_transition"><span class="id" title="lemma">lift_sub_to_transition</span></a> <a id="l:178" class="idref" href="#l:178"><span class="id" title="binder">l</span></a> <a id="s:179" class="idref" href="#s:179"><span class="id" title="binder">s</span></a> <a id="om:180" class="idref" href="#om:180"><span class="id" title="binder">om</span></a> <a id="s':181" class="idref" href="#s':181"><span class="id" title="binder">s'</span></a> <a id="om':182" class="idref" href="#om':182"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:183" class="idref" href="#Ht:183"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:178"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:179"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:180"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':181"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':182"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:178"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:179"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:180"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':181"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':182"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>); <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>); <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given any valid state for the composition of all nodes and a valid trace
  for the composition of just the equivocators, the trace obtained by completing
  the state-components from the trace with the components from the given
  valid state is a valid trace for the composition of all nodes.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="PreSubFree_PreFree_weak_full_projection" class="idref" href="#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_weak_full_projection"><span class="id" title="record">VLSM_weak_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_weak_full_projection"><span class="id" title="lemma">basic_VLSM_weak_full_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_to_valid"><span class="id" title="lemma">lift_sub_to_valid</span></a>, <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_to_transition"><span class="id" title="lemma">lift_sub_to_transition</span></a>, <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#preloaded_lift_sub_state_to_initial_state"><span class="id" title="lemma">preloaded_lift_sub_state_to_initial_state</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If the composition constraint only depends on the projection sub-state,
  then valid traces of the <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a></span> can be lifted to valid traces
  of the constrained composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_lift" class="idref" href="#induced_sub_projection_lift"><span class="id" title="lemma">induced_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:184" class="idref" href="#constraint:184"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hconstraint_consistency:189" class="idref" href="#Hconstraint_consistency:189"><span class="id" title="binder">Hconstraint_consistency</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:185" class="idref" href="#s1:185"><span class="id" title="binder">s1</span></a> <a id="s2:186" class="idref" href="#s2:186"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s1:185"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s2:186"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:187" class="idref" href="#l:187"><span class="id" title="binder">l</span></a> <a id="om:188" class="idref" href="#om:188"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:184"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:187"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s1:185"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:188"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:184"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:187"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s2:186"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:188"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:184"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:184"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_full_projection"><span class="id" title="lemma">basic_VLSM_full_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) &amp; <span class="id" title="var">sX</span> &amp; [<span class="id" title="var">Heql</span> [=] (<span class="id" title="var">HsX</span> &amp; <span class="id" title="var">Hom</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>)]) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>; [| <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hconstraint_consistency</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">_om'</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sub_j</span> <span class="id" title="var">lj</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>), <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>), <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sX</span> &amp; &lt;- &amp; <span class="id" title="var">HsX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">sub_i</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HsX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> ? <span class="id" title="var">m</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; [<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">HmX</span> &amp; <span class="id" title="var">_</span>)]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A specialization of <span class="inlinecode"><a class="idref" href="VLSM.Core.Validator.html#basic_projection_induces_friendliness"><span class="id" title="lemma">basic_projection_induces_friendliness</span></a></span> for
  <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a></span>s.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_friendliness" class="idref" href="#induced_sub_projection_friendliness"><span class="id" title="lemma">induced_sub_projection_friendliness</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:190" class="idref" href="#constraint:190"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hlift_proj:191" class="idref" href="#Hlift_proj:191"><span class="id" title="binder">Hlift_proj</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:190"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:190"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#projection_friendly_prop"><span class="id" title="definition">projection_friendly_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:190"><span class="id" title="variable">constraint</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Validator.html#basic_projection_induces_friendliness"><span class="id" title="lemma">basic_projection_induces_friendliness</span></a>; [| | | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded"><span class="id" title="section">lift_sub_state_to_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_incl" class="idref" href="#sub_composition_incl"><span class="id" title="section">sub_composition_incl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:192" class="idref" href="#message:192"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:194" class="idref" href="#EqDecision0:194"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:194" class="idref" href="#EqDecision0:194"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:195" class="idref" href="#IM:195"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:193"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:192"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices1:196" class="idref" href="#indices1:196"><span class="id" title="binder">indices1</span></a> <a id="indices2:197" class="idref" href="#indices2:197"><span class="id" title="binder">indices2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:193"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hincl:198" class="idref" href="#Hincl:198"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:196"><span class="id" title="variable">indices1</span></a> <span class="id" title="notation">âŠ†</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:197"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_IM1:199" class="idref" href="#sub_IM1:199"><span class="id" title="binder">sub_IM1</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:195"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:196"><span class="id" title="variable">indices1</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_IM2:200" class="idref" href="#sub_IM2:200"><span class="id" title="binder">sub_IM2</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:195"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:197"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index1_prop_dec:203" class="idref" href="#sub_index1_prop_dec:203"><span class="id" title="binder">sub_index1_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:202" class="idref" href="#i:202"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:196"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:202"><span class="id" title="variable">i</span></a>) := <span class="id" title="keyword">fun</span> <a id="i:201" class="idref" href="#i:201"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:196"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:201"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index2_prop_dec:206" class="idref" href="#sub_index2_prop_dec:206"><span class="id" title="binder">sub_index2_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:205" class="idref" href="#i:205"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:197"><span class="id" title="variable">indices2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:205"><span class="id" title="variable">i</span></a>) := <span class="id" title="keyword">fun</span> <a id="i:204" class="idref" href="#i:204"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:197"><span class="id" title="variable">indices2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:204"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_incl_state" class="idref" href="#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a><br/>
&nbsp;&nbsp;(<a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="sub_i2:208" class="idref" href="#sub_i2:208"><span class="id" title="binder">sub_i2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:209" class="idref" href="#i:209"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i2:208"><span class="id" title="variable">sub_i2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> @<span class="id" title="definition">decide</span>  (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:209"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_index1_prop_dec"><span class="id" title="variable">sub_index1_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:209"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:207"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:209"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:209"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_state_initial" class="idref" href="#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s:210" class="idref" href="#s:210"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:211" class="idref" href="#Hs:211"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:210"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:210"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hs</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_message_initial" class="idref" href="#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a><br/>
&nbsp;&nbsp;(<a id="m:212" class="idref" href="#m:212"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:213" class="idref" href="#Hm:213"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:212"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:212"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM1</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">bool_decide_spec</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.Hincl"><span class="id" title="variable">Hincl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_incl_label" class="idref" href="#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a><br/>
&nbsp;&nbsp;(<a id="l:214" class="idref" href="#l:214"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sub1_i:215" class="idref" href="#sub1_i:215"><span class="id" title="binder">sub1_i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:214"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub1_i:215"><span class="id" title="variable">sub1_i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="H1i:217" class="idref" href="#H1i:217"><span class="id" title="binder">H1i</span></a> := <span class="id" title="definition">proj2_dsig</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub1_i:215"><span class="id" title="variable">sub1_i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="H2i:218" class="idref" href="#H2i:218"><span class="id" title="binder">H2i</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.Hincl"><span class="id" title="variable">Hincl</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#H1i:217"><span class="id" title="variable">H1i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#H2i:218"><span class="id" title="variable">H2i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:214"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_valid" class="idref" href="#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a> <a id="l:219" class="idref" href="#l:219"><span class="id" title="binder">l</span></a> <a id="s:220" class="idref" href="#s:220"><span class="id" title="binder">s</span></a> <a id="om:221" class="idref" href="#om:221"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:222" class="idref" href="#Hv:222"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:219"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:220"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:221"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices2"><span class="id" title="variable">indices2</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:219"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:220"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:221"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub1_i</span>, <span class="id" title="var">li</span>); <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub1_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub1_i</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H_i</span>|]<br/>
&nbsp;&nbsp;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> <span class="id" title="var">H_i</span> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_transition" class="idref" href="#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a> <a id="l:223" class="idref" href="#l:223"><span class="id" title="binder">l</span></a> <a id="s:224" class="idref" href="#s:224"><span class="id" title="binder">s</span></a> <a id="om:225" class="idref" href="#om:225"><span class="id" title="binder">om</span></a> <a id="s':226" class="idref" href="#s':226"><span class="id" title="binder">s'</span></a> <a id="om':227" class="idref" href="#om':227"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:228" class="idref" href="#Ht:228"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:223"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:224"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:225"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':226"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':227"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices2"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:223"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:224"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:225"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':226"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':227"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub1_i</span>, <span class="id" title="var">li</span>); <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub1_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub1_i</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <span class="id" title="tactic">at</span> 1<br/>
&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H_i</span>|]<br/>
&nbsp;&nbsp;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> <span class="id" title="var">H_i</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>); <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub2_j</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub2_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub2_j</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">case_decide</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_full_projection" class="idref" href="#lift_sub_incl_full_projection"><span class="id" title="lemma">lift_sub_incl_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_preloaded_full_projection" class="idref" href="#lift_sub_incl_preloaded_full_projection"><span class="id" title="lemma">lift_sub_incl_preloaded_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="P:229" class="idref" href="#P:229"><span class="id" title="binder">P</span></a> <a id="Q:230" class="idref" href="#Q:230"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hpq:232" class="idref" href="#Hpq:232"><span class="id" title="binder">Hpq</span></a> : <span class="id" title="notation">forall</span> <a id="m:231" class="idref" href="#m:231"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:229"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:231"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:230"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:231"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:229"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:230"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_full_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_full_projection_preloaded_with</span></a>; [<span class="id" title="var">done</span> |..]; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl"><span class="id" title="section">sub_composition_incl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_sender" class="idref" href="#sub_composition_sender"><span class="id" title="section">sub_composition_sender</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:233" class="idref" href="#message:233"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:235" class="idref" href="#EqDecision0:235"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:235" class="idref" href="#EqDecision0:235"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:236" class="idref" href="#IM:236"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:234"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:233"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:237" class="idref" href="#indices:237"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="sub_IM:238" class="idref" href="#sub_IM:238"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:236"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:237"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_prop_dec:240" class="idref" href="#sub_index_prop_dec:240"><span class="id" title="binder">sub_index_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:239" class="idref" href="#i:239"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:237"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:239"><span class="id" title="variable">i</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:237"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;{<a id="validator:241" class="idref" href="#validator:241"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="A:242" class="idref" href="#A:242"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:241"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:234"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:243" class="idref" href="#sender:243"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:233"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:241"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:244" class="idref" href="#Hsender_safety:244"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:236"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:242"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:243"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  If a sub-composition <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a></span> a message then its sender must be one of
  the components of the sub-composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="sub_can_emit_sender" class="idref" href="#sub_can_emit_sender"><span class="id" title="lemma">sub_can_emit_sender</span></a> (<a id="P:245" class="idref" href="#P:245"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:246" class="idref" href="#m:246"><span class="id" title="binder">m</span></a> <a id="v:247" class="idref" href="#v:247"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:247"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:245"><span class="id" title="variable">P</span></a>)  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:247"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hemit</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">om</span>] [[<span class="id" title="var">sub_i</span> <span class="id" title="var">li</span>] [<span class="id" title="var">s'</span> <span class="id" title="var">Ht</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproj</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>) |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#pre_loaded_vlsm_incl_pre_loaded_with_all_messages"><span class="id" title="lemma">pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <span class="id" title="var">P</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_weak_full_projection_input_valid_transition"><span class="id" title="lemma">VLSM_weak_full_projection_input_valid_transition</span></a> <span class="id" title="var">Hproj</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">ProjectionTraces.preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sX'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_input_valid_transition"><span class="id" title="definition">VLSM_projection_input_valid_transition</span></a> <span class="id" title="var">Hproj</span> <span class="id" title="var">lX</span> <span class="id" title="var">li</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lX</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj_t</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Validator.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True_pi</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">i</span>); [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab140"></a><h3 class="section">Sender and sender-safety specialized for the subcomposition</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM_sender" class="idref" href="#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a> (<a id="m:248" class="idref" href="#m:248"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="definition">dsig</span> (<span class="id" title="keyword">fun</span> <a id="v:249" class="idref" href="#v:249"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:249"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:248"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Av_in</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (@<span class="id" title="definition">dexist</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="v:250" class="idref" href="#v:250"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:250"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">Av_in</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM_A" class="idref" href="#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a><br/>
&nbsp;&nbsp;(<a id="v:252" class="idref" href="#v:252"><span class="id" title="binder">v</span></a> : <span class="id" title="definition">dsig</span> (<span class="id" title="keyword">fun</span> <a id="v:251" class="idref" href="#v:251"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:251"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:252"><span class="id" title="variable">v</span></a>)) (<span class="id" title="definition">proj2_dsig</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:252"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_preserves_channel_authentication" class="idref" href="#sub_IM_preserves_channel_authentication"><span class="id" title="lemma">sub_IM_preserves_channel_authentication</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigned</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">m</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsigned</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]; [|<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_preserves_no_initial_messages" class="idref" href="#sub_IM_preserves_no_initial_messages"><span class="id" title="lemma">sub_IM_preserves_no_initial_messages</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hno_init</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_init</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_sender_safety" class="idref" href="#sub_IM_sender_safety"><span class="id" title="lemma">sub_IM_sender_safety</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">sub_v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_v</span> <span class="id" title="var">v</span> <span class="id" title="var">HAv</span> <span class="id" title="var">Heqsub_v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsender_v</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsender</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">forall</span></a> <a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">sub_i</span></a><a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">,</span></a> <a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">(</span></a><a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">sub_IM</span></a> <a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">sub_i</span></a><a id="H:254" class="idref" href="#H:254"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_has_been_sent_iff_by_sender" class="idref" href="#sub_IM_has_been_sent_iff_by_sender"><span class="id" title="lemma">sub_IM_has_been_sent_iff_by_sender</span></a> <a id="s:255" class="idref" href="#s:255"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:256" class="idref" href="#Hs:256"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:255"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="m:257" class="idref" href="#m:257"><span class="id" title="binder">m</span></a> <a id="v:258" class="idref" href="#v:258"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;(<a id="Hsender:259" class="idref" href="#Hsender:259"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:257"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:258"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:260" class="idref" href="#Hv:260"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:258"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:255"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:257"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> (<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:258"><span class="id" title="variable">v</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hv:260"><span class="id" title="variable">Hv</span></a>)) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:255"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:258"><span class="id" title="variable">v</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hv:260"><span class="id" title="variable">Hv</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:257"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsub_sender</span> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">dexist</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a><br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender_safety"><span class="id" title="lemma">sub_IM_sender_safety</span></a> | <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a>, <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> (<span class="id" title="definition">proj2_dsig</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>)) <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance"><span class="id" title="lemma">has_been_sent_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">Hv</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab141"></a><h2 class="section">No-equivocation results for sub-composition</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  Constraining (only) a subset of the nodes of a composition to not message-
  equivocate.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="sub_IM_not_equivocating_constraint" class="idref" href="#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:261" class="idref" href="#l:261"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:262" class="idref" href="#som:262"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a>, <a id="om:264" class="idref" href="#om:264"><span class="id" title="binder">om</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#som:262"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:264"><span class="id" title="variable">om</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">non_byzantine_i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sub_i:266" class="idref" href="#sub_i:266"><span class="id" title="binder">sub_i</span></a> := @<span class="id" title="definition">dexist</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">non_byzantine_i</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:266"><span class="id" title="variable">sub_i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:263"><span class="id" title="variable">s</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="non_sub_index_authenticated_message" class="idref" href="#non_sub_index_authenticated_message"><span class="id" title="definition">non_sub_index_authenticated_message</span></a> (<a id="m:267" class="idref" href="#m:267"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:268" class="idref" href="#i:268"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:268"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆ‰</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:268"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:267"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:269" class="idref" href="#no_initial_messages_in_IM:269"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="can_emit_signed:270" class="idref" href="#can_emit_signed:270"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_valid_preservation" class="idref" href="#induced_sub_projection_valid_preservation"><span class="id" title="lemma">induced_sub_projection_valid_preservation</span></a> <a id="constraint:271" class="idref" href="#constraint:271"><span class="id" title="binder">constraint</span></a> <a id="l:272" class="idref" href="#l:272"><span class="id" title="binder">l</span></a> <a id="s:273" class="idref" href="#s:273"><span class="id" title="binder">s</span></a> <a id="om:274" class="idref" href="#om:274"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:275" class="idref" href="#Hv:275"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:271"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:272"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:273"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:274"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:272"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:273"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:274"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">i</span> <span class="id" title="var">lXi</span>] &amp; <span class="id" title="var">sX</span> &amp; [<span class="id" title="var">Heql</span> [=] (<span class="id" title="var">HsX</span> &amp; <span class="id" title="var">Hom</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>)]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heql</span>; <span class="id" title="tactic">subst</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_preservation" class="idref" href="#induced_sub_projection_transition_preservation"><span class="id" title="lemma">induced_sub_projection_transition_preservation</span></a> [<a id="constraint:276" class="idref" href="#constraint:276"><span class="id" title="binder">constraint</span></a>]<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="l:277" class="idref" href="#l:277"><span class="id" title="binder">l</span></a> <a id="s:278" class="idref" href="#s:278"><span class="id" title="binder">s</span></a> <a id="om:279" class="idref" href="#om:279"><span class="id" title="binder">om</span></a> <a id="s':280" class="idref" href="#s':280"><span class="id" title="binder">s'</span></a> <a id="om':281" class="idref" href="#om':281"><span class="id" title="binder">om'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:276"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:277"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:278"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:279"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':280"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':281"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:277"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:278"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:279"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':280"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':281"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span> <span class="id" title="tactic">at</span> 6. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span><br/>
&nbsp;&nbsp;; (<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [<span class="id" title="var">done</span> |])<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hj</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_no_equivocation_preservation" class="idref" href="#sub_IM_no_equivocation_preservation"><span class="id" title="lemma">sub_IM_no_equivocation_preservation</span></a><br/>
&nbsp;&nbsp;<a id="l:282" class="idref" href="#l:282"><span class="id" title="binder">l</span></a> <a id="s:283" class="idref" href="#s:283"><span class="id" title="binder">s</span></a> <a id="om:284" class="idref" href="#om:284"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:285" class="idref" href="#Hv:285"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:282"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:283"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:284"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocations_except_from"><span class="id" title="definition">composite_no_equivocations_except_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#non_sub_index_authenticated_message"><span class="id" title="definition">non_sub_index_authenticated_message</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:282"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:283"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:284"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lX</span> &amp; <span class="id" title="var">sX</span> &amp; [<span class="id" title="var">_</span> [=] (<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hc</span>)]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_no_initial_valid_messages_have_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_have_sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.can_emit_signed"><span class="id" title="variable">can_emit_signed</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.no_initial_messages_in_IM"><span class="id" title="variable">no_initial_messages_in_IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hhas_sender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsender</span>; [<span class="id" title="tactic">clear</span> <span class="id" title="var">Hhas_sender</span> | <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a>) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">Heqm</span>]] | <span class="id" title="var">Hemitted</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.no_initial_messages_in_IM"><span class="id" title="variable">no_initial_messages_in_IM</span></a> <span class="id" title="var">i</span> <span class="id" title="var">im</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_can_emit"><span class="id" title="lemma">VLSM_incl_can_emit</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hemitted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.EquivocationProjections.html#can_emit_projection"><span class="id" title="lemma">can_emit_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hemit</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>; <span class="id" title="var">itauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hemit</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemitted</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender"><span class="id" title="section">sub_composition_sender</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_all" class="idref" href="#sub_composition_all"><span class="id" title="section">sub_composition_all</span></a>.<br/>
</div>

<div class="doc">
<a id="lab142"></a><h2 class="section">A subcomposition with all the components</h2>


<div class="paragraph"> </div>

  If taking the subset of indices used for the sub-composition to be the entire
  set of indices, the obtained sub-composition is trace-equivalent with the
  original composition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:286" class="idref" href="#message:286"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:289" class="idref" href="#H:289"><span class="id" title="binder">finite.Finite</span></a> <a id="H:289" class="idref" href="#H:289"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:290" class="idref" href="#IM:290"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:287"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:286"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="sub_IM:291" class="idref" href="#sub_IM:291"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="free_sub_free_index" class="idref" href="#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> (<a id="i:292" class="idref" href="#i:292"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:292"><span class="id" title="variable">i</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_label" class="idref" href="#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a id="l:293" class="idref" href="#l:293"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="i:294" class="idref" href="#i:294"><span class="id" title="binder">i</span></a>, <a id="li:295" class="idref" href="#li:295"><span class="id" title="binder">li</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:293"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:294"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#li:295"><span class="id" title="variable">li</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_state" class="idref" href="#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> (<a id="sub_s:296" class="idref" href="#sub_s:296"><span class="id" title="binder">sub_s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a>) : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:297" class="idref" href="#i:297"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_s:296"><span class="id" title="variable">sub_s</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:297"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_constraint" class="idref" href="#free_sub_free_constraint"><span class="id" title="definition">free_sub_free_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:298" class="idref" href="#constraint:298"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="l:299" class="idref" href="#l:299"><span class="id" title="binder">l</span></a> <a id="som:300" class="idref" href="#som:300"><span class="id" title="binder">som</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="s:301" class="idref" href="#s:301"><span class="id" title="binder">s</span></a>, <a id="om:302" class="idref" href="#om:302"><span class="id" title="binder">om</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#som:300"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:298"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:299"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:301"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:302"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:303" class="idref" href="#constraint:303"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:304" class="idref" href="#X:304"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:303"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="SubX:305" class="idref" href="#SubX:305"><span class="id" title="binder">SubX</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_constraint"><span class="id" title="definition">free_sub_free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:303"><span class="id" title="variable">constraint</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_sub_composition_all_full_projection" class="idref" href="#preloaded_sub_composition_all_full_projection"><span class="id" title="lemma">preloaded_sub_composition_all_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="seed:306" class="idref" href="#seed:306"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:306"><span class="id" title="variable">seed</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:306"><span class="id" title="variable">seed</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] *; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">at</span> 2; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">rapply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] | <span class="id" title="var">Hseed</span>]; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_composition_all_full_projection" class="idref" href="#sub_composition_all_full_projection"><span class="id" title="lemma">sub_composition_all_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">at</span> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>); <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">rapply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>]; <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_composition_all_full_projection_rev" class="idref" href="#sub_composition_all_full_projection_rev"><span class="id" title="lemma">sub_composition_all_full_projection_rev</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">sub_i</span> <span class="id" title="var">li</span>] * [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index_obligation_1"><span class="id" title="lemma">free_sub_free_index_obligation_1</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">sub_i</span> <span class="id" title="var">li</span>] *; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqi</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span> <span class="id" title="tactic">at</span> 2, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <span class="id" title="tactic">at</span> 1,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index_obligation_1"><span class="id" title="lemma">free_sub_free_index_obligation_1</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">Hi</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>); <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>, <span class="id" title="var">sub_IM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hi</span> <span class="id" title="var">i</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Him</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all"><span class="id" title="section">sub_composition_all</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_element" class="idref" href="#sub_composition_element"><span class="id" title="section">sub_composition_element</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab143"></a><h2 class="section">Relating a sub-composition with one of its components</h2>


<div class="paragraph"> </div>

<a id="lab144"></a><h3 class="section">A component can be lifted to a free subcomposition</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:307" class="idref" href="#message:307"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:309" class="idref" href="#EqDecision0:309"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:309" class="idref" href="#EqDecision0:309"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:310" class="idref" href="#IM:310"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:308"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:307"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:311" class="idref" href="#indices:311"><span class="id" title="binder">indices</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:308"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:312" class="idref" href="#j:312"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:308"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hj:313" class="idref" href="#Hj:313"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:312"><span class="id" title="variable">j</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:311"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_element_label" class="idref" href="#sub_element_label"><span class="id" title="definition">sub_element_label</span></a> (<a id="l:314" class="idref" href="#l:314"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:314"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_element_state" class="idref" href="#sub_element_state"><span class="id" title="definition">sub_element_state</span></a> (<a id="s:315" class="idref" href="#s:315"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>)) <a id="sub_i:316" class="idref" href="#sub_i:316"><span class="id" title="binder">sub_i</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:316"><span class="id" title="variable">sub_i</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="definition">decide</span> (<span class="id" title="notation">`</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:316"><span class="id" title="variable">sub_i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">Î»</span></a> <a id="j:317" class="idref" href="#j:317"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:317"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:315"><span class="id" title="variable">s</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">`</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="notation">`</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:316"><span class="id" title="variable">sub_i</span></a>))<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_element_state_eq" class="idref" href="#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a> <a id="s:318" class="idref" href="#s:318"><span class="id" title="binder">s</span></a> <a id="H_j:319" class="idref" href="#H_j:319"><span class="id" title="binder">H_j</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:318"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#H_j:319"><span class="id" title="variable">H_j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:318"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">decide_True_pi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_element_state_neq" class="idref" href="#sub_element_state_neq"><span class="id" title="lemma">sub_element_state_neq</span></a> <a id="s:320" class="idref" href="#s:320"><span class="id" title="binder">s</span></a> <a id="i:321" class="idref" href="#i:321"><span class="id" title="binder">i</span></a> <a id="Hi:322" class="idref" href="#Hi:322"><span class="id" title="binder">Hi</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:321"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:320"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:321"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hi:322"><span class="id" title="variable">Hi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">`</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:321"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hij</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_neq"><span class="id" title="lemma">sub_element_state_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_sub_element_full_projection" class="idref" href="#preloaded_sub_element_full_projection"><span class="id" title="lemma">preloaded_sub_element_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="P:323" class="idref" href="#P:323"><span class="id" title="binder">P</span></a> <a id="Q:324" class="idref" href="#Q:324"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="PimpliesQ:326" class="idref" href="#PimpliesQ:326"><span class="id" title="binder">PimpliesQ</span></a> : <span class="id" title="notation">forall</span> <a id="m:325" class="idref" href="#m:325"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:323"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:325"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:324"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:325"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="PrePXj:327" class="idref" href="#PrePXj:327"><span class="id" title="binder">PrePXj</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:323"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreQSubFree:328" class="idref" href="#PreQSubFree:328"><span class="id" title="binder">PreQSubFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:324"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#PrePXj:327"><span class="id" title="variable">PrePXj</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreQSubFree:328"><span class="id" title="variable">PreQSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_label"><span class="id" title="definition">sub_element_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_full_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_full_projection_preloaded_with</span></a>; [<span class="id" title="var">done</span> |..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">cbn</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">H_j</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">H_j</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">sj</span> <span class="id" title="var">Hsj</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_neq"><span class="id" title="lemma">sub_element_state_neq</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>), (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_valid_preloaded_lifts_can_be_emitted" class="idref" href="#sub_valid_preloaded_lifts_can_be_emitted"><span class="id" title="lemma">sub_valid_preloaded_lifts_can_be_emitted</span></a><br/>
&nbsp;&nbsp;(<a id="P:329" class="idref" href="#P:329"><span class="id" title="binder">P</span></a> <a id="Q:330" class="idref" href="#Q:330"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="HPvalid:332" class="idref" href="#HPvalid:332"><span class="id" title="binder">HPvalid</span></a> : <span class="id" title="notation">forall</span> <a id="dm:331" class="idref" href="#dm:331"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:329"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#dm:331"><span class="id" title="variable">dm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:330"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#dm:331"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:333" class="idref" href="#m:333"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:329"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:333"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:330"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:333"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_can_emit"><span class="id" title="lemma">VLSM_incl_can_emit</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#pre_loaded_vlsm_incl_relaxed"><span class="id" title="lemma">pre_loaded_vlsm_incl_relaxed</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="m:335" class="idref" href="#m:335"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="var">Q</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:334"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">P</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:334"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_can_emit"><span class="id" title="definition">VLSM_full_projection_can_emit</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#preloaded_sub_element_full_projection"><span class="id" title="lemma">preloaded_sub_element_full_projection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab145"></a><h3 class="section">A subcomposition can be projected to one component</h3>


<div class="paragraph"> </div>

  In the following we define the <span class="inlinecode"><a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator"><span class="id" title="definition">projection_induced_validator</span></a></span> to a single component
  of the <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a></span> of a constrained composition so a subset of its
  components.

<div class="paragraph"> </div>

  Note that, in general, this is not trace-equivalent with the directly obtained
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator"><span class="id" title="definition">projection_induced_validator</span></a></span> of the constrained composition to the corresponding
  component, as the intermediate induced projection might generate more
  <span class="inlinecode"><span class="id" title="var">input_valid_transitions</span></span> to be considered as a basis for the next projection.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_label_element_project" class="idref" href="#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a><br/>
&nbsp;&nbsp;(<a id="l:336" class="idref" href="#l:336"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">`</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:336"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> (<span class="id" title="keyword">fun</span> <a id="j:337" class="idref" href="#j:337"><span class="id" title="binder">j</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:337"><span class="id" title="variable">j</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:336"><span class="id" title="variable">l</span></a>) <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">in_right</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_state_element_project" class="idref" href="#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a><br/>
&nbsp;&nbsp;(<a id="s:338" class="idref" href="#s:338"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:338"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_transition_element_project_None" class="idref" href="#sub_transition_element_project_None"><span class="id" title="lemma">sub_transition_element_project_None</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="lX:339" class="idref" href="#lX:339"><span class="id" title="binder">lX</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX:339"><span class="id" title="variable">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:340" class="idref" href="#s:340"><span class="id" title="binder">s</span></a> <a id="om:341" class="idref" href="#om:341"><span class="id" title="binder">om</span></a> <a id="s':342" class="idref" href="#s':342"><span class="id" title="binder">s'</span></a> <a id="om':343" class="idref" href="#om':343"><span class="id" title="binder">om'</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX:339"><span class="id" title="variable">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:340"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:341"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':342"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':343"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':342"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:340"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">sub_i</span>,<span class="id" title="var">li</span>) <span class="id" title="var">HlX</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>, <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hij</span>; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_element_label_project" class="idref" href="#sub_element_label_project"><span class="id" title="lemma">sub_element_label_project</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="lY:344" class="idref" href="#lY:344"><span class="id" title="binder">lY</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_label"><span class="id" title="definition">sub_element_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lY:344"><span class="id" title="variable">lY</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lY:344"><span class="id" title="variable">lY</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_label"><span class="id" title="definition">sub_element_label</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">decide_True_pi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_element_state_project" class="idref" href="#sub_element_state_project"><span class="id" title="lemma">sub_element_state_project</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="sY:345" class="idref" href="#sY:345"><span class="id" title="binder">sY</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sY:345"><span class="id" title="variable">sY</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sY:345"><span class="id" title="variable">sY</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">decide_True_pi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_transition_element_project_Some" class="idref" href="#sub_transition_element_project_Some"><span class="id" title="lemma">sub_transition_element_project_Some</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lX1:346" class="idref" href="#lX1:346"><span class="id" title="binder">lX1</span></a> <a id="lX2:347" class="idref" href="#lX2:347"><span class="id" title="binder">lX2</span></a> <a id="lY:348" class="idref" href="#lY:348"><span class="id" title="binder">lY</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX1:346"><span class="id" title="variable">lX1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lY:348"><span class="id" title="variable">lY</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX2:347"><span class="id" title="variable">lX2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lY:348"><span class="id" title="variable">lY</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="sX1:349" class="idref" href="#sX1:349"><span class="id" title="binder">sX1</span></a> <a id="sX2:350" class="idref" href="#sX2:350"><span class="id" title="binder">sX2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX1:349"><span class="id" title="variable">sX1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX2:350"><span class="id" title="variable">sX2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="iom:351" class="idref" href="#iom:351"><span class="id" title="binder">iom</span></a> <a id="sX1':352" class="idref" href="#sX1':352"><span class="id" title="binder">sX1'</span></a> <a id="oom1:353" class="idref" href="#oom1:353"><span class="id" title="binder">oom1</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX1:346"><span class="id" title="variable">lX1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX1:349"><span class="id" title="variable">sX1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#iom:351"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX1':352"><span class="id" title="variable">sX1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#oom1:353"><span class="id" title="variable">oom1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="sX2':354" class="idref" href="#sX2':354"><span class="id" title="binder">sX2'</span></a> <a id="oom2:355" class="idref" href="#oom2:355"><span class="id" title="binder">oom2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lX2:347"><span class="id" title="variable">lX2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX2:350"><span class="id" title="variable">sX2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#iom:351"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX2':354"><span class="id" title="variable">sX2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#oom2:355"><span class="id" title="variable">oom2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX1':352"><span class="id" title="variable">sX1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sX2':354"><span class="id" title="variable">sX2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#oom1:353"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#oom2:355"><span class="id" title="variable">oom2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">sub_j1</span> <span class="id" title="var">lj1</span>] [<span class="id" title="var">sub_j2</span> <span class="id" title="var">lj2</span>] <span class="id" title="var">lj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j1</span> <span class="id" title="var">j1</span> <span class="id" title="var">Hj1</span> <span class="id" title="var">Heqsub_j1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j2</span> <span class="id" title="var">j2</span> <span class="id" title="var">Hj2</span> <span class="id" title="var">Heqsub_j2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> 1); <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX1</span> <span class="id" title="var">sX2</span> <span class="id" title="var">Hsjeq</span> <span class="id" title="var">iom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">sX1</span> <span class="id" title="var">Hj1</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>), (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <span class="id" title="var">sX2</span> <span class="id" title="var">Hj2</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.Hj"><span class="id" title="variable">Hj</span></a>), &lt;- <span class="id" title="var">Hsjeq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">at</span> 3 13; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="induced_sub_element_projection" class="idref" href="#induced_sub_element_projection"><span class="id" title="definition">induced_sub_element_projection</span></a> <a id="constraint:356" class="idref" href="#constraint:356"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator"><span class="id" title="definition">projection_induced_validator</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:356"><span class="id" title="variable">constraint</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_label"><span class="id" title="definition">sub_element_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state"><span class="id" title="definition">sub_element_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="pre_induced_sub_element_projection" class="idref" href="#pre_induced_sub_element_projection"><span class="id" title="definition">pre_induced_sub_element_projection</span></a> <a id="constraint:357" class="idref" href="#constraint:357"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_element_projection"><span class="id" title="definition">induced_sub_element_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:357"><span class="id" title="variable">constraint</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_element_projection_is_projection" class="idref" href="#induced_sub_element_projection_is_projection"><span class="id" title="lemma">induced_sub_element_projection_is_projection</span></a> <a id="constraint:358" class="idref" href="#constraint:358"><span class="id" title="binder">constraint</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_projection"><span class="id" title="definition">pre_induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:358"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_induced_sub_element_projection"><span class="id" title="definition">pre_induced_sub_element_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:358"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_label_element_project"><span class="id" title="definition">sub_label_element_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_state_element_project"><span class="id" title="definition">sub_state_element_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<a class="idref" href="VLSM.Core.Validator.html#projection_induced_validator_is_projection"><span class="id" title="lemma">projection_induced_validator_is_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_label_project"><span class="id" title="lemma">sub_element_label_project</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_project"><span class="id" title="lemma">sub_element_state_project</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? **; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_transition_element_project_Some"><span class="id" title="lemma">sub_transition_element_project_Some</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2-3: <span class="id" title="tactic">setoid_rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_is_composite"><span class="id" title="lemma">induced_sub_projection_transition_is_composite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">constraint</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">HlX</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_transition_element_project_None"><span class="id" title="lemma">sub_transition_element_project_None</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">lX</span> <span class="id" title="var">om</span> <span class="id" title="var">om'</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_is_composite"><span class="id" title="lemma">induced_sub_projection_transition_is_composite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">constraint</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_element"><span class="id" title="section">sub_composition_element</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_eq"><span class="id" title="lemma">sub_element_state_eq</span></a> : <span class="id" title="var">state_update</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_element_state_neq"><span class="id" title="lemma">sub_element_state_neq</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">done</span> : <span class="id" title="var">state_update</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_preloaded_lift" class="idref" href="#sub_composition_preloaded_lift"><span class="id" title="section">sub_composition_preloaded_lift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:359" class="idref" href="#message:359"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:361" class="idref" href="#EqDecision0:361"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:361" class="idref" href="#EqDecision0:361"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:362" class="idref" href="#IM:362"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:360"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:359"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:363" class="idref" href="#indices:363"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="Free:364" class="idref" href="#Free:364"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:362"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreFree:365" class="idref" href="#PreFree:365"><span class="id" title="binder">PreFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Free:364"><span class="id" title="variable">Free</span></a>)<br/>
&nbsp;&nbsp;(<a id="SubFree:366" class="idref" href="#SubFree:366"><span class="id" title="binder">SubFree</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:362"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:363"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;(<a id="PreSubFree:367" class="idref" href="#PreSubFree:367"><span class="id" title="binder">PreSubFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#SubFree:366"><span class="id" title="variable">SubFree</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_free_preloaded_with_full_projection" class="idref" href="#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="seed:368" class="idref" href="#seed:368"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:368"><span class="id" title="variable">seed</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:368"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#basic_VLSM_full_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_full_projection_preloaded_with</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a> <span class="id" title="var">seed</span> <span class="id" title="var">seed</span>); <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_valid"><span class="id" title="lemma">lift_sub_valid</span></a>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_transition"><span class="id" title="lemma">lift_sub_transition</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_message_initial"><span class="id" title="lemma">lift_sub_message_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_free_full_projection" class="idref" href="#lift_sub_free_full_projection"><span class="id" title="lemma">lift_sub_free_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_finite_valid_trace"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_preloaded_free_full_projection" class="idref" href="#lift_sub_preloaded_free_full_projection"><span class="id" title="lemma">lift_sub_preloaded_free_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreFree"><span class="id" title="variable">PreFree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_finite_valid_trace"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Deriving reachable-validity for the component from the input validity
  w.r.t. a sub_composition preloaded with messages.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="pre_loaded_sub_composite_input_valid_projection" class="idref" href="#pre_loaded_sub_composite_input_valid_projection"><span class="id" title="lemma">pre_loaded_sub_composite_input_valid_projection</span></a> <a id="constraint:369" class="idref" href="#constraint:369"><span class="id" title="binder">constraint</span></a> <a id="Q:370" class="idref" href="#Q:370"><span class="id" title="binder">Q</span></a><br/>
&nbsp;&nbsp;<a id="i:371" class="idref" href="#i:371"><span class="id" title="binder">i</span></a> <a id="Hi:372" class="idref" href="#Hi:372"><span class="id" title="binder">Hi</span></a> <a id="li:373" class="idref" href="#li:373"><span class="id" title="binder">li</span></a> <a id="sub_s:374" class="idref" href="#sub_s:374"><span class="id" title="binder">sub_s</span></a> <a id="im:375" class="idref" href="#im:375"><span class="id" title="binder">im</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:369"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:370"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:371"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hi:372"><span class="id" title="variable">Hi</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#li:373"><span class="id" title="variable">li</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_s:374"><span class="id" title="variable">sub_s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#im:375"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:371"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#li:373"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_s:374"><span class="id" title="variable">sub_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:371"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#im:375"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht_sub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_input_valid"><span class="id" title="definition">VLSM_projection_input_valid</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <span class="id" title="var">li</span>) <span class="id" title="var">li</span>)<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Validator.html#composite_project_label_eq"><span class="id" title="lemma">composite_project_label_eq</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>) <span class="id" title="var">li</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sub_s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">im</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_input_valid"><span class="id" title="definition">VLSM_full_projection_input_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_preloaded_free_full_projection"><span class="id" title="lemma">lift_sub_preloaded_free_full_projection</span></a>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid"><span class="id" title="lemma">VLSM_incl_input_valid</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_pre_loaded_vlsm_incl_pre_loaded_with_all_messages"><span class="id" title="lemma">composite_pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="can_emit_sub_projection" class="idref" href="#can_emit_sub_projection"><span class="id" title="lemma">can_emit_sub_projection</span></a><br/>
&nbsp;&nbsp;{<a id="validator:376" class="idref" href="#validator:376"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="A:377" class="idref" href="#A:377"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:376"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:378" class="idref" href="#sender:378"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:376"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:379" class="idref" href="#Hsender_safety:379"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:377"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:378"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:380" class="idref" href="#j:380"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:381" class="idref" href="#m:381"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hj:382" class="idref" href="#Hj:382"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:377"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:378"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:381"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:380"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:381"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:380"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:381"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.EquivocationProjections.html#can_emit_projection"><span class="id" title="lemma">can_emit_projection</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">validator</span> <span class="id" title="var">A</span> <span class="id" title="var">sender</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_can_emit"><span class="id" title="definition">VLSM_full_projection_can_emit</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_preloaded_free_full_projection"><span class="id" title="lemma">lift_sub_preloaded_free_full_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If a node can emit a message, it can also emit it in a subcomposition with
  other nodes, and starting with more pre-loaded messages.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="can_emit_with_more" class="idref" href="#can_emit_with_more"><span class="id" title="lemma">can_emit_with_more</span></a><br/>
&nbsp;&nbsp;(<a id="j:383" class="idref" href="#j:383"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:384" class="idref" href="#m:384"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hj:385" class="idref" href="#Hj:385"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:383"><span class="id" title="variable">j</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:386" class="idref" href="#P:386"><span class="id" title="binder">P</span></a> <a id="Q:387" class="idref" href="#Q:387"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="PimpliesQ:389" class="idref" href="#PimpliesQ:389"><span class="id" title="binder">PimpliesQ</span></a> : <span class="id" title="notation">forall</span> <a id="m:388" class="idref" href="#m:388"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:386"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:388"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:387"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:388"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:383"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:386"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:384"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:387"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:384"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_generalized_preloaded_vlsm_full_projection"><span class="id" title="lemma">lift_to_composite_generalized_preloaded_vlsm_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PimpliesQ</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_can_emit"><span class="id" title="definition">VLSM_full_projection_can_emit</span></a> <span class="id" title="var">Hproj</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift"><span class="id" title="section">sub_composition_preloaded_lift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="empty_sub_composition" class="idref" href="#empty_sub_composition"><span class="id" title="section">empty_sub_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab146"></a><h2 class="section">A subcomposition with no components</h2>


<div class="paragraph"> </div>

  If taking the subset of indices used for the sub-composition to be the empty
  set of indices, the obtained sub-composition is an empty composition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:390" class="idref" href="#message:390"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:392" class="idref" href="#EqDecision0:392"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:392" class="idref" href="#EqDecision0:392"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:393" class="idref" href="#IM:393"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:391"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:390"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:394" class="idref" href="#indices:394"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="sub_IM:395" class="idref" href="#sub_IM:395"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:393"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:394"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_indices:396" class="idref" href="#Hno_indices:396"><span class="id" title="binder">Hno_indices</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:394"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  If a sub-composition <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a></span> a message then its sender must be one of
  the components of the sub-composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="sub_no_indices_no_can_emit" class="idref" href="#sub_no_indices_no_can_emit"><span class="id" title="lemma">sub_no_indices_no_can_emit</span></a> (<a id="P:397" class="idref" href="#P:397"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:398" class="idref" href="#m:398"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:397"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:398"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#pre_loaded_empty_composition_no_emit"><span class="id" title="lemma">pre_loaded_empty_composition_no_emit</span></a>, <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_empty_nil"><span class="id" title="lemma">elem_of_empty_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sub_i</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hi</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition"><span class="id" title="section">empty_sub_composition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="update_IM" class="idref" href="#update_IM"><span class="id" title="section">update_IM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:399" class="idref" href="#message:399"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:402" class="idref" href="#H:402"><span class="id" title="binder">finite.Finite</span></a> <a id="H:402" class="idref" href="#H:402"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:403" class="idref" href="#IM:403"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:400"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:399"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="selection:404" class="idref" href="#selection:404"><span class="id" title="binder">selection</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:400"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_IM" class="idref" href="#update_IM"><span class="id" title="definition">update_IM</span></a><br/>
&nbsp;&nbsp;(<a id="replacement_IM:405" class="idref" href="#replacement_IM:405"><span class="id" title="binder">replacement_IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:406" class="idref" href="#i:406"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:406"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">i_in</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#replacement_IM:405"><span class="id" title="variable">replacement_IM</span></a> (@<span class="id" title="definition">dexist</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:406"><span class="id" title="variable">i</span></a> <span class="id" title="var">i_in</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:406"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*&nbsp;TODO(bmmoore):&nbsp;use&nbsp;the&nbsp;definition&nbsp;above&nbsp;to&nbsp;provide&nbsp;an&nbsp;alternate&nbsp;definition<br/>
for&nbsp;fixed-set&nbsp;equivocation&nbsp;model,&nbsp;similar&nbsp;to&nbsp;the&nbsp;one&nbsp;for&nbsp;byzantine&nbsp;traces.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="replacement_IM:407" class="idref" href="#replacement_IM:407"><span class="id" title="binder">replacement_IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="updated_IM:408" class="idref" href="#updated_IM:408"><span class="id" title="binder">updated_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="definition">update_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#replacement_IM:407"><span class="id" title="variable">replacement_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="selection_complement:409" class="idref" href="#selection_complement:409"><span class="id" title="binder">selection_complement</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a> := <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="update_IM_complement_Hbs" class="idref" href="#update_IM_complement_Hbs"><span class="id" title="instance">update_IM_complement_Hbs</span></a><br/>
&nbsp;&nbsp;`{<a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">forall</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">i</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">:</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">index</span></a><a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">,</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">(</span></a><a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">IM</span></a> <a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">i</span></a><a id="H0:411" class="idref" href="#H0:411"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="sub_i:412" class="idref" href="#sub_i:412"><span class="id" title="binder">sub_i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection_complement"><span class="id" title="variable">selection_complement</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.updated_IM"><span class="id" title="variable">updated_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection_complement"><span class="id" title="variable">selection_complement</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:412"><span class="id" title="variable">sub_i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>, <span class="id" title="var">updated_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="definition">update_IM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>; [|<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_elim2"><span class="id" title="lemma">set_diff_elim2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="section">update_IM</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
