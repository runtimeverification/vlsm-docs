<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Cdcl</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Itauto</span>. #[<span class="id" title="var">local</span>] <span class="id" title="keyword">Tactic</span> <span class="id" title="keyword">Notation</span> "itauto" := <span class="id" title="var">itauto</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.Streams.html#"><span class="id" title="library">Streams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#"><span class="id" title="library">Rdefinitions</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">StdppListSet</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#"><span class="id" title="library">ListSetExtras</span></a> <a class="idref" href="VLSM.Lib.Measurable.html#"><span class="id" title="library">Measurable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a> <a class="idref" href="VLSM.Core.Validator.html#"><span class="id" title="library">Validator</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab119"></a><h1 class="section">VLSM Equivocation Definitions</h1>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  This module is dedicated to building the vocabulary for discussing equivocation.
  Equivocation occurs on the receipt of a message which has not been previously sent.
  The designated sender (validator) of the message is then said to be equivocating.
  Our main purpose is to keep track of equivocating senders in a composite context
  and limit equivocation by means of a composition constraint.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="exists_proj1_sig" class="idref" href="#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:2" class="idref" href="#P:2"><span class="id" title="binder">P</span></a>:<a class="idref" href="VLSM.Core.Equivocation.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a>:<a class="idref" href="VLSM.Core.Equivocation.html#A:1"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="xP:5" class="idref" href="#xP:5"><span class="id" title="binder">xP</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:2"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#xP:5"><span class="id" title="variable">xP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#a:3"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:2"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#a:3"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>] [= -&gt;]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab120"></a><h2 class="section">Basic equivocation</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="ReachableThreshold" class="idref" href="#ReachableThreshold"><span class="id" title="record">ReachableThreshold</span></a> <a id="V:6" class="idref" href="#V:6"><span class="id" title="binder">V</span></a> `{<a id="Hm:7" class="idref" href="#Hm:7"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#V:6"><span class="id" title="variable">V</span></a>} :=<br/>
&nbsp;&nbsp;{ <a id="threshold" class="idref" href="#threshold"><span class="id" title="projection">threshold</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="r:9" class="idref" href="#r:9"><span class="id" title="binder">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#r:9"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0)%<span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;; <a id="reachable_threshold" class="idref" href="#reachable_threshold"><span class="id" title="projection">reachable_threshold</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="vs:11" class="idref" href="#vs:11"><span class="id" title="binder">vs</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#V:6"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Core.Equivocation.html#vs:11"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> (<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vs:11"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#threshold:10"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
  Assuming a set of <code>state</code>s, and a set of <code>validator</code>s,
  which is <span class="inlinecode"><a class="idref" href="VLSM.Lib.Measurable.html#Measurable"><span class="id" title="record">Measurable</span></a></span> and has a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ReachableThreshold"><span class="id" title="record">ReachableThreshold</span></a></span>, we can define
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="record">BasicEquivocation</span></a></span> starting from an <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="projection">is_equivocating</span></a></span> relation
  deciding whether a validator is equivocating in a state.

<div class="paragraph"> </div>

  To avoid a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#Finite"><span class="id" title="constructor">Finite</span></a></span> constraint on the entire set of validators, we will
  assume that there is a finite set of validators for each state, which
  can be retrieved through the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#state_validators"><span class="id" title="projection">state_validators</span></a></span> function.
  This can be taken to be entire set of validators when that is finite,
  or the set of senders for all messages in the state for
  <span class="inlinecode"><span class="id" title="var">state_encapsulating_messages</span></span>.

<div class="paragraph"> </div>

  This allows us to determine the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="projection">equivocating_validators</span></a></span> for a given
  state as those equivocating in that state.

<div class="paragraph"> </div>

  The <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="projection">equivocation_fault</span></a></span> is determined the as the sum of weights of the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="projection">equivocating_validators</span></a></span>.

<div class="paragraph"> </div>

  We call a state <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="projection">not_heavy</span></a></span> if its corresponding <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="projection">equivocation_fault</span></a></span>
  is lower than the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="projection">threshold</span></a></span> set for the <code>validator</code>s type.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="BasicEquivocation" class="idref" href="#BasicEquivocation"><span class="id" title="record">BasicEquivocation</span></a><br/>
&nbsp;&nbsp;(<a id="state:13" class="idref" href="#state:13"><span class="id" title="binder">state</span></a> <a id="validator:14" class="idref" href="#validator:14"><span class="id" title="binder">validator</span></a> <a id="Cm:15" class="idref" href="#Cm:15"><span class="id" title="binder">Cm</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;{<a id="measurable_V:16" class="idref" href="#measurable_V:16"><span class="id" title="binder">measurable_V</span></a> : <a class="idref" href="VLSM.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#validator:14"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;{<a id="reachable_threshold:17" class="idref" href="#reachable_threshold:17"><span class="id" title="binder">reachable_threshold</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#ReachableThreshold"><span class="id" title="class">ReachableThreshold</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#validator:14"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H6:26" class="idref" href="#H6:26"><span class="id" title="binder">FinSet</span></a> <a id="H6:26" class="idref" href="#H6:26"><span class="id" title="binder">validator</span></a> <a id="H6:26" class="idref" href="#H6:26"><span class="id" title="binder">Cm</span></a>}<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;{ <a id="is_equivocating" class="idref" href="#is_equivocating"><span class="id" title="projection">is_equivocating</span></a> (<a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state:13"><span class="id" title="variable">state</span></a>) (<a id="v:29" class="idref" href="#v:29"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#validator:14"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;; <a id="is_equivocating_dec" class="idref" href="#is_equivocating_dec"><span class="id" title="projection">is_equivocating_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating:30"><span class="id" title="method">is_equivocating</span></a><br/>
&nbsp;&nbsp;</div>

<div class="doc">
retrieves a set containing all possible validators for a state 
</div>
<div class="code">
&nbsp;&nbsp;; <a id="state_validators" class="idref" href="#state_validators"><span class="id" title="projection">state_validators</span></a> (<a id="s:32" class="idref" href="#s:32"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state:13"><span class="id" title="variable">state</span></a>) : <a class="idref" href="VLSM.Core.Equivocation.html#Cm:15"><span class="id" title="variable">Cm</span></a><br/>
&nbsp;&nbsp;</div>

<div class="doc">
all validators which are equivocating in a given composite state 
</div>
<div class="code">
&nbsp;&nbsp;; <a id="equivocating_validators" class="idref" href="#equivocating_validators"><span class="id" title="projection">equivocating_validators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state:13"><span class="id" title="variable">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#Cm:15"><span class="id" title="variable">Cm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="definition">filter</span> (<span class="id" title="keyword">fun</span> <a id="v:35" class="idref" href="#v:35"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating:30"><span class="id" title="method">is_equivocating</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:35"><span class="id" title="variable">v</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#state_validators:33"><span class="id" title="method">state_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:34"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;</div>

<div class="doc">
equivocation fault sum: the sum of the weights of equivocating validators 
</div>
<div class="code">
&nbsp;&nbsp;; <a id="equivocation_fault" class="idref" href="#equivocation_fault"><span class="id" title="projection">equivocation_fault</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:37" class="idref" href="#s:37"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state:13"><span class="id" title="variable">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.Measurable.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators:36"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:37"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;; <a id="not_heavy" class="idref" href="#not_heavy"><span class="id" title="projection">not_heavy</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:39" class="idref" href="#s:39"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state:13"><span class="id" title="variable">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault:38"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#threshold"><span class="id" title="method">threshold</span></a>)%<span class="id" title="var">R</span><br/>
&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_equivocating_validators_equivocation_fault" class="idref" href="#eq_equivocating_validators_equivocation_fault"><span class="id" title="lemma">eq_equivocating_validators_equivocation_fault</span></a><br/>
&nbsp;&nbsp;&nbsp;`{<a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">BasicEquivocation</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">st</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">validator</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">Cm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s1:56" class="idref" href="#s1:56"><span class="id" title="binder">s1</span></a> <a id="s2:57" class="idref" href="#s2:57"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:56"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">≡@{</span><a class="idref" href="VLSM.Core.Equivocation.html#Cm:43"><span class="id" title="variable">Cm</span></a><span class="id" title="notation">}</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:57"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:56"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:57"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#set_eq_nodup_sum_weight_eq"><span class="id" title="lemma">set_eq_nodup_sum_weight_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListSetExtras.html#set_eq_fin_set"><span class="id" title="lemma">set_eq_fin_set</span></a>, <span class="id" title="var">H8</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incl_equivocating_validators_equivocation_fault" class="idref" href="#incl_equivocating_validators_equivocation_fault"><span class="id" title="lemma">incl_equivocating_validators_equivocation_fault</span></a><br/>
&nbsp;&nbsp;`{<a id="Heqv:72" class="idref" href="#Heqv:72"><span class="id" title="binder">Heqv</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> <a id="st:58" class="idref" href="#st:58"><span class="id" title="binder">st</span></a> <a id="validator:59" class="idref" href="#validator:59"><span class="id" title="binder">validator</span></a> }<br/>
&nbsp;&nbsp;`{<a id="EqDecision1:73" class="idref" href="#EqDecision1:73"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:73" class="idref" href="#EqDecision1:73"><span class="id" title="binder">validator</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s1:74" class="idref" href="#s1:74"><span class="id" title="binder">s1</span></a> <a id="s2:75" class="idref" href="#s2:75"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:74"><span class="id" title="variable">s1</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:75"><span class="id" title="variable">s2</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:74"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:75"><span class="id" title="variable">s2</span></a>)%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">H_incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_subseteq"><span class="id" title="lemma">sum_weights_subseteq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H_incl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab121"></a><h3 class="section">State-message oracles and endowing states with history</h3>


<div class="paragraph"> </div>

  Our first step is to define some useful concepts in the context of a single VLSM.

<div class="paragraph"> </div>

  Apart from basic definitions of equivocation, we introduce the concept of a
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span>. Such an oracle can, given a state and a message,
  decide whether the message has been sent (or received) in the history leading
  to the current state. Formally, we say that a <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a></span> &lt;m&gt; <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
  if we're in  <span class="inlinecode"><a class="idref" href="VLSM.Core.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a></span> &lt;s&gt; iff every valid trace which produces &lt;s&gt; contains &lt;m&gt;
  as a sent message somewhere along the way.

<div class="paragraph"> </div>

  The existence of such oracles, which practically imply endowing states with history,
  is necessary if we are to detect equivocation using a composition constraint, as these
  constraints act upon states, not traces.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Simple" class="idref" href="#Simple"><span class="id" title="section">Simple</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:76" class="idref" href="#message:76"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="vlsm:77" class="idref" href="#vlsm:77"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:76"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="pre_vlsm:78" class="idref" href="#pre_vlsm:78"><span class="id" title="binder">pre_vlsm</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:77"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  The following property detects equivocation in a given
  trace for a given message.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocation_in_trace" class="idref" href="#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a><br/>
&nbsp;&nbsp;(<a id="msg:79" class="idref" href="#msg:79"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:80" class="idref" href="#tr:80"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="prefix:81" class="idref" href="#prefix:81"><span class="id" title="binder">prefix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="item:82" class="idref" href="#item:82"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="suffix:83" class="idref" href="#suffix:83"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#tr:80"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#prefix:81"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:82"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#suffix:83"><span class="id" title="variable">suffix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:82"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:79"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#msg:79"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#prefix:81"><span class="id" title="variable">prefix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="equivocation_in_trace_dec" class="idref" href="#equivocation_in_trace_dec"><span class="id" title="instance">equivocation_in_trace_dec</span></a><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:84" class="idref" href="#EqDecision0:84"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:84" class="idref" href="#EqDecision0:84"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">msg</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="d:87" class="idref" href="#d:87"><span class="id" title="binder">d</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocation.html#d:85"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="definition">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">msg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <span class="id" title="var">msg</span> <span class="id" title="var">prefix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="VLSM.Lib.ListExtras.html#one_element_decompositions"><span class="id" title="definition">one_element_decompositions</span></a> <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_exists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [((<span class="id" title="var">prefix</span>, <span class="id" title="var">item</span>), <span class="id" title="var">suffix</span>) [<span class="id" title="var">Hitem</span> <span class="id" title="var">Heqv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>, <span class="id" title="var">item</span>, <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>, <a class="idref" href="VLSM.Lib.ListExtras.html#in_one_element_decompositions_iff"><span class="id" title="lemma">in_one_element_decompositions_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">item</span> [<span class="id" title="var">suffix</span> [<span class="id" title="var">Hitem</span> <span class="id" title="var">Heqv</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_In</span>, <a class="idref" href="VLSM.Lib.ListExtras.html#in_one_element_decompositions_iff"><span class="id" title="lemma">in_one_element_decompositions_iff</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">Exists_dec</span>. <span class="id" title="tactic">intros</span> ((<span class="id" title="var">prefix</span>, <span class="id" title="var">item</span>), <span class="id" title="var">suffix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#Decision_and"><span class="id" title="lemma">Decision_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="instance">option_eq_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#Decision_not"><span class="id" title="lemma">Decision_not</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="instance">Exists_dec</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">pitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">option_eq_dec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_equivocation_in_empty_trace" class="idref" href="#no_equivocation_in_empty_trace"><span class="id" title="lemma">no_equivocation_in_empty_trace</span></a> <a id="m:89" class="idref" href="#m:89"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:89"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">suffix</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> <span class="id" title="var">_</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prefix</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocation_in_trace_prefix" class="idref" href="#equivocation_in_trace_prefix"><span class="id" title="lemma">equivocation_in_trace_prefix</span></a><br/>
&nbsp;&nbsp;(<a id="msg:90" class="idref" href="#msg:90"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="prefix:91" class="idref" href="#prefix:91"><span class="id" title="binder">prefix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="suffix:92" class="idref" href="#suffix:92"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:90"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#prefix:91"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:90"><span class="id" title="variable">msg</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#prefix:91"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#suffix:92"><span class="id" title="variable">suffix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">pre</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">suf</span> &amp; -&gt; &amp; <span class="id" title="var">Hinput</span> &amp; <span class="id" title="var">Hnoutput</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pre</span>, <span class="id" title="var">item</span>, (<span class="id" title="var">suf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suffix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>, &lt;- !<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocation_in_trace_last_char" class="idref" href="#equivocation_in_trace_last_char"><span class="id" title="lemma">equivocation_in_trace_last_char</span></a><br/>
&nbsp;&nbsp;(<a id="msg:93" class="idref" href="#msg:93"><span class="id" title="binder">msg</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:94" class="idref" href="#tr:94"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="item:95" class="idref" href="#item:95"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:93"><span class="id" title="variable">msg</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#tr:94"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.Equivocation.html#item:95"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:93"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:94"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:95"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:93"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#msg:93"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:94"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">item'</span> [<span class="id" title="var">suffix</span> [<span class="id" title="var">Heq_tr_item'</span> [<span class="id" title="var">Hinput</span> <span class="id" title="var">Hnoutput</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">suffix</span> <span class="id" title="var">suffix'</span> <span class="id" title="var">_item</span> <span class="id" title="var">Heq_suffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_tr_item'</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;]; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>, !<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_tr_item'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_tr_item'</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>, <span class="id" title="var">item'</span>, <span class="id" title="var">suffix'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">prefix</span> [<span class="id" title="var">item'</span> [<span class="id" title="var">suffix</span> [-&gt; [<span class="id" title="var">Hinput</span> <span class="id" title="var">Hnoutput</span>]]]]]<br/>
      | [<span class="id" title="var">Hinput</span> <span class="id" title="var">Hnoutput</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>, <span class="id" title="var">item'</span>, (<span class="id" title="var">suffix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>, <span class="id" title="var">item</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  We intend to give define several message oracles: <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>,
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="projection">has_not_been_sent</span></a></span>, <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received"><span class="id" title="projection">has_not_been_received</span></a></span>.
  To avoid repetition, we give build some generic definitions first.

<div class="paragraph"> </div>

 General signature of a message oracle 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_message_oracle" class="idref" href="#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="specialized_selected_message_exists_in_all_traces" class="idref" href="#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a><br/>
&nbsp;&nbsp;(<a id="X:96" class="idref" href="#X:96"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:97" class="idref" href="#message_selector:97"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:98" class="idref" href="#s:98"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:99" class="idref" href="#m:99"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="start:100" class="idref" href="#start:100"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:101" class="idref" href="#tr:101"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:102" class="idref" href="#Htr:102"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:96"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#start:100"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:98"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:101"><span class="id" title="variable">tr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:97"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:99"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:101"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_all_preloaded_traces" class="idref" href="#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="specialized_selected_message_exists_in_some_traces" class="idref" href="#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a><br/>
&nbsp;&nbsp;(<a id="X:103" class="idref" href="#X:103"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:104" class="idref" href="#message_selector:104"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:105" class="idref" href="#s:105"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:106" class="idref" href="#m:106"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="start:107" class="idref" href="#start:107"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:108" class="idref" href="#tr:108"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:109" class="idref" href="#Htr:109"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#start:107"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:105"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:108"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:104"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:106"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:108"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_some_preloaded_traces" class="idref" href="#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a>: <span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="message_selector:110" class="idref" href="#message_selector:110"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="specialized_selected_message_exists_in_no_trace" class="idref" href="#specialized_selected_message_exists_in_no_trace"><span class="id" title="definition">specialized_selected_message_exists_in_no_trace</span></a><br/>
&nbsp;&nbsp;(<a id="X:113" class="idref" href="#X:113"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:114" class="idref" href="#message_selector:114"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:115" class="idref" href="#s:115"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:116" class="idref" href="#m:116"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="start:117" class="idref" href="#start:117"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:118" class="idref" href="#tr:118"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:119" class="idref" href="#Htr:119"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:113"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#start:117"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:118"><span class="id" title="variable">tr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:114"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:116"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:118"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_no_preloaded_trace" class="idref" href="#selected_message_exists_in_no_preloaded_trace"><span class="id" title="definition">selected_message_exists_in_no_preloaded_trace</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_no_trace"><span class="id" title="definition">specialized_selected_message_exists_in_no_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="selected_message_exists_not_some_iff_no" class="idref" href="#selected_message_exists_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_not_some_iff_no</span></a><br/>
&nbsp;&nbsp;(<a id="X:120" class="idref" href="#X:120"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:121" class="idref" href="#message_selector:121"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:123" class="idref" href="#m:123"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:120"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:121"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:123"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_no_trace"><span class="id" title="definition">specialized_selected_message_exists_in_no_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:120"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:121"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:123"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnot</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hsend</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnot</span>; <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hno</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hsend</span>); <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hno</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="selected_message_exists_preloaded_not_some_iff_no" class="idref" href="#selected_message_exists_preloaded_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_preloaded_not_some_iff_no</span></a><br/>
&nbsp;&nbsp;(<a id="message_selector:124" class="idref" href="#message_selector:124"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:126" class="idref" href="#m:126"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:124"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:126"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_no_preloaded_trace"><span class="id" title="definition">selected_message_exists_in_no_preloaded_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:124"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:126"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_not_some_iff_no</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Sufficient condition for 'specialized_selected_message_exists_in_some_traces' 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="specialized_selected_message_exists_in_some_traces_from" class="idref" href="#specialized_selected_message_exists_in_some_traces_from"><span class="id" title="lemma">specialized_selected_message_exists_in_some_traces_from</span></a><br/>
&nbsp;&nbsp;(<a id="X:127" class="idref" href="#X:127"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:128" class="idref" href="#message_selector:128"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:129" class="idref" href="#s:129"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="start:131" class="idref" href="#start:131"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:132" class="idref" href="#tr:132"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:133" class="idref" href="#Htr:133"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:127"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#start:131"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:129"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:132"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsome:134" class="idref" href="#Hsome:134"><span class="id" title="binder">Hsome</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:128"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:130"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:132"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:127"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:128"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:129"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:130"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <span class="id" title="var">X</span> <span class="id" title="var">start</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hstart</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_first_pstate"><span class="id" title="method">valid_trace_first_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hstart</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr'</span> <span class="id" title="var">Htr'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> (<span class="id" title="var">tr'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">start</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="selected_messages_consistency_prop" class="idref" href="#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a><br/>
&nbsp;&nbsp;(<a id="message_selector:135" class="idref" href="#message_selector:135"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:136" class="idref" href="#s:136"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:135"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:136"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:137"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:135"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:136"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:137"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="selected_message_exists_in_all_traces_initial_state" class="idref" href="#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a><br/>
&nbsp;&nbsp;(<a id="s:138" class="idref" href="#s:138"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:139" class="idref" href="#Hs:139"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:138"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:140" class="idref" href="#message_selector:140"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="m:141" class="idref" href="#m:141"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:140"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:141"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hselected</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr</span> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> |]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hselected</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hselected</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hselected</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Checks if all <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s leading to a certain state contain a certain message.
  The <span class="inlinecode"><span class="id" title="var">message_selector</span></span> argument specifies whether we're looking for received or sent
  messages.

<div class="paragraph"> </div>

  Notably, the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s over which we are iterating belong to the preloaded
  version of the target VLSM. This is because we want VLSMs to have oracles which
  are valid irrespective of the composition they take part in. As we know,
  the behavior preloaded VLSMs includes behaviors of its projections in any
  composition. 

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="all_traces_have_message_prop" class="idref" href="#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a><br/>
&nbsp;&nbsp;(<a id="message_selector:142" class="idref" href="#message_selector:142"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="oracle:143" class="idref" href="#oracle:143"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:144" class="idref" href="#s:144"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:145" class="idref" href="#m:145"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle:143"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:145"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:142"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:145"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_traces_have_message_prop" class="idref" href="#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a><br/>
&nbsp;&nbsp;(<a id="message_selector:146" class="idref" href="#message_selector:146"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="oracle:147" class="idref" href="#oracle:147"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:149" class="idref" href="#m:149"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle:147"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:149"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_no_preloaded_trace"><span class="id" title="definition">selected_message_exists_in_no_preloaded_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:146"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:149"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_sent_prop" class="idref" href="#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= (<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_not_been_sent_prop" class="idref" href="#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= (<a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_received_prop" class="idref" href="#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= (<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_not_been_received_prop" class="idref" href="#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= (<a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>)).<br/>

<br/>
</div>

<div class="doc">
  Per the vocabulary of the official VLSM document, we say that VLSMs endowed
  with a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span> for sent messages have the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> capability.
  Capabilities for receiving messages are treated analogously, so we omit mentioning
  them explicitly.

<div class="paragraph"> </div>

  Notably, we also define the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="projection">has_not_been_sent</span></a></span> oracle, which decides if a message
  has definitely not been sent, on any of the traces producing a current state.

<div class="paragraph"> </div>

  Furthermore, we require a <span class="inlinecode"><span class="id" title="var">sent_excluded_middle</span></span> property, which stipulates
  that any argument to the oracle should return true in exactly one of
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="projection">has_not_been_sent</span></a></span>. 

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="HasBeenSentCapability" class="idref" href="#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a> := {<br/>
&nbsp;&nbsp;<a id="has_been_sent" class="idref" href="#has_been_sent"><span class="id" title="projection">has_been_sent</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>;<br/>
&nbsp;&nbsp;<a id="has_been_sent_dec" class="idref" href="#has_been_sent_dec"><span class="id" title="projection">has_been_sent_dec</span></a> :&gt; <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:151"><span class="id" title="method">has_been_sent</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="proper_sent" class="idref" href="#proper_sent"><span class="id" title="projection">proper_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:153" class="idref" href="#s:153"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:154" class="idref" href="#Hs:154"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:153"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:155" class="idref" href="#m:155"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:151"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:153"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:155"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span>;<br/>
<br/>
&nbsp;&nbsp;<a id="has_not_been_sent" class="idref" href="#has_not_been_sent"><span class="id" title="projection">has_not_been_sent</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:157" class="idref" href="#s:157"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="m:158" class="idref" href="#m:158"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:151"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:157"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:158"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="proper_not_sent" class="idref" href="#proper_not_sent"><span class="id" title="projection">proper_not_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:160" class="idref" href="#s:160"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:161" class="idref" href="#Hs:161"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:160"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:162" class="idref" href="#m:162"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent:159"><span class="id" title="method">has_not_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:160"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:162"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
  Reverse implication for 'selected_messages_consistency_prop'
  always holds.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="consistency_from_valid_state_proj2" class="idref" href="#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a><br/>
&nbsp;&nbsp;(<a id="s:164" class="idref" href="#s:164"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:165" class="idref" href="#Hs:165"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:164"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:166" class="idref" href="#m:166"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="selector:167" class="idref" href="#selector:167"><span class="id" title="binder">selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hall:168" class="idref" href="#Hall:168"><span class="id" title="binder">Hall</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:167"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:166"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:167"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:166"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_consistency" class="idref" href="#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a><br/>
&nbsp;&nbsp;`{<a id="H:169" class="idref" href="#H:169"><span class="id" title="binder">HasBeenSentCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:170" class="idref" href="#s:170"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:171" class="idref" href="#Hs:171"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:170"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:172" class="idref" href="#m:172"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:170"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:172"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hmsg</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="can_produce_has_been_sent" class="idref" href="#can_produce_has_been_sent"><span class="id" title="lemma">can_produce_has_been_sent</span></a><br/>
&nbsp;&nbsp;`{<a id="H:173" class="idref" href="#H:173"><span class="id" title="binder">HasBeenSentCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:174" class="idref" href="#s:174"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:175" class="idref" href="#m:175"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsm:176" class="idref" href="#Hsm:176"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#can_produce"><span class="id" title="definition">can_produce</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:175"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:175"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_produce_valid"><span class="id" title="definition">can_produce_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#non_empty_valid_trace_from_can_produce"><span class="id" title="lemma">non_empty_valid_trace_from_can_produce</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsm</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">lst_tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlst</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hm</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr</span> <span class="id" title="var">tr'</span> <span class="id" title="var">_lst_tr</span> <span class="id" title="var">Heqtr</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlst</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#last_error_is_last"><span class="id" title="lemma">last_error_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlst</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">_lst_tr</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>, <span class="id" title="var">Hs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Sufficient condition for 'proper_sent' avoiding the
  'pre_loaded_with_all_messages_vlsm'

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="specialized_proper_sent" class="idref" href="#specialized_proper_sent"><span class="id" title="lemma">specialized_proper_sent</span></a><br/>
&nbsp;&nbsp;`{<a id="H:177" class="idref" href="#H:177"><span class="id" title="binder">HasBeenSentCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:178" class="idref" href="#s:178"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:179" class="idref" href="#Hs:179"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:178"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsome:181" class="idref" href="#Hsome:181"><span class="id" title="binder">Hsome</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:178"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:180"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:178"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:180"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpres</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_valid_state_message_preservation"><span class="id" title="lemma">pre_loaded_with_all_messages_valid_state_message_preservation</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpres</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hsome</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">pre_vlsm</span>;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">T</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="projection">proper_sent</span></a></span> condition specialized to regular VLSM traces
  (avoiding <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a></span>).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="specialized_proper_sent_rev" class="idref" href="#specialized_proper_sent_rev"><span class="id" title="lemma">specialized_proper_sent_rev</span></a><br/>
&nbsp;&nbsp;`{<a id="H:182" class="idref" href="#H:182"><span class="id" title="binder">HasBeenSentCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:184" class="idref" href="#Hs:184"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:183"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:185" class="idref" href="#m:185"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsm:186" class="idref" href="#Hsm:186"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:185"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:185"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpres</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_valid_state_message_preservation"><span class="id" title="lemma">pre_loaded_with_all_messages_valid_state_message_preservation</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">pre_vlsm</span>;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">T</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_consistency_proper_not_sent" class="idref" href="#has_been_sent_consistency_proper_not_sent"><span class="id" title="lemma">has_been_sent_consistency_proper_not_sent</span></a><br/>
&nbsp;&nbsp;(<a id="has_been_sent:187" class="idref" href="#has_been_sent:187"><span class="id" title="binder">has_been_sent</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_been_sent_dec:188" class="idref" href="#has_been_sent_dec:188"><span class="id" title="binder">has_been_sent_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:187"><span class="id" title="variable">has_been_sent</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:189" class="idref" href="#s:189"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:190" class="idref" href="#m:190"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="proper_sent:191" class="idref" href="#proper_sent:191"><span class="id" title="binder">proper_sent</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:187"><span class="id" title="variable">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:190"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_not_been_sent:194" class="idref" href="#has_not_been_sent:194"><span class="id" title="binder">has_not_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:192" class="idref" href="#s:192"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="m:193" class="idref" href="#m:193"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent:187"><span class="id" title="variable">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:193"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hconsistency:195" class="idref" href="#Hconsistency:195"><span class="id" title="binder">Hconsistency</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:190"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent:194"><span class="id" title="variable">has_not_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:190"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_preloaded_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_preloaded_not_some_iff_no</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#not_iff_compat"><span class="id" title="lemma">not_iff_compat</span></a>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#iff_trans"><span class="id" title="lemma">iff_trans</span></a> <span class="id" title="var">proper_sent</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="HasBeenReceivedCapability" class="idref" href="#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a> := {<br/>
&nbsp;&nbsp;<a id="has_been_received" class="idref" href="#has_been_received"><span class="id" title="projection">has_been_received</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>;<br/>
&nbsp;&nbsp;<a id="has_been_received_dec" class="idref" href="#has_been_received_dec"><span class="id" title="projection">has_been_received_dec</span></a> :&gt; <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:197"><span class="id" title="method">has_been_received</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="proper_received" class="idref" href="#proper_received"><span class="id" title="projection">proper_received</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:200" class="idref" href="#Hs:200"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:199"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:201" class="idref" href="#m:201"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:197"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:201"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span>;<br/>
<br/>
&nbsp;&nbsp;<a id="has_not_been_received" class="idref" href="#has_not_been_received"><span class="id" title="projection">has_not_been_received</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:203" class="idref" href="#s:203"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="m:204" class="idref" href="#m:204"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:197"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:203"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:204"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;<a id="proper_not_received" class="idref" href="#proper_not_received"><span class="id" title="projection">proper_not_received</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:206" class="idref" href="#s:206"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:207" class="idref" href="#Hs:207"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:206"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:208" class="idref" href="#m:208"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received:205"><span class="id" title="method">has_not_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:208"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_consistency" class="idref" href="#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a><br/>
&nbsp;&nbsp;`{<a id="H:210" class="idref" href="#H:210"><span class="id" title="binder">HasBeenReceivedCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:211" class="idref" href="#s:211"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:212" class="idref" href="#Hs:212"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:211"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:213" class="idref" href="#m:213"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:211"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:213"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_received"><span class="id" title="method">proper_not_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hsome</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_consistency_proper_not_received" class="idref" href="#has_been_received_consistency_proper_not_received"><span class="id" title="lemma">has_been_received_consistency_proper_not_received</span></a><br/>
&nbsp;&nbsp;(<a id="has_been_received:214" class="idref" href="#has_been_received:214"><span class="id" title="binder">has_been_received</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_been_received_dec:215" class="idref" href="#has_been_received_dec:215"><span class="id" title="binder">has_been_received_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:214"><span class="id" title="variable">has_been_received</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:217" class="idref" href="#m:217"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="proper_received:218" class="idref" href="#proper_received:218"><span class="id" title="binder">proper_received</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:214"><span class="id" title="variable">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:217"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_not_been_received:221" class="idref" href="#has_not_been_received:221"><span class="id" title="binder">has_not_been_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="m:220" class="idref" href="#m:220"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received:214"><span class="id" title="variable">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:220"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hconsistency:222" class="idref" href="#Hconsistency:222"><span class="id" title="binder">Hconsistency</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:217"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received:221"><span class="id" title="variable">has_not_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:217"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_received"><span class="id" title="method">has_not_been_received</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsm'</span> : <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">Htr</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hconsistency</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">proper_received</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hnone</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">has_been_received</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span> | <span class="id" title="var">Hsm</span>]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proper_received</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconsistency</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsm</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hsm</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hnone</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sent_messages" class="idref" href="#sent_messages"><span class="id" title="definition">sent_messages</span></a><br/>
&nbsp;&nbsp;(<a id="s:223" class="idref" href="#s:223"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (<span class="id" title="keyword">fun</span> <a id="m:224" class="idref" href="#m:224"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:223"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:224"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sent_messages_proper" class="idref" href="#sent_messages_proper"><span class="id" title="lemma">sent_messages_proper</span></a><br/>
&nbsp;&nbsp;`{<a id="H:225" class="idref" href="#H:225"><span class="id" title="binder">HasBeenSentCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:226" class="idref" href="#s:226"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:227" class="idref" href="#Hs:227"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:226"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:228" class="idref" href="#m:228"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:226"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:228"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':229" class="idref" href="#m':229"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:226"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m':229"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:228"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a>,<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="received_messages" class="idref" href="#received_messages"><span class="id" title="definition">received_messages</span></a><br/>
&nbsp;&nbsp;(<a id="s:230" class="idref" href="#s:230"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (<span class="id" title="keyword">fun</span> <a id="m:231" class="idref" href="#m:231"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:230"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:231"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="received_messages_proper" class="idref" href="#received_messages_proper"><span class="id" title="lemma">received_messages_proper</span></a><br/>
&nbsp;&nbsp;`{<a id="H:232" class="idref" href="#H:232"><span class="id" title="binder">HasBeenReceivedCapability</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:233" class="idref" href="#s:233"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:234" class="idref" href="#Hs:234"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:233"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:235" class="idref" href="#m:235"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:235"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':236" class="idref" href="#m':236"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:233"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m':236"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:235"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a>,<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#Simple"><span class="id" title="section">Simple</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab122"></a><h3 class="section">Stepwise consistency properties for <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span></h3>


<div class="paragraph"> </div>

  The above definitions like <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a></span>
  connect a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span> to a predicate on
  <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a></span> by relating the oracle holding on a state
  to a satisfying transition existing in all traces.

<div class="paragraph"> </div>

  This is equivalent to two local properties,
  one is that the oracle cannot only for any initial state,
  the other is that the oracle judgement is appropriately
  related for the starting and <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a></span> states of
  any <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a></span>.

<div class="paragraph"> </div>

  These conditions are defined in the record <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a></span>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="oracle_stepwise_props" class="idref" href="#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:237" class="idref" href="#message:237"><span class="id" title="binder">message</span></a>] [<a id="vlsm:238" class="idref" href="#vlsm:238"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:237"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:239" class="idref" href="#message_selector:239"><span class="id" title="binder">message_selector</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#message:237"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oracle:240" class="idref" href="#oracle:240"><span class="id" title="binder">oracle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:238"><span class="id" title="variable">vlsm</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;{<a id="oracle_no_inits" class="idref" href="#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:242" class="idref" href="#s:242"><span class="id" title="binder">s</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:238"><span class="id" title="variable">vlsm</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> (<span class="id" title="var">VLSMMachine</span>:=<a class="idref" href="VLSM.Core.VLSM.html#vmachine"><span class="id" title="projection">vmachine</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:238"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:242"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:243" class="idref" href="#m:243"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#oracle:240"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:242"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:243"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;&nbsp;<a id="oracle_step_update" class="idref" href="#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:245" class="idref" href="#l:245"><span class="id" title="binder">l</span></a> <a id="s:246" class="idref" href="#s:246"><span class="id" title="binder">s</span></a> <a id="im:247" class="idref" href="#im:247"><span class="id" title="binder">im</span></a> <a id="s':248" class="idref" href="#s':248"><span class="id" title="binder">s'</span></a> <a id="om:249" class="idref" href="#om:249"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:238"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:245"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:246"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:247"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':248"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#om:249"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:250" class="idref" href="#msg:250"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:240"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':248"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:250"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#message_selector:239"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:250"><span class="id" title="variable">msg</span></a> {|<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#l:245"><span class="id" title="variable">l</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#im:247"><span class="id" title="variable">im</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#s':248"><span class="id" title="variable">s'</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#om:249"><span class="id" title="variable">om</span></a>|}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:240"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:246"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:250"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> {<span class="id" title="var">message</span>} {<span class="id" title="var">vlsm</span>} {<span class="id" title="var">message_selector</span>} {<span class="id" title="var">oracle</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> {<span class="id" title="var">message</span>} {<span class="id" title="var">vlsm</span>} {<span class="id" title="var">message_selector</span>} {<span class="id" title="var">oracle</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_partial_trace_update" class="idref" href="#oracle_partial_trace_update"><span class="id" title="lemma">oracle_partial_trace_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:252" class="idref" href="#message:252"><span class="id" title="binder">message</span></a>] [<a id="vlsm:253" class="idref" href="#vlsm:253"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:252"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="selector:254" class="idref" href="#selector:254"><span class="id" title="binder">selector</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#message:252"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="oracle:255" class="idref" href="#oracle:255"><span class="id" title="binder">oracle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:253"><span class="id" title="variable">vlsm</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Horacle:256" class="idref" href="#Horacle:256"><span class="id" title="binder">Horacle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:254"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:255"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="s0:257" class="idref" href="#s0:257"><span class="id" title="binder">s0</span></a> <a id="s:258" class="idref" href="#s:258"><span class="id" title="binder">s</span></a> <a id="tr:259" class="idref" href="#tr:259"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:260" class="idref" href="#Htr:260"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:253"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s0:257"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:258"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:259"><span class="id" title="variable">tr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:261" class="idref" href="#m:261"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle:255"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:258"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:261"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:254"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:261"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:259"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:255"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s0:257"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:261"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Horacle</span>.(<a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">msg</span>:=<span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_initial_trace_update" class="idref" href="#oracle_initial_trace_update"><span class="id" title="lemma">oracle_initial_trace_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:262" class="idref" href="#message:262"><span class="id" title="binder">message</span></a>] [<a id="vlsm:263" class="idref" href="#vlsm:263"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:262"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="selector:264" class="idref" href="#selector:264"><span class="id" title="binder">selector</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="oracle:265" class="idref" href="#oracle:265"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:263"><span class="id" title="variable">vlsm</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Horacle:266" class="idref" href="#Horacle:266"><span class="id" title="binder">Horacle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:264"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:265"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="s0:267" class="idref" href="#s0:267"><span class="id" title="binder">s0</span></a> <a id="s:268" class="idref" href="#s:268"><span class="id" title="binder">s</span></a> <a id="tr:269" class="idref" href="#tr:269"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:270" class="idref" href="#Htr:270"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:263"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s0:267"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:268"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:269"><span class="id" title="variable">tr</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:271" class="idref" href="#m:271"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle:265"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:268"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:271"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:264"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:271"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:269"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_partial_trace_update"><span class="id" title="lemma">oracle_partial_trace_update</span></a> <span class="id" title="var">Horacle</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> <span class="id" title="var">Horacle</span> <span class="id" title="var">s0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO(wkolowski):&nbsp;make&nbsp;notation&nbsp;uniform&nbsp;accross&nbsp;the&nbsp;file.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_stepwise_props_change_selector" class="idref" href="#oracle_stepwise_props_change_selector"><span class="id" title="lemma">oracle_stepwise_props_change_selector</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:272" class="idref" href="#message:272"><span class="id" title="binder">message</span></a>] [<a id="vlsm:273" class="idref" href="#vlsm:273"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:272"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="selector:274" class="idref" href="#selector:274"><span class="id" title="binder">selector</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="oracle:275" class="idref" href="#oracle:275"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:273"><span class="id" title="variable">vlsm</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Horacle:276" class="idref" href="#Horacle:276"><span class="id" title="binder">Horacle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:274"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:275"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="selector':277" class="idref" href="#selector':277"><span class="id" title="binder">selector'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Heqv:281" class="idref" href="#Heqv:281"><span class="id" title="binder">Heqv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:278" class="idref" href="#s:278"><span class="id" title="binder">s</span></a> <a id="item:279" class="idref" href="#item:279"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:273"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:279"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:280" class="idref" href="#m:280"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#selector:274"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:280"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:279"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector':277"><span class="id" title="variable">selector'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:280"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:279"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector':277"><span class="id" title="variable">selector'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:275"><span class="id" title="variable">oracle</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Horacle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinits</span> <span class="id" title="var">Hupdate</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hupdate</span>, <span class="id" title="var">Heqv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Proving the trace properties from the stepwise properties
  begins with a lemma using induction along a trace to
  prove that given a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a></span> to a state,
  the oracle holds at that state for some message iff
  a satisfying transition item exists in the trace.

<div class="paragraph"> </div>

  The theorems for <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a></span>
  and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a></span> are mostly rearranging
  quantifiers to use this lemma, also using <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a></span>
  to choose a trace to the state for the directions where
  one is not given.

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="TraceFromStepwise" class="idref" href="#TraceFromStepwise"><span class="id" title="section">TraceFromStepwise</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="message:282" class="idref" href="#message:282"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="vlsm:283" class="idref" href="#vlsm:283"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:282"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="selector:284" class="idref" href="#selector:284"><span class="id" title="binder">selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:282"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="oracle:285" class="idref" href="#oracle:285"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:283"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="oracle_props:286" class="idref" href="#oracle_props:286"><span class="id" title="binder">oracle_props</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:284"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:285"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="H_valid_trace_prop" class="idref" href="#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="s0:287" class="idref" href="#s0:287"><span class="id" title="binder">s0</span></a> <a id="s:288" class="idref" href="#s:288"><span class="id" title="binder">s</span></a> <a id="tr:289" class="idref" href="#tr:289"><span class="id" title="binder">tr</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:290" class="idref" href="#Htr:290"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s0:287"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:288"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:289"><span class="id" title="variable">tr</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:291" class="idref" href="#m:291"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:288"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:291"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:291"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:289"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_partial_trace_update"><span class="id" title="lemma">oracle_partial_trace_update</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle_props"><span class="id" title="variable">oracle_props</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle_props"><span class="id" title="variable">oracle_props</span></a>, <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prove_all_have_message_from_stepwise" class="idref" href="#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:292" class="idref" href="#s:292"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:293" class="idref" href="#Hs:293"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:292"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:294" class="idref" href="#m:294"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:292"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:294"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsent</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H_all_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s0</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_all_traces</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prove_none_have_message_from_stepwise" class="idref" href="#prove_none_have_message_from_stepwise"><span class="id" title="lemma">prove_none_have_message_from_stepwise</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:295" class="idref" href="#s:295"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:296" class="idref" href="#Hs:296"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:295"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:297" class="idref" href="#m:297"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.selector"><span class="id" title="variable">selector</span></a> (<span class="id" title="keyword">fun</span> <a id="s:298" class="idref" href="#s:298"><span class="id" title="binder">s</span></a> <a id="m:299" class="idref" href="#m:299"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:298"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:299"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:295"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:297"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H_not_sent</span> <span class="id" title="var">start</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_not_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H_no_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s0</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_no_traces</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_no_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#H_valid_trace_prop"><span class="id" title="lemma">H_valid_trace_prop</span></a> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="selected_messages_consistency_prop_from_stepwise" class="idref" href="#selected_messages_consistency_prop_from_stepwise"><span class="id" title="lemma">selected_messages_consistency_prop_from_stepwise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oracle_dec:300" class="idref" href="#oracle_dec:300"><span class="id" title="binder">oracle_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:301" class="idref" href="#s:301"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:302" class="idref" href="#Hs:302"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:301"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:303" class="idref" href="#m:303"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:301"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:303"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_none_have_message_from_stepwise"><span class="id" title="lemma">prove_none_have_message_from_stepwise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hmsg</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_futures_preserving_oracle_from_stepwise" class="idref" href="#in_futures_preserving_oracle_from_stepwise"><span class="id" title="lemma">in_futures_preserving_oracle_from_stepwise</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:304" class="idref" href="#s1:304"><span class="id" title="binder">s1</span></a> <a id="s2:305" class="idref" href="#s2:305"><span class="id" title="binder">s2</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfutures:306" class="idref" href="#Hfutures:306"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s1:304"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:305"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:307" class="idref" href="#m:307"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:304"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:307"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise.oracle"><span class="id" title="variable">oracle</span></a>  <a class="idref" href="VLSM.Core.Equivocation.html#s2:305"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:307"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>] <span class="id" title="var">m</span> <span class="id" title="var">Hs1m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_partial_trace_update"><span class="id" title="lemma">oracle_partial_trace_update</span></a>; [| | <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#TraceFromStepwise"><span class="id" title="section">TraceFromStepwise</span></a>.<br/>

<br/>
</div>

<div class="doc">
  The stepwise properties are proven from the trace properties
  by considering the empty trace to prove the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a></span>
  property, and by considering a trace that ends with the given
  <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a></span> to prove the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a></span> property.

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="StepwiseFromTrace" class="idref" href="#StepwiseFromTrace"><span class="id" title="section">StepwiseFromTrace</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="message:308" class="idref" href="#message:308"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="vlsm:309" class="idref" href="#vlsm:309"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:308"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="selector:310" class="idref" href="#selector:310"><span class="id" title="binder">selector</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#message:308"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="oracle:311" class="idref" href="#oracle:311"><span class="id" title="binder">oracle</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:309"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="oracle_dec:312" class="idref" href="#oracle_dec:312"><span class="id" title="binder">oracle_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:311"><span class="id" title="variable">oracle</span></a>)<br/>
&nbsp;&nbsp;(<a id="Horacle_all_have:316" class="idref" href="#Horacle_all_have:316"><span class="id" title="binder">Horacle_all_have</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:313" class="idref" href="#s:313"><span class="id" title="binder">s</span></a> (<a id="Hs:314" class="idref" href="#Hs:314"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:309"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:313"><span class="id" title="variable">s</span></a>) <a id="m:315" class="idref" href="#m:315"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:309"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:310"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#oracle:311"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:313"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:315"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnot_oracle_none_have:322" class="idref" href="#Hnot_oracle_none_have:322"><span class="id" title="binder">Hnot_oracle_none_have</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:317" class="idref" href="#s:317"><span class="id" title="binder">s</span></a> (<a id="Hs:318" class="idref" href="#Hs:318"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:309"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:317"><span class="id" title="variable">s</span></a>) <a id="m:319" class="idref" href="#m:319"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:309"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#selector:310"><span class="id" title="variable">selector</span></a> (<span class="id" title="keyword">fun</span> <a id="m:320" class="idref" href="#m:320"><span class="id" title="binder">m</span></a> <a id="s:321" class="idref" href="#s:321"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#oracle:311"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:320"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:321"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:317"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:319"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_no_inits_from_trace" class="idref" href="#oracle_no_inits_from_trace"><span class="id" title="lemma">oracle_no_inits_from_trace</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:323" class="idref" href="#s:323"><span class="id" title="binder">s</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> (<span class="id" title="var">VLSMMachine</span>:=<a class="idref" href="VLSM.Core.VLSM.html#vmachine"><span class="id" title="projection">vmachine</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:324" class="idref" href="#m:324"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:324"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">m</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hproto</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.Horacle_all_have"><span class="id" title="variable">Horacle_all_have</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Horacle</span>;[| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Horacle</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a>;<span class="id" title="tactic">apply</span> <span class="id" title="var">Horacle</span>;<span class="id" title="tactic">clear</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="examine_one_trace" class="idref" href="#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:325" class="idref" href="#is:325"><span class="id" title="binder">is</span></a> <a id="s:326" class="idref" href="#s:326"><span class="id" title="binder">s</span></a> <a id="tr:327" class="idref" href="#tr:327"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:325"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:326"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:327"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:328" class="idref" href="#m:328"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:326"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:328"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:328"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:327"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.Horacle_all_have"><span class="id" title="variable">Horacle_all_have</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Horacle</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Horacle</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dec_stable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hnot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.Hnot_oracle_none_have"><span class="id" title="variable">Hnot_oracle_none_have</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_preloaded_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_preloaded_not_some_iff_no</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_step_property_from_trace" class="idref" href="#oracle_step_property_from_trace"><span class="id" title="lemma">oracle_step_property_from_trace</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:329" class="idref" href="#l:329"><span class="id" title="binder">l</span></a> <a id="s:330" class="idref" href="#s:330"><span class="id" title="binder">s</span></a> <a id="im:331" class="idref" href="#im:331"><span class="id" title="binder">im</span></a> <a id="s':332" class="idref" href="#s':332"><span class="id" title="binder">s'</span></a> <a id="om:333" class="idref" href="#om:333"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:329"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:330"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:331"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':332"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#om:333"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:334" class="idref" href="#msg:334"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':332"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:334"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:334"><span class="id" title="variable">msg</span></a> {| <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#l:329"><span class="id" title="variable">l</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#im:331"><span class="id" title="variable">im</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#s':332"><span class="id" title="variable">s'</span></a>; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>:=<a class="idref" href="VLSM.Core.Equivocation.html#om:333"><span class="id" title="variable">om</span></a> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.oracle"><span class="id" title="variable">oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:330"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:334"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> <span class="id" title="var">Htrans</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Htrans</span> <span class="id" title="var">into</span> <span class="id" title="var">Htrans'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Htrans'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hproto_s</span> [<span class="id" title="var">Hproto_m</span> <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">preloaded</span>:= <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.vlsm"><span class="id" title="variable">vlsm</span></a>) <span class="id" title="tactic">in</span> * |- *.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproto_s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Htr'</span> := <a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Htrans'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocation.html#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>) <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocation.html#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr'</span> <span class="id" title="var">Hinit</span>) <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_app</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stepwise_props_from_trace" class="idref" href="#stepwise_props_from_trace"><span class="id" title="lemma">stepwise_props_from_trace</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.selector"><span class="id" title="variable">selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace.oracle"><span class="id" title="variable">oracle</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits_from_trace"><span class="id" title="lemma">oracle_no_inits_from_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_property_from_trace"><span class="id" title="lemma">oracle_step_property_from_trace</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#StepwiseFromTrace"><span class="id" title="section">StepwiseFromTrace</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab123"></a><h2 class="section">Stepwise view of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span></h2>


<div class="paragraph"> </div>

  This reduces the proof obligations in <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span>
  to proving the stepwise properties of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a></span>.
  <span class="inlinecode"><span class="id" title="var">has_been_step_stepwise_props</span></span> is a specialization of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a></span>
  to the right <code>message_selector</code>.

<div class="paragraph"> </div>

  There are also lemmas for accessing the stepwise properties about
  a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> predicate given an instance of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span>, to allow using
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a></span> to define a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span>
  for composite VLSMs, or for proofs (e.g, about invariants) where
  these are more convenient.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_sent_stepwise_props" class="idref" href="#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:335" class="idref" href="#message:335"><span class="id" title="binder">message</span></a>] [<a id="vlsm:336" class="idref" href="#vlsm:336"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:335"><span class="id" title="variable">message</span></a>] (<a id="has_been_sent_pred:337" class="idref" href="#has_been_sent_pred:337"><span class="id" title="binder">has_been_sent_pred</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:336"><span class="id" title="variable">vlsm</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_pred:337"><span class="id" title="variable">has_been_sent_pred</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="HasBeenSentCapability_from_stepwise" class="idref" href="#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:338" class="idref" href="#message:338"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="vlsm:339" class="idref" href="#vlsm:339"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:338"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="has_been_sent_pred:340" class="idref" href="#has_been_sent_pred:340"><span class="id" title="binder">has_been_sent_pred</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:339"><span class="id" title="variable">vlsm</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_pred_dec:341" class="idref" href="#has_been_sent_pred_dec:341"><span class="id" title="binder">has_been_sent_pred_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_pred:340"><span class="id" title="variable">has_been_sent_pred</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_alt_props:342" class="idref" href="#has_been_sent_alt_props:342"><span class="id" title="binder">has_been_sent_alt_props</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_pred:340"><span class="id" title="variable">has_been_sent_pred</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:339"><span class="id" title="variable">vlsm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({|<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a>:=<span class="id" title="var">has_been_sent_pred</span>|}).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_none_have_message_from_stepwise"><span class="id" title="lemma">prove_none_have_message_from_stepwise</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_stepwise_from_trace" class="idref" href="#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:343" class="idref" href="#message:343"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:344" class="idref" href="#vlsm:344"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:343"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:345" class="idref" href="#H:345"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:345" class="idref" href="#H:345"><span class="id" title="binder">message</span></a> <a id="H:345" class="idref" href="#H:345"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:344"><span class="id" title="variable">vlsm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#stepwise_props_from_trace"><span class="id" title="lemma">stepwise_props_from_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_dec"><span class="id" title="method">has_been_sent_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_has_been_sent_stepwise_props" class="idref" href="#preloaded_has_been_sent_stepwise_props"><span class="id" title="lemma">preloaded_has_been_sent_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:346" class="idref" href="#message:346"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:347" class="idref" href="#vlsm:347"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:346"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:348" class="idref" href="#H:348"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:348" class="idref" href="#H:348"><span class="id" title="binder">message</span></a> <a id="H:348" class="idref" href="#H:348"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="seed:349" class="idref" href="#seed:349"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:346"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:350" class="idref" href="#X:350"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:347"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#seed:349"><span class="id" title="variable">seed</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:350"><span class="id" title="variable">X</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:347"><span class="id" title="variable">vlsm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a> <span class="id" title="var">vlsm</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="preloaded_HasBeenSentCapability" class="idref" href="#preloaded_HasBeenSentCapability"><span class="id" title="instance">preloaded_HasBeenSentCapability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:351" class="idref" href="#message:351"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:352" class="idref" href="#vlsm:352"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:351"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:353" class="idref" href="#H:353"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:353" class="idref" href="#H:353"><span class="id" title="binder">message</span></a> <a id="H:353" class="idref" href="#H:353"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="seed:354" class="idref" href="#seed:354"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:351"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:352"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#seed:354"><span class="id" title="variable">seed</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_dec"><span class="id" title="method">has_been_sent_dec</span></a> <span class="id" title="var">vlsm</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_has_been_sent_stepwise_props"><span class="id" title="lemma">preloaded_has_been_sent_stepwise_props</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_step_update" class="idref" href="#has_been_sent_step_update"><span class="id" title="lemma">has_been_sent_step_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:357" class="idref" href="#H:357"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:357" class="idref" href="#H:357"><span class="id" title="binder">message</span></a> <a id="H:357" class="idref" href="#H:357"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l:358" class="idref" href="#l:358"><span class="id" title="binder">l</span></a> <a id="s:359" class="idref" href="#s:359"><span class="id" title="binder">s</span></a> <a id="im:360" class="idref" href="#im:360"><span class="id" title="binder">im</span></a> <a id="s':361" class="idref" href="#s':361"><span class="id" title="binder">s'</span></a> <a id="om:362" class="idref" href="#om:362"><span class="id" title="binder">om</span></a>]<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:356"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:358"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:359"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:360"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':361"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#om:362"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:363" class="idref" href="#m:363"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:356"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':361"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:363"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#om:362"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:363"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:356"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:359"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:363"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a> <span class="id" title="var">vlsm</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_examine_one_trace" class="idref" href="#has_been_sent_examine_one_trace"><span class="id" title="lemma">has_been_sent_examine_one_trace</span></a><br/>
&nbsp;&nbsp;`{<a id="H:366" class="idref" href="#H:366"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:366" class="idref" href="#H:366"><span class="id" title="binder">message</span></a> <a id="H:366" class="idref" href="#H:366"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:367" class="idref" href="#is:367"><span class="id" title="binder">is</span></a> <a id="s:368" class="idref" href="#s:368"><span class="id" title="binder">s</span></a> <a id="tr:369" class="idref" href="#tr:369"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:365"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:367"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:368"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:369"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:370" class="idref" href="#m:370"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:365"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:368"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:370"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:370"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:369"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_dec"><span class="id" title="method">has_been_sent_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab124"></a><h2 class="section">Stepwise view of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_received_stepwise_props" class="idref" href="#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:371" class="idref" href="#message:371"><span class="id" title="binder">message</span></a>] [<a id="vlsm:372" class="idref" href="#vlsm:372"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:371"><span class="id" title="variable">message</span></a>] (<a id="has_been_received_pred:373" class="idref" href="#has_been_received_pred:373"><span class="id" title="binder">has_been_received_pred</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:372"><span class="id" title="variable">vlsm</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_pred:373"><span class="id" title="variable">has_been_received_pred</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="HasBeenReceivedCapability_from_stepwise" class="idref" href="#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:374" class="idref" href="#message:374"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="vlsm:375" class="idref" href="#vlsm:375"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:374"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="has_been_received_pred:376" class="idref" href="#has_been_received_pred:376"><span class="id" title="binder">has_been_received_pred</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:375"><span class="id" title="variable">vlsm</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_received_pred_dec:377" class="idref" href="#has_been_received_pred_dec:377"><span class="id" title="binder">has_been_received_pred_dec</span></a>: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_pred:376"><span class="id" title="variable">has_been_received_pred</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_alt_props:378" class="idref" href="#has_been_sent_alt_props:378"><span class="id" title="binder">has_been_sent_alt_props</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_pred:376"><span class="id" title="variable">has_been_received_pred</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:375"><span class="id" title="variable">vlsm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({|<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a>:=<span class="id" title="var">has_been_received_pred</span>|}).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_none_have_message_from_stepwise"><span class="id" title="lemma">prove_none_have_message_from_stepwise</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_stepwise_from_trace" class="idref" href="#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:379" class="idref" href="#message:379"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:380" class="idref" href="#vlsm:380"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:379"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:381" class="idref" href="#H:381"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:381" class="idref" href="#H:381"><span class="id" title="binder">message</span></a> <a id="H:381" class="idref" href="#H:381"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:380"><span class="id" title="variable">vlsm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#stepwise_props_from_trace"><span class="id" title="lemma">stepwise_props_from_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_dec"><span class="id" title="method">has_been_received_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_received"><span class="id" title="method">proper_not_received</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_has_been_received_stepwise_props" class="idref" href="#preloaded_has_been_received_stepwise_props"><span class="id" title="lemma">preloaded_has_been_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="message:382" class="idref" href="#message:382"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:383" class="idref" href="#vlsm:383"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:382"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:384" class="idref" href="#H:384"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:384" class="idref" href="#H:384"><span class="id" title="binder">message</span></a> <a id="H:384" class="idref" href="#H:384"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="seed:385" class="idref" href="#seed:385"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:382"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:386" class="idref" href="#X:386"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:383"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#seed:385"><span class="id" title="variable">seed</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:386"><span class="id" title="variable">X</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:383"><span class="id" title="variable">vlsm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a> <span class="id" title="var">vlsm</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="preloaded_HasBeenReceivedCapability" class="idref" href="#preloaded_HasBeenReceivedCapability"><span class="id" title="instance">preloaded_HasBeenReceivedCapability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="message:387" class="idref" href="#message:387"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:388" class="idref" href="#vlsm:388"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:387"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:389" class="idref" href="#H:389"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:389" class="idref" href="#H:389"><span class="id" title="binder">message</span></a> <a id="H:389" class="idref" href="#H:389"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="seed:390" class="idref" href="#seed:390"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:387"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:388"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#seed:390"><span class="id" title="variable">seed</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_dec"><span class="id" title="method">has_been_received_dec</span></a> <span class="id" title="var">vlsm</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_has_been_received_stepwise_props"><span class="id" title="lemma">preloaded_has_been_received_stepwise_props</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_step_update" class="idref" href="#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">message</span></a> <a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l:394" class="idref" href="#l:394"><span class="id" title="binder">l</span></a> <a id="s:395" class="idref" href="#s:395"><span class="id" title="binder">s</span></a> <a id="im:396" class="idref" href="#im:396"><span class="id" title="binder">im</span></a> <a id="s':397" class="idref" href="#s':397"><span class="id" title="binder">s'</span></a> <a id="om:398" class="idref" href="#om:398"><span class="id" title="binder">om</span></a>]<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:392"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:394"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:395"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:396"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':397"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#om:398"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:399" class="idref" href="#m:399"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:392"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':397"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:399"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:396"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:399"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:392"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:395"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:399"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a> <span class="id" title="var">vlsm</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_examine_one_trace" class="idref" href="#has_been_received_examine_one_trace"><span class="id" title="lemma">has_been_received_examine_one_trace</span></a><br/>
&nbsp;&nbsp;`{<a id="H:402" class="idref" href="#H:402"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:402" class="idref" href="#H:402"><span class="id" title="binder">message</span></a> <a id="H:402" class="idref" href="#H:402"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:403" class="idref" href="#is:403"><span class="id" title="binder">is</span></a> <a id="s:404" class="idref" href="#s:404"><span class="id" title="binder">s</span></a> <a id="tr:405" class="idref" href="#tr:405"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:401"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:403"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:404"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:405"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:406" class="idref" href="#m:406"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:401"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:404"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:406"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:406"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:405"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_dec"><span class="id" title="method">has_been_received_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_received"><span class="id" title="method">proper_not_received</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trace_to_initial_state_has_no_inputs" class="idref" href="#trace_to_initial_state_has_no_inputs"><span class="id" title="lemma">trace_to_initial_state_has_no_inputs</span></a><br/>
&nbsp;&nbsp;{<a id="message:407" class="idref" href="#message:407"><span class="id" title="binder">message</span></a>} <a id="vlsm:408" class="idref" href="#vlsm:408"><span class="id" title="binder">vlsm</span></a><br/>
&nbsp;&nbsp;`{<a id="H:409" class="idref" href="#H:409"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:409" class="idref" href="#H:409"><span class="id" title="binder">message</span></a> <a id="H:409" class="idref" href="#H:409"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;<a id="is:410" class="idref" href="#is:410"><span class="id" title="binder">is</span></a> <a id="s:411" class="idref" href="#s:411"><span class="id" title="binder">s</span></a> <a id="tr:412" class="idref" href="#tr:412"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;(<a id="Htr:413" class="idref" href="#Htr:413"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:408"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:410"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:411"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:412"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:414" class="idref" href="#Hs:414"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:408"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:411"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="item:415" class="idref" href="#item:415"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:415"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:412"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:415"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab125"></a><h2 class="section">A state message oracle for messages sent or received</h2>


<div class="paragraph"> </div>

  In protocols like the CBC full node protocol, validators often
  work with the set of all messages they have directly observed,
  which includes the messages the node sent itself along with
  messages that were received.
  The <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> oracle tells whether the given message was sent
  or received during any trace leading to the given state.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="HasBeenDirectlyObservedCapability" class="idref" href="#HasBeenDirectlyObservedCapability"><span class="id" title="record">HasBeenDirectlyObservedCapability</span></a> {<a id="message:416" class="idref" href="#message:416"><span class="id" title="binder">message</span></a>} (<a id="vlsm:417" class="idref" href="#vlsm:417"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:416"><span class="id" title="variable">message</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<a id="has_been_directly_observed" class="idref" href="#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:417"><span class="id" title="variable">vlsm</span></a>;<br/>
&nbsp;&nbsp;<a id="has_been_directly_observed_dec" class="idref" href="#has_been_directly_observed_dec"><span class="id" title="projection">has_been_directly_observed_dec</span></a> :&gt; <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed:419"><span class="id" title="method">has_been_directly_observed</span></a>;<br/>
&nbsp;&nbsp;<a id="has_been_directly_observed_stepwise_props" class="idref" href="#has_been_directly_observed_stepwise_props"><span class="id" title="projection">has_been_directly_observed_stepwise_props</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed:419"><span class="id" title="method">has_been_directly_observed</span></a>;<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> {<span class="id" title="var">message</span>} <span class="id" title="var">vlsm</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_dec"><span class="id" title="method">has_been_directly_observed_dec</span></a> {<span class="id" title="var">message</span>} <span class="id" title="var">vlsm</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> {<span class="id" title="var">message</span>} <span class="id" title="var">vlsm</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_directly_observed_no_inits" class="idref" href="#has_been_directly_observed_no_inits"><span class="id" title="definition">has_been_directly_observed_no_inits</span></a> `[<a id="H:424" class="idref" href="#H:424"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:424" class="idref" href="#H:424"><span class="id" title="binder">message</span></a> <a id="H:424" class="idref" href="#H:424"><span class="id" title="binder">vlsm</span></a>]<br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:423"><span class="id" title="variable">vlsm</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_directly_observed_step_update" class="idref" href="#has_been_directly_observed_step_update"><span class="id" title="definition">has_been_directly_observed_step_update</span></a> `{<a id="H:427" class="idref" href="#H:427"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:427" class="idref" href="#H:427"><span class="id" title="binder">message</span></a> <a id="H:427" class="idref" href="#H:427"><span class="id" title="binder">vlsm</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:428" class="idref" href="#l:428"><span class="id" title="binder">l</span></a> <a id="s:429" class="idref" href="#s:429"><span class="id" title="binder">s</span></a> <a id="im:430" class="idref" href="#im:430"><span class="id" title="binder">im</span></a> <a id="s':431" class="idref" href="#s':431"><span class="id" title="binder">s'</span></a> <a id="om:432" class="idref" href="#om:432"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:426"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:428"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:429"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#im:430"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':431"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#om:432"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:433" class="idref" href="#msg:433"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:426"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':431"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:433"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#im:430"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:433"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#om:432"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:433"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:426"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:429"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#msg:433"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:426"><span class="id" title="variable">vlsm</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="proper_directly_observed" class="idref" href="#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a> {<a id="message:434" class="idref" href="#message:434"><span class="id" title="binder">message</span></a>} (<a id="vlsm:435" class="idref" href="#vlsm:435"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:434"><span class="id" title="variable">message</span></a>) `{<a id="H:436" class="idref" href="#H:436"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:436" class="idref" href="#H:436"><span class="id" title="binder">message</span></a> <a id="H:436" class="idref" href="#H:436"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:437" class="idref" href="#s:437"><span class="id" title="binder">s</span></a>:<a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:435"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:437"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:438" class="idref" href="#m:438"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:435"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:435"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:437"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:438"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="proper_not_directly_observed" class="idref" href="#proper_not_directly_observed"><span class="id" title="lemma">proper_not_directly_observed</span></a> `(<a id="vlsm:440" class="idref" href="#vlsm:440"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:439" class="idref" href="#message:439"><span class="id" title="binder">message</span></a>) `{<a id="H:441" class="idref" href="#H:441"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:441" class="idref" href="#H:441"><span class="id" title="binder">message</span></a> <a id="H:441" class="idref" href="#H:441"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:442" class="idref" href="#s:442"><span class="id" title="binder">s</span></a>:<a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:440"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:442"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:443" class="idref" href="#m:443"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:440"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="s:444" class="idref" href="#s:444"><span class="id" title="binder">s</span></a> <a id="m:445" class="idref" href="#m:445"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:440"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:444"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:445"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:442"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:443"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_none_have_message_from_stepwise"><span class="id" title="lemma">prove_none_have_message_from_stepwise</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_directly_observed_examine_one_trace" class="idref" href="#has_been_directly_observed_examine_one_trace"><span class="id" title="lemma">has_been_directly_observed_examine_one_trace</span></a><br/>
&nbsp;&nbsp;{<a id="message:446" class="idref" href="#message:446"><span class="id" title="binder">message</span></a>} (<a id="vlsm:447" class="idref" href="#vlsm:447"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:446"><span class="id" title="variable">message</span></a>) `{<a id="H:448" class="idref" href="#H:448"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:448" class="idref" href="#H:448"><span class="id" title="binder">message</span></a> <a id="H:448" class="idref" href="#H:448"><span class="id" title="binder">vlsm</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:449" class="idref" href="#is:449"><span class="id" title="binder">is</span></a> <a id="s:450" class="idref" href="#s:450"><span class="id" title="binder">s</span></a> <a id="tr:451" class="idref" href="#tr:451"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:447"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:449"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:450"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:451"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:452" class="idref" href="#m:452"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:447"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:450"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:452"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:452"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:451"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#examine_one_trace"><span class="id" title="lemma">examine_one_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_dec"><span class="id" title="method">has_been_directly_observed_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_directly_observed"><span class="id" title="lemma">proper_not_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A received message introduces no additional equivocations to a state
  if it has already been observed in s.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="no_additional_equivocations" class="idref" href="#no_additional_equivocations"><span class="id" title="definition">no_additional_equivocations</span></a><br/>
&nbsp;&nbsp;{<a id="message:453" class="idref" href="#message:453"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="vlsm:454" class="idref" href="#vlsm:454"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:453"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:455" class="idref" href="#H:455"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:455" class="idref" href="#H:455"><span class="id" title="binder">message</span></a> <a id="H:455" class="idref" href="#H:455"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:456" class="idref" href="#s:456"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:457" class="idref" href="#m:457"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:453"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:454"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:456"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:457"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations"><span class="id" title="definition">no_additional_equivocations</span></a></span> is decidable. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_additional_equivocations_dec" class="idref" href="#no_additional_equivocations_dec"><span class="id" title="lemma">no_additional_equivocations_dec</span></a><br/>
&nbsp;&nbsp;{<a id="message:458" class="idref" href="#message:458"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="vlsm:459" class="idref" href="#vlsm:459"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:458"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:460" class="idref" href="#H:460"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:460" class="idref" href="#H:460"><span class="id" title="binder">message</span></a> <a id="H:460" class="idref" href="#H:460"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> (<a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations"><span class="id" title="definition">no_additional_equivocations</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:459"><span class="id" title="variable">vlsm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_dec"><span class="id" title="method">has_been_directly_observed_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_additional_equivocations_constraint" class="idref" href="#no_additional_equivocations_constraint"><span class="id" title="definition">no_additional_equivocations_constraint</span></a><br/>
&nbsp;&nbsp;{<a id="message:461" class="idref" href="#message:461"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="vlsm:462" class="idref" href="#vlsm:462"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:461"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:463" class="idref" href="#H:463"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H:463" class="idref" href="#H:463"><span class="id" title="binder">message</span></a> <a id="H:463" class="idref" href="#H:463"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="l:464" class="idref" href="#l:464"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:462"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:465" class="idref" href="#som:465"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:461"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:466" class="idref" href="#s:466"><span class="id" title="binder">s</span></a>, <a id="om:467" class="idref" href="#om:467"><span class="id" title="binder">om</span></a>) := <a class="idref" href="VLSM.Core.Equivocation.html#som:465"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> (<a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations"><span class="id" title="definition">no_additional_equivocations</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:462"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:466"><span class="id" title="variable">s</span></a>) <span class="id" title="notation">True</span> <a class="idref" href="VLSM.Core.Equivocation.html#om:467"><span class="id" title="variable">om</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sent_received_observed_capabilities" class="idref" href="#sent_received_observed_capabilities"><span class="id" title="section">sent_received_observed_capabilities</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:468" class="idref" href="#message:468"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="vlsm:469" class="idref" href="#vlsm:469"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:468"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:470" class="idref" href="#H:470"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:470" class="idref" href="#H:470"><span class="id" title="binder">message</span></a> <a id="H:470" class="idref" href="#H:470"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:471" class="idref" href="#H0:471"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:471" class="idref" href="#H0:471"><span class="id" title="binder">message</span></a> <a id="H0:471" class="idref" href="#H0:471"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_directly_observed_sent_received_iff" class="idref" href="#has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">has_been_directly_observed_sent_received_iff</span></a><br/>
&nbsp;&nbsp;`{<a id="H1:472" class="idref" href="#H1:472"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H1:472" class="idref" href="#H1:472"><span class="id" title="binder">message</span></a> <a id="H1:472" class="idref" href="#H1:472"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:473" class="idref" href="#s:473"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:474" class="idref" href="#Hs:474"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:473"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:475" class="idref" href="#m:475"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:473"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:475"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:473"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:475"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:473"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:475"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.message"><span class="id" title="variable">message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a>  <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hobs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">Hobs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hexists</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or_inv"><span class="id" title="lemma">Exists_or_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexists</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hreceived</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hreceived</span> | <span class="id" title="var">Hsent</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceived</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hreceived</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsent</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="has_been_directly_observed_from_sent_received" class="idref" href="#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a><br/>
&nbsp;&nbsp;(<a id="s:476" class="idref" href="#s:476"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:477" class="idref" href="#m:477"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:476"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:477"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:476"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:477"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_directly_observed_from_sent_received_dec" class="idref" href="#has_been_directly_observed_from_sent_received_dec"><span class="id" title="lemma">has_been_directly_observed_from_sent_received_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#Decision_or"><span class="id" title="lemma">Decision_or</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_dec"><span class="id" title="method">has_been_sent_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_dec"><span class="id" title="method">has_been_received_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_directly_observed_from_sent_received_stepwise_props" class="idref" href="#has_been_directly_observed_from_sent_received_stepwise_props"><span class="id" title="lemma">has_been_directly_observed_from_sent_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#stepwise_props_from_trace"><span class="id" title="lemma">stepwise_props_from_trace</span></a><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received_dec"><span class="id" title="lemma">has_been_directly_observed_from_sent_received_dec</span></a>|..]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hreceived</span>] <span class="id" title="var">start</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceived</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hreceived</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hexists</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or_inv"><span class="id" title="lemma">Exists_or_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hreceived</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnobs</span> <span class="id" title="var">start</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or_inv"><span class="id" title="lemma">Exists_or_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexists</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hexists</span>| <span class="id" title="var">Hexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">start</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">start</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnobs</span>  [<span class="id" title="var">Hobs</span> | <span class="id" title="var">Hobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hexists</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnobs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hexists</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hnobs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_or"><span class="id" title="lemma">Exists_or</span></a>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="HasBeenDirectlyObservedCapability_from_sent_received" class="idref" href="#HasBeenDirectlyObservedCapability_from_sent_received"><span class="id" title="instance">HasBeenDirectlyObservedCapability_from_sent_received</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;{ <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_dec"><span class="id" title="method">has_been_directly_observed_dec</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received_dec"><span class="id" title="lemma">has_been_directly_observed_from_sent_received_dec</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received_stepwise_props"><span class="id" title="lemma">has_been_directly_observed_from_sent_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_directly_observed_consistency" class="idref" href="#has_been_directly_observed_consistency"><span class="id" title="lemma">has_been_directly_observed_consistency</span></a><br/>
&nbsp;&nbsp;`{<a id="H1:478" class="idref" href="#H1:478"><span class="id" title="binder">HasBeenDirectlyObservedCapability</span></a> <a id="H1:478" class="idref" href="#H1:478"><span class="id" title="binder">message</span></a> <a id="H1:478" class="idref" href="#H1:478"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:479" class="idref" href="#s:479"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:480" class="idref" href="#Hs:480"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:479"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:481" class="idref" href="#m:481"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:479"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:481"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities.vlsm"><span class="id" title="variable">vlsm</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_not_directly_observed"><span class="id" title="lemma">proper_not_directly_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hmsg</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#consistency_from_valid_state_proj2"><span class="id" title="lemma">consistency_from_valid_state_proj2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_received_observed_capabilities"><span class="id" title="section">sent_received_observed_capabilities</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="computable_messages_oracle" class="idref" href="#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a><br/>
&nbsp;&nbsp;`(<a id="vlsm:483" class="idref" href="#vlsm:483"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:482" class="idref" href="#message:482"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="oracle_set:484" class="idref" href="#oracle_set:484"><span class="id" title="binder">oracle_set</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:483"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:482"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="message_selector:485" class="idref" href="#message_selector:485"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:482"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message_selector:485"><span class="id" title="variable">message_selector</span></a> (<span class="id" title="keyword">fun</span> <a id="s:486" class="idref" href="#s:486"><span class="id" title="binder">s</span></a> <a id="m:487" class="idref" href="#m:487"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#m:487"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_set:484"><span class="id" title="variable">oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:486"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="ComputableSentMessages" class="idref" href="#ComputableSentMessages"><span class="id" title="record">ComputableSentMessages</span></a> `(<a id="vlsm:489" class="idref" href="#vlsm:489"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:488" class="idref" href="#message:488"><span class="id" title="binder">message</span></a>) :=<br/>
{<br/>
&nbsp;&nbsp;<a id="sent_messages_set" class="idref" href="#sent_messages_set"><span class="id" title="projection">sent_messages_set</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:489"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:488"><span class="id" title="variable">message</span></a>;<br/>
&nbsp;&nbsp;<a id="csm_computable_oracle" class="idref" href="#csm_computable_oracle"><span class="id" title="projection">csm_computable_oracle</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:489"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set:491"><span class="id" title="method">sent_messages_set</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="class">ComputableSentMessages</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="ComputableReceivedMessages" class="idref" href="#ComputableReceivedMessages"><span class="id" title="record">ComputableReceivedMessages</span></a> `(<a id="vlsm:494" class="idref" href="#vlsm:494"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:493" class="idref" href="#message:493"><span class="id" title="binder">message</span></a>) :=<br/>
{<br/>
&nbsp;&nbsp;<a id="received_messages_set" class="idref" href="#received_messages_set"><span class="id" title="projection">received_messages_set</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:494"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:493"><span class="id" title="variable">message</span></a>;<br/>
&nbsp;&nbsp;<a id="crm_computable_oracle" class="idref" href="#crm_computable_oracle"><span class="id" title="projection">crm_computable_oracle</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#vlsm:494"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#received_messages_set:496"><span class="id" title="method">received_messages_set</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.Equivocation.html#ComputableReceivedMessages"><span class="id" title="class">ComputableReceivedMessages</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab126"></a><h2 class="section">Properties of Computable Message Oracles</h2>


<div class="paragraph"> </div>

  In this section we prove several generic results about <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a></span>s,
  derive <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a></span> from
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="record">ComputableSentMessages</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableReceivedMessages"><span class="id" title="record">ComputableReceivedMessages</span></a></span> and some basic results
  about computable (directly) observed messages.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_computable_sent_received_observed" class="idref" href="#sec_computable_sent_received_observed"><span class="id" title="section">sec_computable_sent_received_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="vlsm:499" class="idref" href="#vlsm:499"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:498" class="idref" href="#message:498"><span class="id" title="binder">message</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="computable_messages_oracle_initial_state_empty" class="idref" href="#computable_messages_oracle_initial_state_empty"><span class="id" title="lemma">computable_messages_oracle_initial_state_empty</span></a><br/>
&nbsp;&nbsp;`(<a id="Hrm:502" class="idref" href="#Hrm:502"><span class="id" title="binder">Hrm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a id="oracle_set:500" class="idref" href="#oracle_set:500"><span class="id" title="binder">oracle_set</span></a> <a id="message_selector:501" class="idref" href="#message_selector:501"><span class="id" title="binder">message_selector</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:503" class="idref" href="#s:503"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:504" class="idref" href="#Hs:504"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:503"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_set:500"><span class="id" title="variable">oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:503"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_nil_inv</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrm</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="computable_messages_oracle_rel" class="idref" href="#computable_messages_oracle_rel"><span class="id" title="definition">computable_messages_oracle_rel</span></a><br/>
&nbsp;&nbsp;`(<a id="Hrm:507" class="idref" href="#Hrm:507"><span class="id" title="binder">Hrm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a id="oracle_set:505" class="idref" href="#oracle_set:505"><span class="id" title="binder">oracle_set</span></a> <a id="message_selector:506" class="idref" href="#message_selector:506"><span class="id" title="binder">message_selector</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:508" class="idref" href="#s:508"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:509" class="idref" href="#m:509"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:509"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_set:505"><span class="id" title="variable">oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:508"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="computable_messages_oracle_rel_dec" class="idref" href="#computable_messages_oracle_rel_dec"><span class="id" title="definition">computable_messages_oracle_rel_dec</span></a><br/>
&nbsp;&nbsp;`(<a id="Hrm:512" class="idref" href="#Hrm:512"><span class="id" title="binder">Hrm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a id="oracle_set:510" class="idref" href="#oracle_set:510"><span class="id" title="binder">oracle_set</span></a> <a id="message_selector:511" class="idref" href="#message_selector:511"><span class="id" title="binder">message_selector</span></a>)<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:513" class="idref" href="#EqDecision0:513"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:513" class="idref" href="#EqDecision0:513"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> (<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_rel"><span class="id" title="definition">computable_messages_oracle_rel</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Hrm:512"><span class="id" title="variable">Hrm</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:514" class="idref" href="#s:514"><span class="id" title="binder">s</span></a> <a id="m:515" class="idref" href="#m:515"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="definition">decide_rel</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_set:510"><span class="id" title="variable">oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:514"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ComputableSentMessages_initial_state_empty" class="idref" href="#ComputableSentMessages_initial_state_empty"><span class="id" title="lemma">ComputableSentMessages_initial_state_empty</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:516" class="idref" href="#ComputableSentMessages0:516"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:516" class="idref" href="#ComputableSentMessages0:516"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:516" class="idref" href="#ComputableSentMessages0:516"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:517" class="idref" href="#s:517"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state"><span class="id" title="definition">vinitial_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="method">sent_messages_set</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:517"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_initial_state_empty"><span class="id" title="lemma">computable_messages_oracle_initial_state_empty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#csm_computable_oracle"><span class="id" title="method">csm_computable_oracle</span></a> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ComputableSentMessages_has_been_sent" class="idref" href="#ComputableSentMessages_has_been_sent"><span class="id" title="definition">ComputableSentMessages_has_been_sent</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:518" class="idref" href="#ComputableSentMessages0:518"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:518" class="idref" href="#ComputableSentMessages0:518"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:518" class="idref" href="#ComputableSentMessages0:518"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_rel"><span class="id" title="definition">computable_messages_oracle_rel</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#csm_computable_oracle"><span class="id" title="method">csm_computable_oracle</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="computable_sent_message_has_been_sent_dec" class="idref" href="#computable_sent_message_has_been_sent_dec"><span class="id" title="instance">computable_sent_message_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:519" class="idref" href="#ComputableSentMessages0:519"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:519" class="idref" href="#ComputableSentMessages0:519"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:519" class="idref" href="#ComputableSentMessages0:519"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:520" class="idref" href="#EqDecision0:520"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:520" class="idref" href="#EqDecision0:520"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages_has_been_sent"><span class="id" title="definition">ComputableSentMessages_has_been_sent</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_rel_dec"><span class="id" title="definition">computable_messages_oracle_rel_dec</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#csm_computable_oracle"><span class="id" title="method">csm_computable_oracle</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ComputableSentMessages_HasBeenSentCapability" class="idref" href="#ComputableSentMessages_HasBeenSentCapability"><span class="id" title="instance">ComputableSentMessages_HasBeenSentCapability</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:521" class="idref" href="#ComputableSentMessages0:521"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:521" class="idref" href="#ComputableSentMessages0:521"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:521" class="idref" href="#ComputableSentMessages0:521"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:522" class="idref" href="#EqDecision0:522"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:522" class="idref" href="#EqDecision0:522"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#csm_computable_oracle"><span class="id" title="method">csm_computable_oracle</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_sent_messages_set" class="idref" href="#elem_of_sent_messages_set"><span class="id" title="lemma">elem_of_sent_messages_set</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:523" class="idref" href="#ComputableSentMessages0:523"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:523" class="idref" href="#ComputableSentMessages0:523"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:523" class="idref" href="#ComputableSentMessages0:523"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:524" class="idref" href="#EqDecision0:524"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:524" class="idref" href="#EqDecision0:524"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:525" class="idref" href="#s:525"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a id="m:526" class="idref" href="#m:526"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:526"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="method">sent_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:525"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:525"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:526"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ComputableReceivedMessages_initial_state_empty" class="idref" href="#ComputableReceivedMessages_initial_state_empty"><span class="id" title="lemma">ComputableReceivedMessages_initial_state_empty</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:527" class="idref" href="#ComputableReceivedMessages0:527"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:527" class="idref" href="#ComputableReceivedMessages0:527"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:527" class="idref" href="#ComputableReceivedMessages0:527"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:528" class="idref" href="#s:528"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vinitial_state"><span class="id" title="definition">vinitial_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#received_messages_set"><span class="id" title="method">received_messages_set</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:528"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_initial_state_empty"><span class="id" title="lemma">computable_messages_oracle_initial_state_empty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#crm_computable_oracle"><span class="id" title="method">crm_computable_oracle</span></a> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ComputableReceivedMessages_has_been_sent" class="idref" href="#ComputableReceivedMessages_has_been_sent"><span class="id" title="definition">ComputableReceivedMessages_has_been_sent</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:529" class="idref" href="#ComputableReceivedMessages0:529"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:529" class="idref" href="#ComputableReceivedMessages0:529"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:529" class="idref" href="#ComputableReceivedMessages0:529"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_rel"><span class="id" title="definition">computable_messages_oracle_rel</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#crm_computable_oracle"><span class="id" title="method">crm_computable_oracle</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="computable_received_message_has_been_sent_dec" class="idref" href="#computable_received_message_has_been_sent_dec"><span class="id" title="instance">computable_received_message_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:530" class="idref" href="#ComputableReceivedMessages0:530"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:530" class="idref" href="#ComputableReceivedMessages0:530"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:530" class="idref" href="#ComputableReceivedMessages0:530"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:531" class="idref" href="#EqDecision0:531"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:531" class="idref" href="#EqDecision0:531"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#ComputableReceivedMessages_has_been_sent"><span class="id" title="definition">ComputableReceivedMessages_has_been_sent</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle_rel_dec"><span class="id" title="definition">computable_messages_oracle_rel_dec</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#crm_computable_oracle"><span class="id" title="method">crm_computable_oracle</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ComputableReceivedMessages_HasBeenReceivedCapability" class="idref" href="#ComputableReceivedMessages_HasBeenReceivedCapability"><span class="id" title="instance">ComputableReceivedMessages_HasBeenReceivedCapability</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:532" class="idref" href="#ComputableReceivedMessages0:532"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:532" class="idref" href="#ComputableReceivedMessages0:532"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:532" class="idref" href="#ComputableReceivedMessages0:532"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:533" class="idref" href="#EqDecision0:533"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:533" class="idref" href="#EqDecision0:533"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#crm_computable_oracle"><span class="id" title="method">crm_computable_oracle</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_messages_set_iff" class="idref" href="#has_been_received_messages_set_iff"><span class="id" title="lemma">has_been_received_messages_set_iff</span></a><br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:534" class="idref" href="#ComputableReceivedMessages0:534"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:534" class="idref" href="#ComputableReceivedMessages0:534"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:534" class="idref" href="#ComputableReceivedMessages0:534"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:535" class="idref" href="#EqDecision0:535"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:535" class="idref" href="#EqDecision0:535"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:536" class="idref" href="#s:536"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a id="m:537" class="idref" href="#m:537"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:537"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#received_messages_set"><span class="id" title="method">received_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:536"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:536"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:537"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab127"></a><h3 class="section">Computable (Directly) Observed Messages</h3>


<div class="paragraph"> </div>

  We here derive <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_messages_set"><span class="id" title="definition">directly_observed_messages_set</span></a></span> from <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableSentMessages"><span class="id" title="record">ComputableSentMessages</span></a></span>
  and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#ComputableReceivedMessages"><span class="id" title="record">ComputableReceivedMessages</span></a></span> and relate it to the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span>
  predicate.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_computable_sent_received_observed.sec_computable_observed" class="idref" href="#sec_computable_sent_received_observed.sec_computable_observed"><span class="id" title="section">sec_computable_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:538" class="idref" href="#EqDecision0:538"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:538" class="idref" href="#EqDecision0:538"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="ComputableSentMessages0:539" class="idref" href="#ComputableSentMessages0:539"><span class="id" title="binder">!</span></a><a id="ComputableSentMessages0:539" class="idref" href="#ComputableSentMessages0:539"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="ComputableSentMessages0:539" class="idref" href="#ComputableSentMessages0:539"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;`{<a id="ComputableReceivedMessages0:540" class="idref" href="#ComputableReceivedMessages0:540"><span class="id" title="binder">!</span></a><a id="ComputableReceivedMessages0:540" class="idref" href="#ComputableReceivedMessages0:540"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="ComputableReceivedMessages0:540" class="idref" href="#ComputableReceivedMessages0:540"><span class="id" title="binder">vlsm</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="directly_observed_messages_set" class="idref" href="#directly_observed_messages_set"><span class="id" title="definition">directly_observed_messages_set</span></a> (<a id="s:541" class="idref" href="#s:541"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="method">sent_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:541"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#received_messages_set"><span class="id" title="method">received_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:541"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="directly_observed_messages_set_iff" class="idref" href="#directly_observed_messages_set_iff"><span class="id" title="lemma">directly_observed_messages_set_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:542" class="idref" href="#s:542"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:542"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:543" class="idref" href="#m:543"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:543"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_messages_set"><span class="id" title="definition">directly_observed_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:542"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:542"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:543"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_app</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_messages_set_iff"><span class="id" title="lemma">has_been_received_messages_set_iff</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_sent_messages_set"><span class="id" title="lemma">elem_of_sent_messages_set</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="com_computable_oracle" class="idref" href="#com_computable_oracle"><span class="id" title="lemma">com_computable_oracle</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_messages_set"><span class="id" title="definition">directly_observed_messages_set</span></a> <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_messages_set_iff"><span class="id" title="lemma">directly_observed_messages_set_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_messages_set_iff"><span class="id" title="lemma">directly_observed_messages_set_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_origin"><span class="id" title="lemma">input_valid_transition_origin</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed.sec_computable_observed"><span class="id" title="section">sec_computable_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_computable_sent_received_observed"><span class="id" title="section">sec_computable_sent_received_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sent_can_emit" class="idref" href="#sent_can_emit"><span class="id" title="lemma">sent_can_emit</span></a><br/>
&nbsp;&nbsp;[<a id="message:544" class="idref" href="#message:544"><span class="id" title="binder">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="X:545" class="idref" href="#X:545"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:544"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:546" class="idref" href="#H:546"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:546" class="idref" href="#H:546"><span class="id" title="binder">message</span></a> <a id="H:546" class="idref" href="#H:546"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:547" class="idref" href="#s:547"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:548" class="idref" href="#Hs:548"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:545"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:547"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:549" class="idref" href="#m:549"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:544"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:550" class="idref" href="#Hsent:550"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:545"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:547"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:549"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:545"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:549"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre_tr</span>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_examine_one_trace"><span class="id" title="lemma">has_been_sent_examine_one_trace</span></a>, <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">item_z</span> &amp; <span class="id" title="var">Hitem_z</span> &amp; <span class="id" title="var">Hz</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem_z</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">pre_z</span> &amp; <span class="id" title="var">suf_z</span> &amp; -&gt;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_to"><span class="id" title="lemma">input_valid_transition_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hz</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_sent_can_emit" class="idref" href="#preloaded_sent_can_emit"><span class="id" title="lemma">preloaded_sent_can_emit</span></a><br/>
&nbsp;&nbsp;[<a id="message:551" class="idref" href="#message:551"><span class="id" title="binder">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="X:552" class="idref" href="#X:552"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:551"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:553" class="idref" href="#H:553"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:553" class="idref" href="#H:553"><span class="id" title="binder">message</span></a> <a id="H:553" class="idref" href="#H:553"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:554" class="idref" href="#s:554"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:555" class="idref" href="#Hs:555"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:552"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:554"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:556" class="idref" href="#m:556"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:551"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:557" class="idref" href="#Hsent:557"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:552"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:554"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:556"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:552"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:556"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Heq</span> := <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_can_emit"><span class="id" title="lemma">VLSM_eq_can_emit</span></a> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_can_emit"><span class="id" title="lemma">sent_can_emit</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_valid_state"><span class="id" title="lemma">VLSM_eq_valid_state</span></a> <span class="id" title="var">Heq</span>) |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sent_valid" class="idref" href="#sent_valid"><span class="id" title="lemma">sent_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:558" class="idref" href="#message:558"><span class="id" title="binder">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:559" class="idref" href="#X:559"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:558"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:560" class="idref" href="#H:560"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:560" class="idref" href="#H:560"><span class="id" title="binder">message</span></a> <a id="H:560" class="idref" href="#H:560"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:561" class="idref" href="#s:561"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:562" class="idref" href="#Hs:562"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:559"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:561"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:563" class="idref" href="#m:563"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:558"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsent:564" class="idref" href="#Hsent:564"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:559"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:561"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:563"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:559"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:563"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_can_emit"><span class="id" title="lemma">sent_can_emit</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="received_valid" class="idref" href="#received_valid"><span class="id" title="lemma">received_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:565" class="idref" href="#message:565"><span class="id" title="binder">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:566" class="idref" href="#X:566"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:565"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">message</span></a> <a id="H:567" class="idref" href="#H:567"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:568" class="idref" href="#s:568"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:569" class="idref" href="#Hs:569"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:566"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:568"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:570" class="idref" href="#m:570"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:565"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hreceived:571" class="idref" href="#Hreceived:571"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:566"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:568"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:570"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:566"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:570"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">Hreceived</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_in"><span class="id" title="lemma">input_valid_transition_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#preloaded_weaken_input_valid_transition"><span class="id" title="lemma">preloaded_weaken_input_valid_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceived</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreceived</span> <span class="id" title="keyword">as</span> [[= -&gt;] |]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="directly_observed_valid" class="idref" href="#directly_observed_valid"><span class="id" title="lemma">directly_observed_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<a id="message:572" class="idref" href="#message:572"><span class="id" title="binder">message</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:573" class="idref" href="#X:573"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:572"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:574" class="idref" href="#H:574"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:574" class="idref" href="#H:574"><span class="id" title="binder">message</span></a> <a id="H:574" class="idref" href="#H:574"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:575" class="idref" href="#H0:575"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:575" class="idref" href="#H0:575"><span class="id" title="binder">message</span></a> <a id="H0:575" class="idref" href="#H0:575"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:576" class="idref" href="#s:576"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:577" class="idref" href="#Hs:577"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:573"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:576"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:578" class="idref" href="#m:578"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:572"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hobserved:579" class="idref" href="#Hobserved:579"><span class="id" title="binder">Hobserved</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:573"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:576"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:578"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:573"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:578"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobserved</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_valid"><span class="id" title="lemma">sent_valid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#received_valid"><span class="id" title="lemma">received_valid</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab128"></a><h3 class="section">Equivocation in compositions</h3>


<div class="paragraph"> </div>

  We now move on to a composite context. Each component of our composition
  will have <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> capabilities.

<div class="paragraph"> </div>

  We introduce <span class="inlinecode"><span class="id" title="var">validator</span></span>s along with their respective <span class="inlinecode"><a class="idref" href="VLSM.Lib.Measurable.html#weight"><span class="id" title="projection">weight</span></a></span>s, the
  <span class="inlinecode"><span class="id" title="var">A</span></span> function which maps validators to indices of component VLSMs and
  the <span class="inlinecode"><span class="id" title="var">sender</span></span> function which maps messages to their (unique) designated
  sender (if any).

<div class="paragraph"> </div>

  For the equivocation fault sum to be computable, we also require that
  the number of <span class="inlinecode"><span class="id" title="var">validator</span></span>s and the number of machines in the
  composition are both finite. See <span class="inlinecode"><span class="id" title="var">finite_index</span></span>, <span class="inlinecode"><span class="id" title="var">finite_validator</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Composite" class="idref" href="#Composite"><span class="id" title="section">Composite</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:580" class="idref" href="#message:580"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:583" class="idref" href="#H:583"><span class="id" title="binder">finite.Finite</span></a> <a id="H:583" class="idref" href="#H:583"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:584" class="idref" href="#IM:584"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:581"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:580"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:585" class="idref" href="#Free:585"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:584"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">forall</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">i</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">:</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">index</span></a><a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">,</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">(</span></a><a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">(</span></a><a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">IM</span></a> <a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">i</span></a><a id="H0:587" class="idref" href="#H0:587"><span class="id" title="binder">))</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">forall</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">i</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">:</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">index</span></a><a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">,</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">(</span></a><a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">(</span></a><a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">IM</span></a> <a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">i</span></a><a id="H1:589" class="idref" href="#H1:589"><span class="id" title="binder">))</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Composite.StepwiseProps" class="idref" href="#Composite.StepwiseProps"><span class="id" title="section">StepwiseProps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;[<a id="message_selectors:591" class="idref" href="#message_selectors:591"><span class="id" title="binder">message_selectors</span></a>: <span class="id" title="notation">forall</span> <a id="i:590" class="idref" href="#i:590"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:590"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;[<a id="oracles:593" class="idref" href="#oracles:593"><span class="id" title="binder">oracles</span></a>: <span class="id" title="notation">forall</span> <a id="i:592" class="idref" href="#i:592"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:592"><span class="id" title="variable">i</span></a>)]<br/>
&nbsp;&nbsp;(<a id="stepwise_props:595" class="idref" href="#stepwise_props:595"><span class="id" title="binder">stepwise_props</span></a>: <span class="id" title="notation">forall</span> <a id="i:594" class="idref" href="#i:594"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#message_selectors:591"><span class="id" title="variable">message_selectors</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:594"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#oracles:593"><span class="id" title="variable">oracles</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:594"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_message_selector" class="idref" href="#composite_message_selector"><span class="id" title="definition">composite_message_selector</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">msg</span> [[<span class="id" title="var">i</span> <span class="id" title="var">li</span>] <span class="id" title="var">input</span> <span class="id" title="var">s</span> <span class="id" title="var">output</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.message_selectors"><span class="id" title="variable">message_selectors</span></a> <span class="id" title="var">i</span> <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> {|<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>:=<span class="id" title="var">li</span>;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>:=<span class="id" title="var">input</span>;<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a>:=<span class="id" title="var">s</span> <span class="id" title="var">i</span>;<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>:=<span class="id" title="var">output</span>|}.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_oracle" class="idref" href="#composite_oracle"><span class="id" title="definition">composite_oracle</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:596" class="idref" href="#s:596"><span class="id" title="binder">s</span></a> <a id="msg:597" class="idref" href="#msg:597"><span class="id" title="binder">msg</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:598" class="idref" href="#i:598"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.oracles"><span class="id" title="variable">oracles</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:598"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#s:596"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:598"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#msg:597"><span class="id" title="variable">msg</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_stepwise_props" class="idref" href="#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:599" class="idref" href="#constraint:599"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:600" class="idref" href="#X:600"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:599"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:600"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#composite_message_selector"><span class="id" title="definition">composite_message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_oracle"><span class="id" title="definition">composite_oracle</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;not&nbsp;claim&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span> [<span class="id" title="var">i</span> <span class="id" title="var">Horacle</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.stepwise_props"><span class="id" title="variable">stepwise_props</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;step&nbsp;update&nbsp;property&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsj</span> : <span class="id" title="notation">forall</span> <a id="j:602" class="idref" href="#j:602"><span class="id" title="binder">j</span></a><span class="id" title="notation">,</span> <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocation.html#j:601"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s'</span> <a class="idref" href="VLSM.Core.Equivocation.html#j:601"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#j:601"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_preloaded_project_any"><span class="id" title="lemma">input_valid_transition_preloaded_project_any</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">lj</span> &amp; <span class="id" title="var">Hlj</span> &amp; <span class="id" title="var">_</span>)]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_preloaded_project_active"><span class="id" title="lemma">input_valid_transition_preloaded_project_active</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.stepwise_props"><span class="id" title="variable">stepwise_props</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">msg</span>:=<span class="id" title="var">msg</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hsj</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunchanged</span>|<span class="id" title="var">Hji</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hunchanged</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hproto</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hj</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnow</span> | [<span class="id" title="var">j</span> <span class="id" title="var">Hbefore</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproto</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hsj</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunchanged</span>| -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hunchanged</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproto</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="oracle_component_selected_previously" class="idref" href="#oracle_component_selected_previously"><span class="id" title="lemma">oracle_component_selected_previously</span></a><br/>
&nbsp;&nbsp;[<a id="constraint:603" class="idref" href="#constraint:603"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;(<a id="X:604" class="idref" href="#X:604"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:603"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;[<a id="s:605" class="idref" href="#s:605"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hs:606" class="idref" href="#Hs:606"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:605"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;[<a id="i:607" class="idref" href="#i:607"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>]<br/>
&nbsp;&nbsp;[<a id="m:608" class="idref" href="#m:608"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="Horacle:609" class="idref" href="#Horacle:609"><span class="id" title="binder">Horacle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.oracles"><span class="id" title="variable">oracles</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:607"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#s:605"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:607"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:608"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s_item:610" class="idref" href="#s_item:610"><span class="id" title="binder">s_item</span></a> <a id="item:611" class="idref" href="#item:611"><span class="id" title="binder">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:604"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s_item:610"><span class="id" title="variable">s_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:611"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:604"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:611"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:605"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:611"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:607"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_message_selector"><span class="id" title="definition">composite_message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:608"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:611"><span class="id" title="variable">item</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_tr</span><br/>
&nbsp;&nbsp;; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_init_to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#prove_all_have_message_from_stepwise"><span class="id" title="lemma">prove_all_have_message_from_stepwise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Horacle</span><br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps.stepwise_props"><span class="id" title="variable">stepwise_props</span></a> |<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a>, <span class="id" title="var">Hpre_tr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Horacle</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre_tr</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Horacle</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">item</span> &amp; <span class="id" title="var">Hitem</span> &amp; <span class="id" title="var">Hout</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">itemX</span> &amp; <span class="id" title="var">HitemX</span> &amp; <span class="id" title="var">HitemX_pr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">pre</span> &amp; <span class="id" title="var">suf</span> &amp; <span class="id" title="var">Htr_pr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>), <span class="id" title="var">itemX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cons_middle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_to"><span class="id" title="lemma">input_valid_transition_to</span></a> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span><br/>
&nbsp;&nbsp;; [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Validator.html#composite_project_label"><span class="id" title="definition">composite_project_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX_pr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>; [|<span class="id" title="tactic">congruence</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX_pr</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span> <span class="id" title="var">item</span> <span class="id" title="var">tr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">itemX</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">split_and</span>!; [|<span class="id" title="tactic">exists</span> <span class="id" title="var">suf</span>|..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.StepwiseProps"><span class="id" title="section">StepwiseProps</span></a>.<br/>

<br/>
</div>

<div class="doc">
  A message <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> for a composite state if it <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
  for any of its components.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="composite_has_been_sent" class="idref" href="#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:612" class="idref" href="#s:612"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:613" class="idref" href="#m:613"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:614" class="idref" href="#i:614"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:614"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:612"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:614"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:613"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a></span> is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_sent_dec" class="idref" href="#composite_has_been_sent_dec"><span class="id" title="lemma">composite_has_been_sent_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> (<span class="id" title="var">P</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="i:616" class="idref" href="#i:616"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:615"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocation.html#i:615"><span class="id" title="variable">i</span></a>) <span class="id" title="var">m</span>) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_finite</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_sent_stepwise_props" class="idref" href="#composite_has_been_sent_stepwise_props"><span class="id" title="lemma">composite_has_been_sent_stepwise_props</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:617" class="idref" href="#constraint:617"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:618" class="idref" href="#X:618"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:617"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:618"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:620" class="idref" href="#i:620"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:619"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hinits</span> <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hstep</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="composite_HasBeenSentCapability" class="idref" href="#composite_HasBeenSentCapability"><span class="id" title="instance">composite_HasBeenSentCapability</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:621" class="idref" href="#constraint:621"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:622" class="idref" href="#X:622"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:621"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:622"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability_from_stepwise"><span class="id" title="lemma">HasBeenSentCapability_from_stepwise</span></a> (<span class="id" title="var">vlsm</span> := <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent_dec"><span class="id" title="lemma">composite_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent_stepwise_props"><span class="id" title="lemma">composite_has_been_sent_stepwise_props</span></a> <span class="id" title="var">constraint</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_proper_sent" class="idref" href="#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:623" class="idref" href="#s:623"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:624" class="idref" href="#Hs:624"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#s:623"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:625" class="idref" href="#m:625"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:623"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:625"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper_sent</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper_sent</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Composite.composite_has_been_received" class="idref" href="#Composite.composite_has_been_received"><span class="id" title="section">composite_has_been_received</span></a>.<br/>

<br/>
</div>

<div class="doc">
  A message <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> for a composite state
  if it <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> for any of its components.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="composite_has_been_received" class="idref" href="#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a><br/>
&nbsp;&nbsp;(<a id="s:626" class="idref" href="#s:626"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:627" class="idref" href="#m:627"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:628" class="idref" href="#i:628"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:628"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:626"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:628"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:627"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a></span> is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_received_dec" class="idref" href="#composite_has_been_received_dec"><span class="id" title="lemma">composite_has_been_received_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> (<span class="id" title="var">P</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="i:630" class="idref" href="#i:630"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:629"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocation.html#i:629"><span class="id" title="variable">i</span></a>) <span class="id" title="var">m</span>) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_finite</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_received_stepwise_props" class="idref" href="#composite_has_been_received_stepwise_props"><span class="id" title="lemma">composite_has_been_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:631" class="idref" href="#constraint:631"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:632" class="idref" href="#X:632"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:631"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:632"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:634" class="idref" href="#i:634"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:633"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hinits</span> <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hstep</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="composite_HasBeenReceivedCapability" class="idref" href="#composite_HasBeenReceivedCapability"><span class="id" title="instance">composite_HasBeenReceivedCapability</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:635" class="idref" href="#constraint:635"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:636" class="idref" href="#X:636"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:635"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:636"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a> (<span class="id" title="var">vlsm</span> := <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received_dec"><span class="id" title="lemma">composite_has_been_received_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received_stepwise_props"><span class="id" title="lemma">composite_has_been_received_stepwise_props</span></a> <span class="id" title="var">constraint</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="composite_HasBeenDirectlyObservedCapability" class="idref" href="#composite_HasBeenDirectlyObservedCapability"><span class="id" title="instance">composite_HasBeenDirectlyObservedCapability</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:637" class="idref" href="#constraint:637"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:638" class="idref" href="#X:638"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:637"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:638"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability_from_sent_received"><span class="id" title="instance">HasBeenDirectlyObservedCapability_from_sent_received</span></a> <span class="id" title="var">X</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_composite_has_been_received_stepwise_props" class="idref" href="#preloaded_composite_has_been_received_stepwise_props"><span class="id" title="lemma">preloaded_composite_has_been_received_stepwise_props</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:639" class="idref" href="#constraint:639"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:640" class="idref" href="#seed:640"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:641" class="idref" href="#X:641"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:639"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:640"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:641"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_props"><span class="id" title="definition">has_been_received_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:643" class="idref" href="#i:643"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:642"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hinits</span> <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hstep</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="preloaded_composite_HasBeenReceivedCapability" class="idref" href="#preloaded_composite_HasBeenReceivedCapability"><span class="id" title="definition">preloaded_composite_HasBeenReceivedCapability</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:644" class="idref" href="#constraint:644"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:645" class="idref" href="#seed:645"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:646" class="idref" href="#X:646"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:644"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:645"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:646"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability_from_stepwise"><span class="id" title="lemma">HasBeenReceivedCapability_from_stepwise</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:646"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received_dec"><span class="id" title="lemma">composite_has_been_received_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#preloaded_composite_has_been_received_stepwise_props"><span class="id" title="lemma">preloaded_composite_has_been_received_stepwise_props</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:644"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#seed:645"><span class="id" title="variable">seed</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.composite_has_been_received"><span class="id" title="section">composite_has_been_received</span></a>.<br/>

<br/>
</div>

<div class="doc">
  A message <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> in a composite state if it
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> in any of its components.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="composite_has_been_directly_observed" class="idref" href="#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a><br/>
&nbsp;&nbsp;(<a id="s:647" class="idref" href="#s:647"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:648" class="idref" href="#m:648"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:649" class="idref" href="#i:649"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:649"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:647"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:649"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:648"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a></span> is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_dec" class="idref" href="#composite_has_been_directly_observed_dec"><span class="id" title="lemma">composite_has_been_directly_observed_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> (<span class="id" title="var">P</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="i:651" class="idref" href="#i:651"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:650"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocation.html#i:650"><span class="id" title="variable">i</span></a>) <span class="id" title="var">m</span>) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_finite</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_stepwise_props" class="idref" href="#composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">composite_has_been_directly_observed_stepwise_props</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:652" class="idref" href="#constraint:652"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:653" class="idref" href="#X:653"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:652"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Equivocation.html#X:653"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.VLSM.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:655" class="idref" href="#i:655"><span class="id" title="binder">i</span></a> =&gt; (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:654"><span class="id" title="variable">i</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hinits</span> <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hstep</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_HasBeenDirectlyObservedCapability_from_stepwise" class="idref" href="#composite_HasBeenDirectlyObservedCapability_from_stepwise"><span class="id" title="definition">composite_HasBeenDirectlyObservedCapability_from_stepwise</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:656" class="idref" href="#constraint:656"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:657" class="idref" href="#X:657"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:656"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:657"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_dec"><span class="id" title="lemma">composite_has_been_directly_observed_dec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">composite_has_been_directly_observed_stepwise_props</span></a> <span class="id" title="var">constraint</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="validator:658" class="idref" href="#validator:658"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:659" class="idref" href="#A:659"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#validator:658"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sender:660" class="idref" href="#sender:660"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#validator:658"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="node_signed_message" class="idref" href="#node_signed_message"><span class="id" title="definition">node_signed_message</span></a> (<a id="node_idx:661" class="idref" href="#node_idx:661"><span class="id" title="binder">node_idx</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>) (<a id="m:662" class="idref" href="#m:662"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:662"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#node_idx:661"><span class="id" title="variable">node_idx</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Definitions for safety and nontriviality of the <span class="inlinecode"><span class="id" title="var">sender</span></span> function.
  Safety means that if we designate a validator as the sender
  of a certain message, then it is impossible for other components
  to produce that message

<div class="paragraph"> </div>

  Weak/strong nontriviality say that each validator should
  be designated sender for at least one/all its valid
  messages.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="sender_safety_prop" class="idref" href="#sender_safety_prop"><span class="id" title="definition">sender_safety_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="m:663" class="idref" href="#m:663"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:664" class="idref" href="#v:664"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender:665" class="idref" href="#Hsender:665"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:663"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:664"><span class="id" title="variable">v</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="j:666" class="idref" href="#j:666"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:667" class="idref" href="#Hdif:667"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#j:666"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:664"><span class="id" title="variable">v</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#j:666"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#m:663"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
   An alternative, possibly friendlier, formulation. Note that it is
   slightly weaker, in that it does not require that the sender
   is able to send the message. 
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="sender_safety_alt_prop" class="idref" href="#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="m:668" class="idref" href="#m:668"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:669" class="idref" href="#v:669"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender:670" class="idref" href="#Hsender:670"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:668"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:669"><span class="id" title="variable">v</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:671" class="idref" href="#i:671"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:671"><span class="id" title="variable">i</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#m:668"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:669"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:671"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sender_safety_alt_iff" class="idref" href="#sender_safety_alt_iff"><span class="id" title="lemma">sender_safety_alt_iff</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_prop"><span class="id" title="definition">sender_safety_prop</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsender_safety</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsender_safety</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>)); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsender_safety</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hemit</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">Hdif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsender_safety</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">_</span> <span class="id" title="var">Hemit</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="channel_authenticated_message" class="idref" href="#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> (<a id="node_idx:672" class="idref" href="#node_idx:672"><span class="id" title="binder">node_idx</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>) (<a id="m:673" class="idref" href="#m:673"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:673"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#node_idx:672"><span class="id" title="variable">node_idx</span></a>.<br/>

<br/>
</div>

<div class="doc">
  The <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a></span>erty requires that any sent message must
  be originating with its <code>sender</code>.
  Note that we don't require that <code>sender</code> is total, but rather that it is
  defined for all messages which can be emitted.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="channel_authentication_prop" class="idref" href="#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:674" class="idref" href="#i:674"><span class="id" title="binder">i</span></a> <a id="m:675" class="idref" href="#m:675"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:674"><span class="id" title="variable">i</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#m:675"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:674"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:675"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
Channel authentication guarantees sender safety 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="channel_authentication_sender_safety" class="idref" href="#channel_authentication_sender_safety"><span class="id" title="lemma">channel_authentication_sender_safety</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigned</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">i</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsigned</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sender_nontriviality_prop" class="idref" href="#sender_nontriviality_prop"><span class="id" title="definition">sender_nontriviality_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="v:676" class="idref" href="#v:676"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:677" class="idref" href="#m:677"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:676"><span class="id" title="variable">v</span></a>))) <a class="idref" href="VLSM.Core.Equivocation.html#m:677"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:677"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:676"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_initial_messages_in_IM_prop" class="idref" href="#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:678" class="idref" href="#i:678"><span class="id" title="binder">i</span></a> <a id="m:679" class="idref" href="#m:679"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.VLSM.html#vinitial_message_prop"><span class="id" title="definition">vinitial_message_prop</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:678"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:679"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_no_initial_valid_messages_emitted_by_sender" class="idref" href="#composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_emitted_by_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="can_emit_signed:680" class="idref" href="#can_emit_signed:680"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:681" class="idref" href="#no_initial_messages_in_IM:681"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:682" class="idref" href="#constraint:682"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:683" class="idref" href="#X:683"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:682"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:684" class="idref" href="#m:684"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:683"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:684"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:685" class="idref" href="#v:685"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:684"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:685"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:685"><span class="id" title="variable">v</span></a>))) <a class="idref" href="VLSM.Core.Equivocation.html#m:684"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">mi</span> <span class="id" title="var">Hmi</span>] <span class="id" title="var">_</span>]] | [(<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) [(<span class="id" title="var">i</span>, <span class="id" title="var">l</span>) [<span class="id" title="var">s'</span> <span class="id" title="var">Ht</span>]]]]<br/>
  ; [<span class="id" title="var">contradict</span> <span class="id" title="var">Hmi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_IM</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#pre_loaded_with_all_messages_projection_input_valid_transition_eq"><span class="id" title="lemma">pre_loaded_with_all_messages_projection_input_valid_transition_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">can_emit_signed</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">can_emit_signed</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">can_emit_signed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsender</span>; [|<span class="id" title="tactic">inversion</span> <span class="id" title="var">can_emit_signed</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">can_emit_signed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_no_initial_valid_messages_have_sender" class="idref" href="#composite_no_initial_valid_messages_have_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_have_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="can_emit_signed:686" class="idref" href="#can_emit_signed:686"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:687" class="idref" href="#no_initial_messages_in_IM:687"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:688" class="idref" href="#constraint:688"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:689" class="idref" href="#X:689"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:688"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:690" class="idref" href="#m:690"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>) (<a id="Hm:691" class="idref" href="#Hm:691"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:689"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:690"><span class="id" title="variable">m</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:690"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:693" class="idref" href="#v:693"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:692"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:692"><span class="id" title="variable">v</span></a>))) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">v</span> &amp; -&gt; &amp; <span class="id" title="var">_</span>); <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_emitted_by_sender</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_emitted_by_validator_have_sender" class="idref" href="#composite_emitted_by_validator_have_sender"><span class="id" title="lemma">composite_emitted_by_validator_have_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="can_emit_signed:694" class="idref" href="#can_emit_signed:694"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A_inj:697" class="idref" href="#A_inj:697"><span class="id" title="binder">A_inj</span></a> : <span class="id" title="notation">forall</span> <a id="v1:695" class="idref" href="#v1:695"><span class="id" title="binder">v1</span></a> <a id="v2:696" class="idref" href="#v2:696"><span class="id" title="binder">v2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v1:695"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v2:696"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v1:695"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v2:696"><span class="id" title="variable">v2</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:698" class="idref" href="#s:698"><span class="id" title="binder">s</span></a> <a id="item:699" class="idref" href="#item:699"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#s:698"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:699"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="v:700" class="idref" href="#v:700"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:700"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:699"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:701" class="idref" href="#m:701"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:699"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:701"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:701"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:700"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">item</span> <span class="id" title="var">Ht</span> <span class="id" title="var">v</span> <span class="id" title="var">HAv</span> <span class="id" title="var">m</span> <span class="id" title="var">Houtput</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v'</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hvv'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span>, <span class="id" title="var">A_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvv'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_preloaded_project_active"><span class="id" title="lemma">input_valid_transition_preloaded_project_active</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Houtput</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">can_emit_signed</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HAv</span>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_iff_by_sender" class="idref" href="#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsender_safety:702" class="idref" href="#Hsender_safety:702"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="is:703" class="idref" href="#is:703"><span class="id" title="binder">is</span></a> <a id="s:704" class="idref" href="#s:704"><span class="id" title="binder">s</span></a> <a id="tr:705" class="idref" href="#tr:705"><span class="id" title="binder">tr</span></a>] (<a id="Htr:706" class="idref" href="#Htr:706"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#is:703"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:704"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:705"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="m:707" class="idref" href="#m:707"><span class="id" title="binder">m</span></a> <a id="v:708" class="idref" href="#v:708"><span class="id" title="binder">v</span></a>] (<a id="Hsender:709" class="idref" href="#Hsender:709"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:707"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:708"><span class="id" title="variable">v</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:704"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:707"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:708"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="VLSM.Core.Equivocation.html#s:704"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:708"><span class="id" title="variable">v</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#m:707"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>)].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">Hsender_safety</span>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr_pr</span> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_trace_project"><span class="id" title="definition">VLSM_projection_finite_trace_project</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_from_valid_trace"><span class="id" title="lemma">can_emit_from_valid_trace</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [| <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr_pr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_additional_equivocations_constraint_dec" class="idref" href="#no_additional_equivocations_constraint_dec"><span class="id" title="lemma">no_additional_equivocations_constraint_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> (<a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations_constraint"><span class="id" title="definition">no_additional_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.Free"><span class="id" title="variable">Free</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations_dec"><span class="id" title="lemma">no_additional_equivocations_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
   We say that a validator &lt;v&gt; (with associated component &lt;i&gt;) is equivocating wrt.
   to another component &lt;j&gt;, if there exists a message which <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> by
   &lt;j&gt; but <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="projection">has_not_been_sent</span></a></span> by &lt;i&gt; 
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="equivocating_wrt" class="idref" href="#equivocating_wrt"><span class="id" title="definition">equivocating_wrt</span></a><br/>
&nbsp;&nbsp;(<a id="v:710" class="idref" href="#v:710"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:711" class="idref" href="#j:711"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sv:712" class="idref" href="#sv:712"><span class="id" title="binder">sv</span></a> <a id="sj:713" class="idref" href="#sj:713"><span class="id" title="binder">sj</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:714" class="idref" href="#i:714"><span class="id" title="binder">i</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:710"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:715" class="idref" href="#m:715"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a>(<a class="idref" href="VLSM.Core.Equivocation.html#m:715"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:710"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a>  (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:714"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#sv:712"><span class="id" title="variable">sv</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:715"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a>  (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#j:711"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#sj:713"><span class="id" title="variable">sj</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:715"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can now decide whether a validator is equivocating in a certain state. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_equivocating_statewise" class="idref" href="#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a><br/>
&nbsp;&nbsp;(<a id="s:716" class="idref" href="#s:716"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:717" class="idref" href="#v:717"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:718" class="idref" href="#j:718"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocating_wrt"><span class="id" title="definition">equivocating_wrt</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:717"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#j:718"><span class="id" title="variable">j</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#s:716"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:717"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="VLSM.Core.Equivocation.html#s:716"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#j:718"><span class="id" title="variable">j</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="initial_state_is_not_equivocating_statewise" class="idref" href="#initial_state_is_not_equivocating_statewise"><span class="id" title="lemma">initial_state_is_not_equivocating_statewise</span></a><br/>
&nbsp;&nbsp;(<a id="s:719" class="idref" href="#s:719"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:720" class="idref" href="#Hs:720"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:719"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:721" class="idref" href="#v:721"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:719"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#v:721"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_wrt"><span class="id" title="definition">equivocating_wrt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hsender</span> [<span class="id" title="var">Hnbs</span> <span class="id" title="var">Hrcv</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hrcv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:723" class="idref" href="#H2:723"><span class="id" title="binder">finite.Finite</span></a> <a id="H2:723" class="idref" href="#H2:723"><span class="id" title="binder">validator</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="measurable_V:724" class="idref" href="#measurable_V:724"><span class="id" title="binder">measurable_V</span></a> : <a class="idref" href="VLSM.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="threshold_V:725" class="idref" href="#threshold_V:725"><span class="id" title="binder">threshold_V</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#ReachableThreshold"><span class="id" title="class">ReachableThreshold</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H10:735" class="idref" href="#H10:735"><span class="id" title="binder">FinSet</span></a> <a id="H10:735" class="idref" href="#H10:735"><span class="id" title="binder">validator</span></a> <a id="H10:735" class="idref" href="#H10:735"><span class="id" title="binder">Cm</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  For the equivocation sum fault to be computable, we require that
  our is_equivocating property is decidable. The current implementation
  refers to <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a></span>, but this might change
  in the future.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="equivocation_dec_statewise" class="idref" href="#equivocation_dec_statewise"><span class="id" title="definition">equivocation_dec_statewise</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a id="Hdec:736" class="idref" href="#Hdec:736"><span class="id" title="binder">Hdec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.Cm"><span class="id" title="variable">Cm</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="definition">list_to_set</span> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_dec"><span class="id" title="method">is_equivocating_dec</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#Hdec:736"><span class="id" title="variable">Hdec</span></a><br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="equivocation_fault_constraint" class="idref" href="#equivocation_fault_constraint"><span class="id" title="definition">equivocation_fault_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="Dec:737" class="idref" href="#Dec:737"><span class="id" title="binder">Dec</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.Cm"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;(<a id="l:738" class="idref" href="#l:738"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:739" class="idref" href="#som:739"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s':740" class="idref" href="#s':740"><span class="id" title="binder">s'</span></a>, <a id="om':741" class="idref" href="#om':741"><span class="id" title="binder">om'</span></a>) := (<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#l:738"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#som:739"><span class="id" title="variable">som</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':740"><span class="id" title="variable">s'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sent_component_sent_previously" class="idref" href="#sent_component_sent_previously"><span class="id" title="lemma">sent_component_sent_previously</span></a><br/>
&nbsp;&nbsp;[<a id="constraint:742" class="idref" href="#constraint:742"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;(<a id="X:743" class="idref" href="#X:743"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:742"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;[<a id="s:744" class="idref" href="#s:744"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hs:745" class="idref" href="#Hs:745"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:743"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:744"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;[<a id="i:746" class="idref" href="#i:746"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>]<br/>
&nbsp;&nbsp;[<a id="m:747" class="idref" href="#m:747"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="Horacle:748" class="idref" href="#Horacle:748"><span class="id" title="binder">Horacle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:746"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:744"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:746"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:747"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s_item:749" class="idref" href="#s_item:749"><span class="id" title="binder">s_item</span></a> <a id="item:750" class="idref" href="#item:750"><span class="id" title="binder">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:743"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s_item:749"><span class="id" title="variable">s_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:750"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:743"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:750"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:744"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:750"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:746"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:750"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:747"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hs</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#oracle_component_selected_previously"><span class="id" title="lemma">oracle_component_selected_previously</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:752" class="idref" href="#i:752"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_from_trace"><span class="id" title="lemma">has_been_sent_stepwise_from_trace</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:751"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hs</span> <span class="id" title="var">Horacle</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s_item</span> &amp; [[] ?] &amp; <span class="id" title="var">Ht</span> &amp; <span class="id" title="var">Hfutures</span> &amp; <span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hselected</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="received_component_received_previously" class="idref" href="#received_component_received_previously"><span class="id" title="lemma">received_component_received_previously</span></a><br/>
&nbsp;&nbsp;[<a id="constraint:753" class="idref" href="#constraint:753"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;(<a id="X:754" class="idref" href="#X:754"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:753"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;[<a id="s:755" class="idref" href="#s:755"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hs:756" class="idref" href="#Hs:756"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:754"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:755"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;[<a id="i:757" class="idref" href="#i:757"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>]<br/>
&nbsp;&nbsp;[<a id="m:758" class="idref" href="#m:758"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="Horacle:759" class="idref" href="#Horacle:759"><span class="id" title="binder">Horacle</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:757"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:755"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:757"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:758"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s_item:760" class="idref" href="#s_item:760"><span class="id" title="binder">s_item</span></a> <a id="item:761" class="idref" href="#item:761"><span class="id" title="binder">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:754"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s_item:760"><span class="id" title="variable">s_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:761"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:754"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:761"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:755"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:761"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:757"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:761"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:758"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hs</span> <span class="id" title="var">Horacle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#oracle_component_selected_previously"><span class="id" title="lemma">oracle_component_selected_previously</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:763" class="idref" href="#i:763"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:762"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hs</span> <span class="id" title="var">Horacle</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s_item</span> &amp; [[] ?] &amp; <span class="id" title="var">Ht</span> &amp; <span class="id" title="var">Hfutures</span> &amp; <span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hselected</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="messages_sent_from_component_produced_previously" class="idref" href="#messages_sent_from_component_produced_previously"><span class="id" title="lemma">messages_sent_from_component_produced_previously</span></a><br/>
&nbsp;&nbsp;[<a id="constraint:764" class="idref" href="#constraint:764"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>]<br/>
&nbsp;&nbsp;(<a id="X:765" class="idref" href="#X:765"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:764"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;[<a id="s:766" class="idref" href="#s:766"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hs:767" class="idref" href="#Hs:767"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:765"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:766"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;[<a id="i:768" class="idref" href="#i:768"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>]<br/>
&nbsp;&nbsp;[<a id="m:769" class="idref" href="#m:769"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>]<br/>
&nbsp;&nbsp;(<a id="Hsent:770" class="idref" href="#Hsent:770"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:768"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:766"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:768"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:769"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s_m:771" class="idref" href="#s_m:771"><span class="id" title="binder">s_m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:765"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s_m:771"><span class="id" title="variable">s_m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:766"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_produce"><span class="id" title="definition">can_produce</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:768"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="VLSM.Core.Equivocation.html#s_m:771"><span class="id" title="variable">s_m</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:768"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:769"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#sent_component_sent_previously"><span class="id" title="lemma">sent_component_sent_previously</span></a> <span class="id" title="var">Hs</span> <span class="id" title="var">Hsent</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s_item</span> &amp; [] &amp; <span class="id" title="var">Ht</span> &amp; <span class="id" title="var">Hfutures</span> &amp; &lt;- &amp; <span class="id" title="var">Houtput</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">output</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">destination</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_input_valid_transition"><span class="id" title="definition">VLSM_projection_input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Validator.html#composite_project_label_eq"><span class="id" title="lemma">composite_project_label_eq</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="messages_sent_from_component_of_valid_state_are_valid" class="idref" href="#messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_sent_from_component_of_valid_state_are_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:772" class="idref" href="#constraint:772"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:773" class="idref" href="#X:773"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:772"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:774" class="idref" href="#s:774"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:775" class="idref" href="#Hs:775"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:773"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:774"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:776" class="idref" href="#i:776"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:777" class="idref" href="#m:777"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:778" class="idref" href="#Hsent:778"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:776"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:774"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:776"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:777"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:773"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:777"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#sent_valid"><span class="id" title="lemma">sent_valid</span></a> <span class="id" title="var">X</span> <span class="id" title="var">s</span>); [| <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_messages_sent_from_component_of_valid_state_are_valid" class="idref" href="#preloaded_messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_sent_from_component_of_valid_state_are_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:779" class="idref" href="#constraint:779"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:780" class="idref" href="#seed:780"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:781" class="idref" href="#X:781"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:779"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:780"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:782" class="idref" href="#s:782"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:783" class="idref" href="#Hs:783"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:781"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:782"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:784" class="idref" href="#i:784"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:785" class="idref" href="#m:785"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:786" class="idref" href="#Hsent:786"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:784"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:782"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:784"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:785"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:781"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:785"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#sent_valid"><span class="id" title="lemma">sent_valid</span></a>; [| <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="messages_received_from_component_of_valid_state_are_valid" class="idref" href="#messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_received_from_component_of_valid_state_are_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:787" class="idref" href="#constraint:787"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:788" class="idref" href="#X:788"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:787"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:789" class="idref" href="#s:789"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:790" class="idref" href="#Hs:790"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:788"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:789"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:791" class="idref" href="#i:791"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:792" class="idref" href="#m:792"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreceived:793" class="idref" href="#Hreceived:793"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:791"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:789"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:791"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:792"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:788"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:792"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#received_valid"><span class="id" title="lemma">received_valid</span></a>; [| <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_messages_received_from_component_of_valid_state_are_valid" class="idref" href="#preloaded_messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_received_from_component_of_valid_state_are_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:794" class="idref" href="#constraint:794"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:795" class="idref" href="#seed:795"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:796" class="idref" href="#X:796"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:794"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:795"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:797" class="idref" href="#s:797"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:798" class="idref" href="#Hs:798"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:796"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:797"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:799" class="idref" href="#i:799"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:800" class="idref" href="#m:800"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreceived:801" class="idref" href="#Hreceived:801"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:799"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:797"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:799"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:800"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:796"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:800"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#received_valid"><span class="id" title="lemma">received_valid</span></a>; [| <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_sent_valid" class="idref" href="#composite_sent_valid"><span class="id" title="lemma">composite_sent_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:802" class="idref" href="#constraint:802"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:803" class="idref" href="#X:803"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:802"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:804" class="idref" href="#s:804"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:805" class="idref" href="#Hs:805"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:803"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:804"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:806" class="idref" href="#m:806"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:807" class="idref" href="#Hsent:807"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:804"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:806"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:803"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:806"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_sent_from_component_of_valid_state_are_valid</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_composite_sent_valid" class="idref" href="#preloaded_composite_sent_valid"><span class="id" title="lemma">preloaded_composite_sent_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:808" class="idref" href="#constraint:808"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:809" class="idref" href="#seed:809"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:810" class="idref" href="#X:810"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:808"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:809"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:811" class="idref" href="#s:811"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:812" class="idref" href="#Hs:812"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:810"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:811"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:813" class="idref" href="#m:813"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent:814" class="idref" href="#Hsent:814"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:811"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:813"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:810"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:813"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_sent_from_component_of_valid_state_are_valid</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_received_valid" class="idref" href="#composite_received_valid"><span class="id" title="lemma">composite_received_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:815" class="idref" href="#constraint:815"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:816" class="idref" href="#X:816"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:815"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:817" class="idref" href="#s:817"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:818" class="idref" href="#Hs:818"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:817"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:819" class="idref" href="#m:819"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreceived:820" class="idref" href="#Hreceived:820"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:817"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:819"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:819"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreceived</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hreceived</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_received_from_component_of_valid_state_are_valid</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_composite_received_valid" class="idref" href="#preloaded_composite_received_valid"><span class="id" title="lemma">preloaded_composite_received_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:821" class="idref" href="#constraint:821"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:822" class="idref" href="#seed:822"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:823" class="idref" href="#X:823"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:821"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:822"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:824" class="idref" href="#s:824"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:825" class="idref" href="#Hs:825"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:824"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:826" class="idref" href="#m:826"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreceived:827" class="idref" href="#Hreceived:827"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:824"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:826"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:826"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreceived</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hreceived</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_received_from_component_of_valid_state_are_valid</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_directly_observed_valid" class="idref" href="#composite_directly_observed_valid"><span class="id" title="lemma">composite_directly_observed_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:828" class="idref" href="#constraint:828"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:829" class="idref" href="#X:829"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:828"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:830" class="idref" href="#s:830"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:831" class="idref" href="#Hs:831"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:829"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:830"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:832" class="idref" href="#m:832"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hobserved:833" class="idref" href="#Hobserved:833"><span class="id" title="binder">Hobserved</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:830"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:832"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:829"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:832"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobserved</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hobserved</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">has_been_directly_observed_sent_received_iff</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hobserved</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobserved</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hreceived</span> | <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_received_from_component_of_valid_state_are_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">messages_sent_from_component_of_valid_state_are_valid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded"><span class="id" title="lemma">valid_state_project_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_composite_directly_observed_valid" class="idref" href="#preloaded_composite_directly_observed_valid"><span class="id" title="lemma">preloaded_composite_directly_observed_valid</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:834" class="idref" href="#constraint:834"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed:835" class="idref" href="#seed:835"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:836" class="idref" href="#X:836"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:834"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#seed:835"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:837" class="idref" href="#s:837"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:838" class="idref" href="#Hs:838"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:836"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:837"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:839" class="idref" href="#m:839"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hobserved:840" class="idref" href="#Hobserved:840"><span class="id" title="binder">Hobserved</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:837"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:839"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:836"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:839"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobserved</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hobserved</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">has_been_directly_observed_sent_received_iff</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hobserved</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobserved</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hreceived</span> | <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_messages_received_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_received_from_component_of_valid_state_are_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#preloaded_messages_sent_from_component_of_valid_state_are_valid"><span class="id" title="lemma">preloaded_messages_sent_from_component_of_valid_state_are_valid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_project_preloaded_to_preloaded"><span class="id" title="lemma">valid_state_project_preloaded_to_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#pre_loaded_vlsm_incl_pre_loaded_with_all_messages"><span class="id" title="lemma">pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#Composite"><span class="id" title="section">Composite</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_sent_received_iff" class="idref" href="#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a><br/>
&nbsp;&nbsp;{<a id="message:841" class="idref" href="#message:841"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:843" class="idref" href="#EqDecision0:843"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:843" class="idref" href="#EqDecision0:843"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:844" class="idref" href="#IM:844"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:842"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:841"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">forall</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">i</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">:</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">index</span></a><a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">,</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">(</span></a><a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">IM</span></a> <a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">i</span></a><a id="H:846" class="idref" href="#H:846"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">forall</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">i</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">:</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">index</span></a><a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">,</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">(</span></a><a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">IM</span></a> <a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">i</span></a><a id="H0:848" class="idref" href="#H0:848"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:849" class="idref" href="#s:849"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:844"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:850" class="idref" href="#m:850"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:841"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:844"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:849"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:850"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:844"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:849"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:850"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:844"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:849"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:850"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hs</span>|<span class="id" title="var">Hr</span>]]; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hs</span>] | [<span class="id" title="var">i</span> <span class="id" title="var">Hr</span>]]; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_free_iff" class="idref" href="#composite_has_been_directly_observed_free_iff"><span class="id" title="lemma">composite_has_been_directly_observed_free_iff</span></a><br/>
&nbsp;&nbsp;{<a id="message:851" class="idref" href="#message:851"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H:854" class="idref" href="#H:854"><span class="id" title="binder">finite.Finite</span></a> <a id="H:854" class="idref" href="#H:854"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:855" class="idref" href="#IM:855"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:852"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:851"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">forall</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">i</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">:</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">index</span></a><a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">,</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">(</span></a><a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">IM</span></a> <a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">i</span></a><a id="H0:857" class="idref" href="#H0:857"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">forall</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">i</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">:</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">index</span></a><a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">,</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">(</span></a><a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">IM</span></a> <a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">i</span></a><a id="H1:859" class="idref" href="#H1:859"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:860" class="idref" href="#s:860"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:855"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="m:861" class="idref" href="#m:861"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:851"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:855"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:860"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:861"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:855"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:860"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:861"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_from_sent_received"><span class="id" title="definition">has_been_directly_observed_from_sent_received</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_from_component" class="idref" href="#composite_has_been_directly_observed_from_component"><span class="id" title="lemma">composite_has_been_directly_observed_from_component</span></a><br/>
&nbsp;&nbsp;{<a id="message:862" class="idref" href="#message:862"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H:865" class="idref" href="#H:865"><span class="id" title="binder">finite.Finite</span></a> <a id="H:865" class="idref" href="#H:865"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:866" class="idref" href="#IM:866"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:863"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:862"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">forall</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">i</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">:</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">index</span></a><a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">,</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">(</span></a><a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">IM</span></a> <a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">i</span></a><a id="H0:868" class="idref" href="#H0:868"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">forall</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">i</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">:</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">index</span></a><a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">,</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">(</span></a><a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">IM</span></a> <a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">i</span></a><a id="H1:870" class="idref" href="#H1:870"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:871" class="idref" href="#s:871"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:866"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:872" class="idref" href="#i:872"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:863"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:873" class="idref" href="#m:873"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:862"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:866"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:872"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#s:871"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:872"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:873"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:866"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:871"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:873"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_directly_observed_lift" class="idref" href="#composite_has_been_directly_observed_lift"><span class="id" title="lemma">composite_has_been_directly_observed_lift</span></a><br/>
&nbsp;&nbsp;{<a id="message:874" class="idref" href="#message:874"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H:877" class="idref" href="#H:877"><span class="id" title="binder">finite.Finite</span></a> <a id="H:877" class="idref" href="#H:877"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:878" class="idref" href="#IM:878"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:875"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:874"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">forall</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">i</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">:</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">index</span></a><a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">,</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">(</span></a><a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">IM</span></a> <a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">i</span></a><a id="H0:880" class="idref" href="#H0:880"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">forall</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">i</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">:</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">index</span></a><a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">,</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">(</span></a><a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">IM</span></a> <a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">i</span></a><a id="H1:882" class="idref" href="#H1:882"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="i:883" class="idref" href="#i:883"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:875"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:884" class="idref" href="#s:884"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:878"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:883"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hs:885" class="idref" href="#Hs:885"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:878"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:883"><span class="id" title="variable">i</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.html#s:884"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:886" class="idref" href="#m:886"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#message:874"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:878"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state'"><span class="id" title="definition">lift_to_composite_state'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:878"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:883"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:884"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#m:886"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:878"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:883"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:884"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:886"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <span class="id" title="var">IM</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Free</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hlift_s</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <span class="id" title="var">Free</span>) (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state'"><span class="id" title="definition">lift_to_composite_state'</span></a> <span class="id" title="var">IM</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#valid_state_preloaded_composite_free_lift"><span class="id" title="lemma">valid_state_preloaded_composite_free_lift</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a> (<span class="id" title="var">IM</span> <span class="id" title="var">i</span>)); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_free_iff"><span class="id" title="lemma">composite_has_been_directly_observed_free_iff</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_finite_valid_trace_init_to"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_preloaded_vlsm_full_projection"><span class="id" title="lemma">lift_to_composite_preloaded_vlsm_full_projection</span></a> <span class="id" title="var">IM</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hobs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre_tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">composite_item</span> [<span class="id" title="var">Hcomposite_item</span> <span class="id" title="var">Hx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap_2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomposite_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hcomposite_item</span> <span class="id" title="var">Hitem</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">composite_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_free_iff"><span class="id" title="lemma">composite_has_been_directly_observed_free_iff</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_consistency"><span class="id" title="lemma">has_been_directly_observed_consistency</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_directly_observed"><span class="id" title="lemma">proper_directly_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span> ; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_consistency"><span class="id" title="lemma">has_been_directly_observed_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hobs</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_full_projection_finite_valid_trace_init_to"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_preloaded_vlsm_full_projection"><span class="id" title="lemma">lift_to_composite_preloaded_vlsm_full_projection</span></a> <span class="id" title="var">IM</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> <span class="id" title="var">Hx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_transition_item'"><span class="id" title="definition">lift_to_composite_transition_item'</span></a> <span class="id" title="var">IM</span> <span class="id" title="var">i</span> <span class="id" title="var">item</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_CompositeComputableMessages" class="idref" href="#sec_CompositeComputableMessages"><span class="id" title="section">sec_CompositeComputableMessages</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:888" class="idref" href="#EqDecision0:888"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:888" class="idref" href="#EqDecision0:888"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H:891" class="idref" href="#H:891"><span class="id" title="binder">finite.Finite</span></a> <a id="H:891" class="idref" href="#H:891"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:892" class="idref" href="#IM:892"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:889"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:887"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="indexed_oracle_set:894" class="idref" href="#indexed_oracle_set:894"><span class="id" title="binder">indexed_oracle_set</span></a> : <span class="id" title="notation">forall</span> <a id="i:893" class="idref" href="#i:893"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:892"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:893"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:887"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="indexed_message_selector:896" class="idref" href="#indexed_message_selector:896"><span class="id" title="binder">indexed_message_selector</span></a> : <span class="id" title="notation">forall</span> <a id="i:895" class="idref" href="#i:895"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#message:887"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#IM:892"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:895"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Free:897" class="idref" href="#Free:897"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:892"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_oracle_set" class="idref" href="#composite_oracle_set"><span class="id" title="definition">composite_oracle_set</span></a> (<a id="s:898" class="idref" href="#s:898"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:899" class="idref" href="#i:899"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_oracle_set"><span class="id" title="variable">indexed_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:899"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#s:898"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:899"><span class="id" title="variable">i</span></a>)) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.index"><span class="id" title="variable">index</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_composite_oracle_set" class="idref" href="#elem_of_composite_oracle_set"><span class="id" title="lemma">elem_of_composite_oracle_set</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:900" class="idref" href="#s:900"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.IM"><span class="id" title="variable">IM</span></a>) (<a id="m:901" class="idref" href="#m:901"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:901"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_oracle_set"><span class="id" title="definition">composite_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:900"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:902" class="idref" href="#i:902"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:901"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_oracle_set"><span class="id" title="variable">indexed_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:902"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#s:900"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:902"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_list_In</span>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#in_concat"><span class="id" title="lemma">in_concat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> (? &amp; (? &amp; &lt;- &amp; <span class="id" title="var">_</span>) &amp; ?); <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">repeat</span> <span class="id" title="var">esplit</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>, <span class="id" title="method">elem_of_enum</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_computable_messages_oracle" class="idref" href="#composite_computable_messages_oracle"><span class="id" title="lemma">composite_computable_messages_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a id="Hcmos:904" class="idref" href="#Hcmos:904"><span class="id" title="binder">Hcmos</span></a> : <span class="id" title="notation">forall</span> <a id="i:903" class="idref" href="#i:903"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:903"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_oracle_set"><span class="id" title="variable">indexed_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:903"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_message_selector"><span class="id" title="variable">indexed_message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:903"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#computable_messages_oracle"><span class="id" title="definition">computable_messages_oracle</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_oracle_set"><span class="id" title="definition">composite_oracle_set</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_message_selector"><span class="id" title="definition">composite_message_selector</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="var">message_selectors</span> := <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_message_selector"><span class="id" title="variable">indexed_message_selector</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_oracle_set"><span class="id" title="lemma">elem_of_composite_oracle_set</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_stepwise_props"><span class="id" title="lemma">composite_stepwise_props</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">message_selectors</span> := <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_message_selector"><span class="id" title="variable">indexed_message_selector</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">oracles</span> := <span class="id" title="keyword">fun</span> (<a id="i:911" class="idref" href="#i:911"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.index"><span class="id" title="variable">index</span></a>) (<a id="s:912" class="idref" href="#s:912"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:905"><span class="id" title="variable">i</span></a>)) (<a id="m:913" class="idref" href="#m:913"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.message"><span class="id" title="variable">message</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:907"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages.indexed_oracle_set"><span class="id" title="variable">indexed_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#i:905"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:906"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;; [| <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>]; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcmos</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_CompositeComputableMessages"><span class="id" title="section">sec_CompositeComputableMessages</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_composite_computable_sent_received_observed" class="idref" href="#sec_composite_computable_sent_received_observed"><span class="id" title="section">sec_composite_computable_sent_received_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:915" class="idref" href="#EqDecision0:915"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:915" class="idref" href="#EqDecision0:915"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H:918" class="idref" href="#H:918"><span class="id" title="binder">finite.Finite</span></a> <a id="H:918" class="idref" href="#H:918"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:919" class="idref" href="#IM:919"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:916"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:914"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">forall</span></a> <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">i</span></a><a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">,</span></a> <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">(</span></a><a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">IM</span></a> <a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">i</span></a><a id="H0:921" class="idref" href="#H0:921"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">forall</span></a> <a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">i</span></a><a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">,</span></a> <a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">(</span></a><a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">IM</span></a> <a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">i</span></a><a id="H1:923" class="idref" href="#H1:923"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_received_messages_set" class="idref" href="#composite_received_messages_set"><span class="id" title="definition">composite_received_messages_set</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_oracle_set"><span class="id" title="definition">composite_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:924" class="idref" href="#i:924"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#received_messages_set"><span class="id" title="method">received_messages_set</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_sent_messages_set" class="idref" href="#composite_sent_messages_set"><span class="id" title="definition">composite_sent_messages_set</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_oracle_set"><span class="id" title="definition">composite_oracle_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="i:925" class="idref" href="#i:925"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocation.html#sent_messages_set"><span class="id" title="method">sent_messages_set</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_observed_messages_set" class="idref" href="#composite_observed_messages_set"><span class="id" title="definition">composite_observed_messages_set</span></a> (<a id="s:926" class="idref" href="#s:926"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_sent_messages_set"><span class="id" title="definition">composite_sent_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:926"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_received_messages_set"><span class="id" title="definition">composite_received_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:926"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_composite_received_messages_set" class="idref" href="#elem_of_composite_received_messages_set"><span class="id" title="lemma">elem_of_composite_received_messages_set</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:927" class="idref" href="#s:927"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a>) (<a id="m:928" class="idref" href="#m:928"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:927"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:928"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:928"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_received_messages_set"><span class="id" title="definition">composite_received_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:927"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_oracle_set"><span class="id" title="lemma">elem_of_composite_oracle_set</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_messages_set_iff"><span class="id" title="lemma">has_been_received_messages_set_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_composite_sent_messages_set" class="idref" href="#elem_of_composite_sent_messages_set"><span class="id" title="lemma">elem_of_composite_sent_messages_set</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:929" class="idref" href="#s:929"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a>) (<a id="m:930" class="idref" href="#m:930"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:929"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:930"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:930"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_sent_messages_set"><span class="id" title="definition">composite_sent_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:929"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_oracle_set"><span class="id" title="lemma">elem_of_composite_oracle_set</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>]; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_sent_messages_set"><span class="id" title="lemma">elem_of_sent_messages_set</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_composite_observed_messages_set" class="idref" href="#elem_of_composite_observed_messages_set"><span class="id" title="lemma">elem_of_composite_observed_messages_set</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:931" class="idref" href="#s:931"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a>) (<a id="m:932" class="idref" href="#m:932"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:931"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:932"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#m:932"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_observed_messages_set"><span class="id" title="definition">composite_observed_messages_set</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:931"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_observed_messages_set"><span class="id" title="definition">composite_observed_messages_set</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_sent_messages_set"><span class="id" title="lemma">elem_of_composite_sent_messages_set</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_received_messages_set"><span class="id" title="lemma">elem_of_composite_received_messages_set</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#sec_composite_computable_sent_received_observed"><span class="id" title="section">sec_composite_computable_sent_received_observed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="cannot_resend_message" class="idref" href="#cannot_resend_message"><span class="id" title="section">cannot_resend_message</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:933" class="idref" href="#message:933"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:934" class="idref" href="#EqDecision0:934"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:934" class="idref" href="#EqDecision0:934"><span class="id" title="binder">message</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:935" class="idref" href="#X:935"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:933"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreX:936" class="idref" href="#PreX:936"><span class="id" title="binder">PreX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:935"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:937" class="idref" href="#H:937"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:937" class="idref" href="#H:937"><span class="id" title="binder">message</span></a> <a id="H:937" class="idref" href="#H:937"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:938" class="idref" href="#H0:938"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:938" class="idref" href="#H0:938"><span class="id" title="binder">message</span></a> <a id="H0:938" class="idref" href="#H0:938"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_received_not_sent" class="idref" href="#state_received_not_sent"><span class="id" title="definition">state_received_not_sent</span></a> (<a id="s:939" class="idref" href="#s:939"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="m:940" class="idref" href="#m:940"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:939"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:940"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:939"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:940"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_received_not_sent_trace_iff" class="idref" href="#state_received_not_sent_trace_iff"><span class="id" title="lemma">state_received_not_sent_trace_iff</span></a><br/>
&nbsp;&nbsp;(<a id="m:941" class="idref" href="#m:941"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:942" class="idref" href="#s:942"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:943" class="idref" href="#is:943"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:944" class="idref" href="#tr:944"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:945" class="idref" href="#Htr:945"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is:943"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:942"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:944"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent"><span class="id" title="definition">state_received_not_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:942"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:941"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#trace_received_not_sent_before_or_after"><span class="id" title="definition">trace_received_not_sent_before_or_after</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:944"><span class="id" title="variable">tr</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:941"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hs</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hbrm</span> <span class="id" title="var">Hnbsm</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbrm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hbrm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hbsm</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">Hnbsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [..|<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [..|<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbsm</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">Hnbsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbsm</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hbsm</span>|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_received_not_sent_invariant" class="idref" href="#state_received_not_sent_invariant"><span class="id" title="definition">state_received_not_sent_invariant</span></a><br/>
&nbsp;&nbsp;(<a id="s:946" class="idref" href="#s:946"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:947" class="idref" href="#P:947"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">forall</span> <a id="m:948" class="idref" href="#m:948"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent"><span class="id" title="definition">state_received_not_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:946"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:948"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:947"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:948"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_received_not_sent_invariant_trace_iff" class="idref" href="#state_received_not_sent_invariant_trace_iff"><span class="id" title="lemma">state_received_not_sent_invariant_trace_iff</span></a><br/>
&nbsp;&nbsp;(<a id="P:949" class="idref" href="#P:949"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:950" class="idref" href="#s:950"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:951" class="idref" href="#is:951"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:952" class="idref" href="#tr:952"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:953" class="idref" href="#Htr:953"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is:951"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:950"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:952"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_invariant"><span class="id" title="definition">state_received_not_sent_invariant</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:950"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:949"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#trace_received_not_sent_before_or_after_invariant"><span class="id" title="definition">trace_received_not_sent_before_or_after_invariant</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:952"><span class="id" title="variable">tr</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:949"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinv</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_trace_iff"><span class="id" title="lemma">state_received_not_sent_trace_iff</span></a> <span class="id" title="var">m</span> <span class="id" title="var">s</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A sent message cannot have been previously sent or received. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="cannot_resend_message_stepwise_prop" class="idref" href="#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:954" class="idref" href="#l:954"><span class="id" title="binder">l</span></a> <a id="s:955" class="idref" href="#s:955"><span class="id" title="binder">s</span></a> <a id="oim:956" class="idref" href="#oim:956"><span class="id" title="binder">oim</span></a> <a id="s':957" class="idref" href="#s':957"><span class="id" title="binder">s'</span></a> <a id="m:958" class="idref" href="#m:958"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:954"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:955"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="VLSM.Core.Equivocation.html#oim:956"><span class="id" title="variable">oim</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':957"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:958"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:955"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:958"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s':957"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:958"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cannot_resend_received_message_in_future" class="idref" href="#cannot_resend_received_message_in_future"><span class="id" title="lemma">cannot_resend_received_message_in_future</span></a><br/>
&nbsp;&nbsp;(<a id="Hno_resend:959" class="idref" href="#Hno_resend:959"><span class="id" title="binder">Hno_resend</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a>)<br/>
&nbsp;&nbsp;(<a id="s1:960" class="idref" href="#s1:960"><span class="id" title="binder">s1</span></a> <a id="s2:961" class="idref" href="#s2:961"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hfuture:962" class="idref" href="#Hfuture:962"><span class="id" title="binder">Hfuture</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:960"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:961"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:963" class="idref" href="#m:963"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent"><span class="id" title="definition">state_received_not_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:960"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:963"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent"><span class="id" title="definition">state_received_not_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s2:961"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:963"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfuture</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tr2</span> <span class="id" title="var">Htr2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr2</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr2</span>;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_step_update"><span class="id" title="lemma">has_been_sent_step_update</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hr</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#or_intror"><span class="id" title="constructor">or_intror</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrupd</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [-&gt; |]%<span class="id" title="var">Hmupd</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_resend</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> []].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="Hno_resend:964" class="idref" href="#Hno_resend:964"><span class="id" title="binder">Hno_resend</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_received_not_resent" class="idref" href="#input_valid_transition_received_not_resent"><span class="id" title="lemma">input_valid_transition_received_not_resent</span></a> <a id="l:965" class="idref" href="#l:965"><span class="id" title="binder">l</span></a> <a id="s:966" class="idref" href="#s:966"><span class="id" title="binder">s</span></a> <a id="m:967" class="idref" href="#m:967"><span class="id" title="binder">m</span></a> <a id="s':968" class="idref" href="#s':968"><span class="id" title="binder">s'</span></a> <a id="om':969" class="idref" href="#om':969"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:970" class="idref" href="#Ht:970"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#l:965"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s:966"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:967"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.html#s':968"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#om':969"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#om':969"><span class="id" title="variable">om'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:967"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m'</span>|]; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.Hno_resend"><span class="id" title="variable">Hno_resend</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hnbr_m</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">Hnbr_m</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnbr_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#exists_right_finite_trace_from"><span class="id" title="lemma">exists_right_finite_trace_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_preloaded_trace_to_seeded" class="idref" href="#lift_preloaded_trace_to_seeded"><span class="id" title="lemma">lift_preloaded_trace_to_seeded</span></a><br/>
&nbsp;&nbsp;(<a id="P:971" class="idref" href="#P:971"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="tr:972" class="idref" href="#tr:972"><span class="id" title="binder">tr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htrm:973" class="idref" href="#Htrm:973"><span class="id" title="binder">Htrm</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#trace_received_not_sent_before_or_after_invariant"><span class="id" title="definition">trace_received_not_sent_before_or_after_invariant</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:972"><span class="id" title="variable">tr</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:971"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:974" class="idref" href="#is:974"><span class="id" title="binder">is</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:975" class="idref" href="#Htr:975"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is:974"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:972"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:971"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#is:974"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:972"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_received_not_sent_before_or_after_invariant"><span class="id" title="definition">trace_received_not_sent_before_or_after_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_rev_ind"><span class="id" title="lemma">finite_valid_trace_rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rapply</span> @<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_empty"><span class="id" title="constructor">finite_valid_trace_from_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.VLSM.html#trace_received_not_sent_before_or_after_invariant"><span class="id" title="definition">trace_received_not_sent_before_or_after_invariant</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">P</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htrm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [<span class="id" title="var">Hrecv</span> <span class="id" title="var">Hsend</span>]. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Htrm</span> <span class="id" title="var">m</span>);<span class="id" title="tactic">clear</span> <span class="id" title="var">Htrm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_app</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">oom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>);[<span class="id" title="tactic">tauto</span>|<span class="id" title="tactic">clear</span> <span class="id" title="var">Hsend</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">sf</span> <span class="id" title="var">m</span>);[<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.Hno_resend"><span class="id" title="variable">Hno_resend</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hx</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a> <span class="id" title="var">Hx</span>);<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#oracle_partial_trace_update"><span class="id" title="lemma">oracle_partial_trace_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_stepwise_from_trace"><span class="id" title="lemma">has_been_received_stepwise_from_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">Htrm'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from"><span class="id" title="lemma">extend_right_finite_trace_from</span></a> <span class="id" title="var">_</span> <span class="id" title="var">IHHtr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|];[|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;m&nbsp;was&nbsp;sent&nbsp;during&nbsp;tr,&nbsp;it&nbsp;is&nbsp;valid&nbsp;because&nbsp;it&nbsp;was<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produced&nbsp;in&nbsp;a&nbsp;valid&nbsp;(by&nbsp;IHHtr)&nbsp;trace.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;m&nbsp;was&nbsp;not&nbsp;sent&nbsp;during&nbsp;tr,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">tr</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span>|<span class="id" title="var">Hnot_sent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="instance">Exists_dec</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Htrm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsent</span>;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnot_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Exists_app</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span> | [[= -&gt;] | []]]; [<span class="id" title="var">done</span> | <span class="id" title="var">exfalso</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.Hno_resend"><span class="id" title="variable">Hno_resend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Hx'</span>);<span class="id" title="tactic">clear</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a> <span class="id" title="var">Hx</span>); <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_preloaded_state_to_seeded" class="idref" href="#lift_preloaded_state_to_seeded"><span class="id" title="lemma">lift_preloaded_state_to_seeded</span></a><br/>
&nbsp;&nbsp;(<a id="P:976" class="idref" href="#P:976"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:977" class="idref" href="#s:977"><span class="id" title="binder">s</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hequiv_s:978" class="idref" href="#Hequiv_s:978"><span class="id" title="binder">Hequiv_s</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_invariant"><span class="id" title="definition">state_received_not_sent_invariant</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:977"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:976"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:979" class="idref" href="#Hs:979"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:977"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:976"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:977"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#lift_preloaded_trace_to_seeded"><span class="id" title="lemma">lift_preloaded_trace_to_seeded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">Hequiv_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_invariant_trace_iff"><span class="id" title="lemma">state_received_not_sent_invariant_trace_iff</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hlift</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="var">Htr</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_generated_to_seeded" class="idref" href="#lift_generated_to_seeded"><span class="id" title="lemma">lift_generated_to_seeded</span></a><br/>
&nbsp;&nbsp;(<a id="P:980" class="idref" href="#P:980"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="s:981" class="idref" href="#s:981"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hequiv_s:982" class="idref" href="#Hequiv_s:982"><span class="id" title="binder">Hequiv_s</span></a>: <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_invariant"><span class="id" title="definition">state_received_not_sent_invariant</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:981"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:980"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:983" class="idref" href="#m:983"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hgen:984" class="idref" href="#Hgen:984"><span class="id" title="binder">Hgen</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#can_produce"><span class="id" title="definition">can_produce</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:981"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:983"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_produce"><span class="id" title="definition">can_produce</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#P:980"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:981"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:983"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#non_empty_valid_trace_from_can_produce"><span class="id" title="lemma">non_empty_valid_trace_from_can_produce</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#non_empty_valid_trace_from_can_produce"><span class="id" title="lemma">non_empty_valid_trace_from_can_produce</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hgen</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hgen</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">item</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#lift_preloaded_trace_to_seeded"><span class="id" title="lemma">lift_preloaded_trace_to_seeded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hlift</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hequiv_s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#state_received_not_sent_invariant_trace_iff"><span class="id" title="lemma">state_received_not_sent_invariant_trace_iff</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hgen</span> <span class="id" title="keyword">as</span> [-&gt; [&lt;- <span class="id" title="var">_</span>]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message"><span class="id" title="section">cannot_resend_message</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="has_been_sent_irrelevance" class="idref" href="#has_been_sent_irrelevance"><span class="id" title="section">has_been_sent_irrelevance</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Since we have several ways of obtaining the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> property,
  we sometimes need to show that they are equivalent.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:985" class="idref" href="#message:985"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:986" class="idref" href="#X:986"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:985"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbs1:987" class="idref" href="#Hbs1:987"><span class="id" title="binder">Hbs1</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:986"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbs2:988" class="idref" href="#Hbs2:988"><span class="id" title="binder">Hbs2</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:986"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_been_sent1:989" class="idref" href="#has_been_sent1:989"><span class="id" title="binder">has_been_sent1</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Hbs1:987"><span class="id" title="variable">Hbs1</span></a>)<br/>
&nbsp;&nbsp;(<a id="has_been_sent2:990" class="idref" href="#has_been_sent2:990"><span class="id" title="binder">has_been_sent2</span></a> := @<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocation.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#Hbs2:988"><span class="id" title="variable">Hbs2</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_irrelevance" class="idref" href="#has_been_sent_irrelevance"><span class="id" title="lemma">has_been_sent_irrelevance</span></a><br/>
&nbsp;&nbsp;(<a id="s:991" class="idref" href="#s:991"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:992" class="idref" href="#m:992"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:993" class="idref" href="#Hs:993"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s:991"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance.has_been_sent1"><span class="id" title="variable">has_been_sent1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:991"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:992"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance.has_been_sent2"><span class="id" title="variable">has_been_sent2</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:991"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:992"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance"><span class="id" title="section">has_been_sent_irrelevance</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="all_traces_to_valid_state_are_valid" class="idref" href="#all_traces_to_valid_state_are_valid"><span class="id" title="section">all_traces_to_valid_state_are_valid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:994" class="idref" href="#message:994"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:995" class="idref" href="#index:995"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:997" class="idref" href="#H:997"><span class="id" title="binder">finite.Finite</span></a> <a id="H:997" class="idref" href="#H:997"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:998" class="idref" href="#IM:998"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#index:995"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:994"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">forall</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">i</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">:</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">index</span></a><a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">,</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">(</span></a><a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">(</span></a><a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">IM</span></a> <a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">i</span></a><a id="H0:1000" class="idref" href="#H0:1000"><span class="id" title="binder">))</span></a>}<br/>
&nbsp;&nbsp;(<a id="constraint:1001" class="idref" href="#constraint:1001"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:998"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:998"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:994"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:1002" class="idref" href="#X:1002"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#IM:998"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#constraint:1001"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreX:1003" class="idref" href="#PreX:1003"><span class="id" title="binder">PreX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#X:1002"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Under <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="record">HasBeenReceivedCapability</span></a></span> assumptions, and given the fact that
  any valid state <code>s</code> has a valid trace leading to it,
  in which all (received) messages are valid, it follows that
  any message which <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> for state <code>s</code> is valid.

<div class="paragraph"> </div>

  Hence, given any pre_loaded trace leading to <code>s</code>, all messages received
  within it must be valid, thus the trace itself is valid.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="all_pre_traces_to_valid_state_are_valid" class="idref" href="#all_pre_traces_to_valid_state_are_valid"><span class="id" title="lemma">all_pre_traces_to_valid_state_are_valid</span></a><br/>
&nbsp;&nbsp;<a id="s:1004" class="idref" href="#s:1004"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:1005" class="idref" href="#Hs:1005"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#all_traces_to_valid_state_are_valid.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:1004"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="is:1006" class="idref" href="#is:1006"><span class="id" title="binder">is</span></a> <a id="tr:1007" class="idref" href="#tr:1007"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;(<a id="Htr:1008" class="idref" href="#Htr:1008"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#all_traces_to_valid_state_are_valid.PreX"><span class="id" title="variable">PreX</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is:1006"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:1004"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:1007"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#all_traces_to_valid_state_are_valid.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#is:1006"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s:1004"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:1007"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#pre_traces_with_valid_inputs_are_valid"><span class="id" title="lemma">pre_traces_with_valid_inputs_are_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hspre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_received_valid"><span class="id" title="lemma">composite_received_valid</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">Hspre</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#all_traces_to_valid_state_are_valid"><span class="id" title="section">all_traces_to_valid_state_are_valid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="has_been_received_in_state" class="idref" href="#has_been_received_in_state"><span class="id" title="section">has_been_received_in_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1009" class="idref" href="#message:1009"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:1010" class="idref" href="#X:1010"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#message:1009"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:1011" class="idref" href="#H:1011"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H:1011" class="idref" href="#H:1011"><span class="id" title="binder">message</span></a> <a id="H:1011" class="idref" href="#H:1011"><span class="id" title="binder">X</span></a>}<br/>
.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_in_state" class="idref" href="#has_been_received_in_state"><span class="id" title="lemma">has_been_received_in_state</span></a> <a id="s1:1012" class="idref" href="#s1:1012"><span class="id" title="binder">s1</span></a> <a id="m:1013" class="idref" href="#m:1013"><span class="id" title="binder">m</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:1012"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:1012"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:1013"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s0:1014" class="idref" href="#s0:1014"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="item:1015" class="idref" href="#item:1015"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>) (<a id="tr:1016" class="idref" href="#tr:1016"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:1015"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:1013"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s0:1014"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:1012"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#item:1015"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:1016"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpsp</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hetr</span> := <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpsp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hetr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ist</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Hetr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_valid_state_prop"><span class="id" title="lemma">pre_loaded_with_all_messages_valid_state_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpsp</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhbr</span> <span class="id" title="var">ist</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hetr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hetr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfptf</span> <span class="id" title="var">Hisp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hfptf'</span> := <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#preloaded_weaken_finite_valid_trace_from_to"><span class="id" title="lemma">preloaded_weaken_finite_valid_trace_from_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfptf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhbr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Hfptf'</span> <span class="id" title="var">Hisp</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hfptf'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhbr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tritem</span> [<span class="id" title="var">Htritemin</span> <span class="id" title="var">Hintritem</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htritemin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htritemin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">l2</span> <span class="id" title="var">Heqtr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfptf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfptf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfptf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr1</span> <span class="id" title="var">Htr2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tritem</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqtritem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintritem</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">input</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span>  <span class="id" title="var">Htr2</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="has_been_received_in_state_preloaded" class="idref" href="#has_been_received_in_state_preloaded"><span class="id" title="lemma">has_been_received_in_state_preloaded</span></a> <a id="s1:1017" class="idref" href="#s1:1017"><span class="id" title="binder">s1</span></a> <a id="m:1018" class="idref" href="#m:1018"><span class="id" title="binder">m</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s1:1017"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:1017"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:1018"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s0:1019" class="idref" href="#s0:1019"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>) (<a id="item:1020" class="idref" href="#item:1020"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>) (<a id="tr:1021" class="idref" href="#tr:1021"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#item:1020"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#m:1018"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.Equivocation.html#s0:1019"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#s1:1017"><span class="id" title="variable">s1</span></a> (<a class="idref" href="VLSM.Core.Equivocation.html#item:1020"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#tr:1021"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpsp</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hetr</span> := <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpsp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hetr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ist</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Hetr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">Hpsp</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhbr</span> <span class="id" title="var">ist</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hetr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hetr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfptf</span> <span class="id" title="var">Hisp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhbr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Hfptf</span> <span class="id" title="var">Hisp</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhbr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tritem</span> [<span class="id" title="var">Htritemin</span> <span class="id" title="var">Hintritem</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htritemin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htritemin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">l2</span> <span class="id" title="var">Heqtr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfptf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state.X"><span class="id" title="variable">X</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfptf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfptf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr1</span> <span class="id" title="var">Htr2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tritem</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqtritem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintritem</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">input</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span>  <span class="id" title="var">Htr2</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_in_state"><span class="id" title="section">has_been_received_in_state</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
