<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.EquationsExtras.html#"><span class="id" title="library">EquationsExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h1 class="section">Natural number utility definitions and lemmas</h1>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  Given a decidable property on naturals and a bound, finds the
  largest natural (not larger the than bound) for which the property holds.

</div>
<div class="code">
<span class="id" title="keyword">Equations</span> <a id="find_largest_nat_with_property_bounded" class="idref" href="#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a><br/>
&nbsp;&nbsp;(<a id="P:1" class="idref" href="#P:1"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">forall</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">n</span></a><a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">,</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">Decision</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">(</span></a><a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">P</span></a> <a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">n</span></a><a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:4" class="idref" href="#bound:4"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:6"><span class="id" title="variable">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">0</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:8"><span class="id" title="variable">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:11"><span class="id" title="variable">n</span></a> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">else</span> <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded:5"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_largest_nat_with_property_bounded_Some" class="idref" href="#find_largest_nat_with_property_bounded_Some"><span class="id" title="lemma">find_largest_nat_with_property_bounded_Some</span></a><br/>
&nbsp;&nbsp;(<a id="P:12" class="idref" href="#P:12"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">forall</span></a> <a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">n</span></a><a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">,</span></a> <a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">Decision</span></a> <a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">(</span></a><a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">P</span></a> <a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">n</span></a><a id="H:14" class="idref" href="#H:14"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:15" class="idref" href="#bound:15"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="n:16" class="idref" href="#n:16"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:15"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:16"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.Preamble.html#maximal_among"><span class="id" title="definition">maximal_among</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> (<span class="id" title="keyword">fun</span> <a id="n:17" class="idref" href="#n:17"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="VLSM.Lib.NatExtras.html#n:17"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:15"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:17"><span class="id" title="variable">n</span></a>) <a class="idref" href="VLSM.Lib.NatExtras.html#n:16"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bound</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_largest_nat_with_property_bounded</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">intros</span> []; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [= -&gt;]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">lia</span> | | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[<span class="id" title="var">Hn</span> <span class="id" title="var">HPn</span>] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">bound</span>)); [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>] | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">subst</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbound</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">subst</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [] ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_largest_nat_with_property_bounded_None" class="idref" href="#find_largest_nat_with_property_bounded_None"><span class="id" title="lemma">find_largest_nat_with_property_bounded_None</span></a><br/>
&nbsp;&nbsp;(<a id="P:18" class="idref" href="#P:18"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">forall</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">n</span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">,</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">Decision</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">(</span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">P</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">n</span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:21" class="idref" href="#bound:21"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:21"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.NatExtras.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:21"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:22"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bound</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_largest_nat_with_property_bounded</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbound</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span> <span class="id" title="var">bound</span>; [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given a predicate on indices and naturals, a bound for each index, and a
  list of indices, finds first index in the list and largest natural (less than
  bound) corresponding to it for which the predicate holds.

</div>
<div class="code">
<span class="id" title="keyword">Equations</span> <a id="find_first_indexed_largest_nat_with_propery_bounded" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> {<a id="index:23" class="idref" href="#index:23"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:24" class="idref" href="#P:24"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:23"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:25" class="idref" href="#RelDecision0:25"><span class="id" title="binder">!</span></a><a id="RelDecision0:25" class="idref" href="#RelDecision0:25"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:25" class="idref" href="#RelDecision0:25"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:26" class="idref" href="#bound:26"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:23"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:27" class="idref" href="#indices:27"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:23"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="var">index</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
| <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:32"><span class="id" title="variable">P</span></a>, <a class="idref" href="VLSM.Lib.NatExtras.html#bound:37"><span class="id" title="variable">bound</span></a>, <a class="idref" href="VLSM.Lib.NatExtras.html#i:42"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices':43"><span class="id" title="variable">indices'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Lib.EquationsExtras.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">i</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">i</span>)) =&gt;<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">eq</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#Hdec:44"><span class="id" title="variable">Hdec</span></a> =&gt; <a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded:28"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">bound</span> <span class="id" title="var">indices'</span>;<br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:58"><span class="id" title="variable">n</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">eq</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#Hdec:51"><span class="id" title="variable">Hdec</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_first_indexed_largest_nat_with_propery_bounded_Some" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded_Some"><span class="id" title="lemma">find_first_indexed_largest_nat_with_propery_bounded_Some</span></a> {<a id="index:59" class="idref" href="#index:59"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:60" class="idref" href="#P:60"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:61" class="idref" href="#RelDecision0:61"><span class="id" title="binder">!</span></a><a id="RelDecision0:61" class="idref" href="#RelDecision0:61"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:61" class="idref" href="#RelDecision0:61"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:62" class="idref" href="#bound:62"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:63" class="idref" href="#indices:63"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a>) (<a id="Hindices:64" class="idref" href="#Hindices:64"><span class="id" title="binder">Hindices</span></a> : <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:63"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a>) (<a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:60"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:62"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:63"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#i:65"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:66"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#i:65"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:63"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:60"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:65"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:62"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:65"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:66"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="prefix:67" class="idref" href="#prefix:67"><span class="id" title="binder">prefix</span></a> <a id="suffix:68" class="idref" href="#suffix:68"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#indices:63"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prefix:67"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#i:65"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#suffix:68"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="j:69" class="idref" href="#j:69"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:59"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.NatExtras.html#j:69"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prefix:67"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:60"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#j:69"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:62"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#j:69"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">indices</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_first_indexed_largest_nat_with_propery_bounded</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">inversion</span> 1 | <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hcontra</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hindices</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hindices</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a>  (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">_n</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span> <span class="id" title="var">_n</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| <span class="id" title="var">_i</span> <span class="id" title="var">prefix</span>] ? <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHindices</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposition</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| <span class="id" title="var">_a</span> <span class="id" title="var">prefix</span>] ? <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfirst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposi</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hi</span>]; [<span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prefix'</span> &amp; <span class="id" title="var">suffix</span> &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <span class="id" title="var">Hfirst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpos</span>; [| <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposi</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hi</span>]; [<span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHindices</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">prefix</span> <span class="id" title="var">suffix</span> -&gt; <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfirst</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_first_indexed_largest_nat_with_propery_bounded_None" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded_None"><span class="id" title="lemma">find_first_indexed_largest_nat_with_propery_bounded_None</span></a> {<a id="index:70" class="idref" href="#index:70"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:71" class="idref" href="#P:71"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:70"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:72" class="idref" href="#RelDecision0:72"><span class="id" title="binder">!</span></a><a id="RelDecision0:72" class="idref" href="#RelDecision0:72"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:72" class="idref" href="#RelDecision0:72"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:73" class="idref" href="#bound:73"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:70"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:74" class="idref" href="#indices:74"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:70"><span class="id" title="variable">index</span></a>) (<a id="Hindices:75" class="idref" href="#Hindices:75"><span class="id" title="binder">Hindices</span></a> : <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:74"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:71"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:73"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:74"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:76" class="idref" href="#i:76"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:70"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.NatExtras.html#i:76"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:74"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:71"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:76"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:73"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:76"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">indices</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_first_indexed_largest_nat_with_propery_bounded</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">inversion</span> 2 |] |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hindices</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hindices</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hp</span>; [<span class="id" title="var">done</span> | | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnone</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span>  [-&gt; | <span class="id" title="var">Hi</span>]; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHindices</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmin</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHindices</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmin</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
